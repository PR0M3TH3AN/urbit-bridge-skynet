(this.webpackJsonpbridge=this.webpackJsonpbridge||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"o",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"p",(function(){return L})),n.d(t,"s",(function(){return B})),n.d(t,"e",(function(){return U})),n.d(t,"u",(function(){return K})),n.d(t,"a",(function(){return W})),n.d(t,"d",(function(){return J})),n.d(t,"n",(function(){return q})),n.d(t,"q",(function(){return V})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return E})),n.d(t,"r",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"t",(function(){return R})),n.d(t,"m",(function(){return A})),n.d(t,"f",(function(){return D}));var r=n(6),a=n(19),c=n(2),s=n.n(c),i=n(15),o=n.n(i),u=n(0),l=["debug"],b=function(e){var t=e.debug,n=void 0!==t&&t,c=Object(a.a)(e,l);return Object(u.jsx)("main",Object(r.a)({className:o()("minh-100",{debug:n}),style:{position:"relative"}},c))},j=n(18),d=["as","gap","align","justify","className"],f=["as","full","half","third","fourth","rows","cols","justifySelf","alignSelf","className"],h=["color","className"],O=s.a.forwardRef((function(e,t){var n,c=e.as,s=void 0===c?"div":c,i=e.gap,l=void 0===i?0:i,b=e.align,f=e.justify,h=e.className,O=Object(a.a)(e,d);return Object(u.jsx)(s,Object(r.a)({ref:t,className:o()("grid12",l&&"gap".concat(l),(n={},Object(j.a)(n,"justify-".concat(f),f),Object(j.a)(n,"align-".concat(b),b),n),h)},O))}));O.Item=s.a.forwardRef((function(e,t){var n,c,s,i=e.as,l=void 0===i?"div":i,b=e.full,d=void 0!==b&&b,h=e.half,O=void 0===h?0:h,m=e.third,p=void 0===m?0:m,v=e.fourth,x=void 0===v?0:v,g=e.rows,w=void 0===g?[]:g,y=e.cols,N=void 0===y?[]:y,k=e.justifySelf,S=e.alignSelf,I=e.className,E=Object(a.a)(e,f);return Object(u.jsx)(l,Object(r.a)({ref:t,className:o()((n={full:d},Object(j.a)(n,"half-".concat(O),O),Object(j.a)(n,"third-".concat(p),p),Object(j.a)(n,"fourth-".concat(x),x),n),(c={},Object(j.a)(c,"r".concat(w[0],"-").concat(w[1]),2===w.length),Object(j.a)(c,"c".concat(N[0],"-").concat(N[1]),2===N.length),c),(s={},Object(j.a)(s,"justify-self-".concat(k),k),Object(j.a)(s,"align-self-".concat(S),S),s),I)},E))})),O.Divider=function(e){var t=e.color,n=void 0===t?"gray2":t,c=e.className,s=Object(a.a)(e,h);return Object(u.jsx)("div",Object(r.a)({className:o()("full","bt1 b-".concat(n),c)},s))};var m=O,p=["as","row","wrap","col","align","justify","className"],v=["as","flex","className"],x=s.a.forwardRef((function(e,t){var n,c=e.as,s=void 0===c?"div":c,i=e.row,l=void 0!==i&&i,b=e.wrap,d=void 0!==b&&b,f=e.col,h=void 0!==f&&f,O=e.align,m=e.justify,v=e.className,x=Object(a.a)(e,p);if(l&&h)throw new Error("Only one of row or col must be true, not both.");return Object(u.jsx)(s,Object(r.a)({ref:t,className:o()("flex",{"flex-row":l,"flex-col":h,"flex-wrap":d},(n={},Object(j.a)(n,"align-".concat(O),O),Object(j.a)(n,"justify-".concat(m),m),n),v)},x))}));x.Item=s.a.forwardRef((function(e,t){var n=e.as,c=void 0===n?"div":n,s=e.flex,i=e.className,l=Object(a.a)(e,v);return!0===s&&(s=1),Object(u.jsx)(c,Object(r.a)({ref:t,className:o()(Object(j.a)({},"flex".concat(s),s),i)},l))}));var g=x,w=n(50),y=["as","className"],N=function(e,t){return function(n){var c=n.as,s=void 0===c?e:c,i=n.className,l=Object(a.a)(n,y);return Object(u.jsx)(s,Object(r.a)({className:o()(t,i)},l))}},k=N("h1"),S=(N("h2"),N("h3")),I=N("h4"),E=N("h5"),C=(N("h6"),N("caption"),N("p")),T=N("b","fw-bold"),P=N("span","f6"),R=N("span"),A=N("span","f6 gray4"),D=N("span","f6 red3"),F=["type","name","label","className","accessory","labelAccessory","disabled","mono","obscure","onEnter","config"];function L(e){var t=e.type,n=e.name,c=e.label,s=e.className,i=e.accessory,l=e.labelAccessory,b=e.disabled,j=void 0!==b&&b,d=e.mono,f=void 0!==d&&d,h=(e.obscure,e.onEnter,e.config),O=Object(a.a)(e,F),m=Object(w.b)(n,h),p=m.input,v=m.meta,x=v.active,y=v.error,N=v.submitError,k=v.dirtySinceLastSubmit,S=v.submitting,I=v.submitSucceeded,E=v.touched,C=v.valid;j=j||S||I;var T="textarea"===t?"textarea":"input",P=E&&!x&&(!!y||!!N&&!k);return Object(u.jsxs)(g,{col:!0,className:o()(s,"mb1"),style:Object(r.a)({},j&&{pointerEvents:"none",cursor:"not-allowed"}),children:[Object(u.jsxs)(g.Item,{as:g,justify:"between",align:"center",className:o()("f6 lh-tall",{black:!j,gray4:j}),children:[Object(u.jsx)(g.Item,{as:"label",justify:"center",htmlFor:n,children:c}),l&&Object(u.jsx)(g.Item,{children:l})]}),Object(u.jsxs)(g.Item,{as:g,row:!0,className:"rel",children:[Object(u.jsx)(g.Item,Object(r.a)(Object(r.a)(Object(r.a)({flex:!0,as:T},O),{},{style:"textarea"===t?{minHeight:"calc(1.5rem * 3)"}:{},className:o()("b b1 p3 outline-none bs-none",{mono:f},{"bg-white":!j,"bg-gray1":j},{gray4:!(x||E),black:x||E},{"b-green3":C,"b-black":!C&&x,"b-yellow3":!C&&!x&&E,"b-gray2":!C&&!x&&!E}),id:n,name:n},p),{},{type:"textarea"===t?void 0:t})),i&&Object(u.jsx)("div",{className:"abs",style:{top:0,right:0,height:"100%",width:"calc(1.5em + 24px)",overflow:"hidden"},children:i})]}),P&&Object(u.jsx)(g.Item,{as:D,className:"mv1",children:y||N})]})}var M=n(10);function _(e){var t=Object.assign({},e);return Object(u.jsx)(g,Object(r.a)({justify:"center",align:"center",style:{height:"100%",width:"100%"}},t))}_.Pending=function(){return Object(u.jsx)(_,{children:"\u22ef"})},_.Success=function(){return Object(u.jsx)(_,{children:"\u2713"})},_.Failure=function(){return Object(u.jsx)(_,{children:"!"})};var W=_;function B(e){var t=e.name,n=e.label,a=e.placeholder,s=e.className,i=e.mono,l=void 0!==i&&i,b=e.options,j=void 0===b?[]:b,d=e.disabled,f=void 0!==d&&d,h=e.warning,O=Object(w.b)(t,{type:"select"}),m=O.input,p=O.meta,v=p.active,x=p.error,y=p.submitting,N=p.submitSucceeded,k=p.touched,S=p.valid;f=f||y||N;var I=Object(c.useState)(!1),E=Object(M.a)(I,2),C=E[0],T=E[1],P=Object(c.useRef)();!function(e,t){Object(c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}(P,Object(c.useCallback)((function(){return T(!1)}),[T]));var R=Object(c.useCallback)((function(){m.onFocus(),T((function(e){return!e}))}),[m]),A=j.find((function(e){return e.value===m.value})).text;return Object(u.jsxs)(g,{ref:P,className:o()(s,"mb1 us-none"),col:!0,style:Object(r.a)({},f&&{pointerEvents:"none",cursor:"not-allowed"}),children:[Object(u.jsx)(g.Item,{as:"label",className:"f6 lh-tall",htmlFor:t,children:n}),Object(u.jsxs)(g.Item,{as:g,row:!0,className:"rel pointer",onClick:R,children:[Object(u.jsx)(g.Item,{flex:!0,className:o()("b b1 p3 outline-none",{mono:l},{"bg-white":!f,"bg-gray1":f},{gray4:C,black:!C},{"b-green3":S,"b-black":!S&&v,"b-yellow3":!S&&!v&&k&&x,"b-gray2":!S&&!v&&!k&&!x}),id:t,name:t,children:C?a:A}),Object(u.jsx)("div",{className:"abs",style:{top:0,right:0,height:"100%",width:"44px",overflow:"hidden"},children:Object(u.jsx)(W,{className:"gray4",children:C?"\u25b2":"\u25bc"})}),C&&Object(u.jsx)(g,{col:!0,className:"abs bg-white b-black b1 z10",style:{top:"calc(100% + 4px)",left:0,right:0,overflow:"auto",maxHeight:"30vh"},children:j.map((function(e){return Object(u.jsx)(g.Item,{className:"pv2 ph3 hover-bg-grey3",onClick:function(t){var n;t.stopPropagation(),n=e.value,m.onChange({target:{value:n}}),m.onBlur(),T(!1)},children:e.text},e.value)}))})]}),h&&Object(u.jsx)(g.Item,{as:D,className:"mv1",children:h}),k&&!v&&x&&Object(u.jsx)(g.Item,{as:D,className:"mv1",children:x})]})}function U(e){var t=e.name,n=e.label,a=e.className,c=e.style,s=e.inline,i=void 0!==s&&s,l=e.white,b=void 0!==l&&l,j=e.disabled,d=Object(w.b)(t,{type:"checkbox"}),f=d.input,h=d.meta,O=h.submitting,m=h.submitSucceeded;return j=j||O||m,Object(u.jsxs)(g,{row:!0,align:"center",className:o()(a,{mv2:!i,black:!j,gray4:j}),style:Object(r.a)({},j&&{pointerEvents:"none",cursor:"not-allowed"}),children:[Object(u.jsx)(g.Item,Object(r.a)({as:"input",className:"super-hidden",id:t},f)),Object(u.jsxs)(g.Item,{flex:!0,as:"label",className:o()({mr3:!i},"f6 lh-tall us-none pointer flex-row align-center"),htmlFor:t,children:[Object(u.jsx)(g,{justify:"center",align:"center",className:o()("b1 p1",{mr3:!i,mr1:i,"bg-gray1":j,"bg-black white b-black":!j&&(f.checked||b),"bg-white black b-black":!j&&!f.checked}),style:Object(r.a)({height:"14px",width:"14px"},c),children:f.checked&&"\u2713"}),n]})]})}var H=["as","disabled","className","onClick","children"];function V(e){var t=e.as,n=void 0===t?"a":t,c=e.disabled,s=void 0!==c&&c,i=e.className,l=e.onClick,b=e.children,j=Object(a.a)(e,H);return Object(u.jsx)(n,Object(r.a)(Object(r.a)({onClick:!s&&l?l:void 0,style:Object(r.a)({},s&&{pointerEvents:"none",cursor:"not-allowed"}),className:o()("us-none pointer underline",{gray4:s},i),target:"_blank",rel:"noopener noreferrer"},j),{},{children:b}))}var z=["name","label","inverseLabel","inverseColor","small","className","disabled"];function K(e){var t=e.name,n=e.label,c=e.inverseLabel,s=e.inverseColor,i=void 0===s?"black":s,l=e.small,b=void 0!==l&&l,d=e.className,f=e.disabled,h=void 0!==f&&f,O=Object(a.a)(e,z),m=Object(w.b)(t,{type:"checkbox"}),p=m.input,v=m.meta,x=v.submitting,y=v.submitSucceeded;return h=h||x||y,Object(u.jsxs)(g,{className:d,row:!0,align:"center",style:Object(r.a)({},h&&{pointerEvents:"none",cursor:"not-allowed"}),children:[Object(u.jsx)(g.Item,Object(r.a)(Object(r.a)({as:"input"},O),{},{className:o()("super-hidden"),id:t,name:t},p)),Object(u.jsx)(g.Item,{flex:!0,as:"label",className:o()("f6 pv2 lh-tall us-none flex-row align-center",{pointer:!h}),htmlFor:t,children:Object(u.jsx)(V,{disabled:h,className:o()(Object(j.a)({f5:!b,f6:b,black:!p.checked},i,p.checked)),children:p.checked?c:n})})]})}var G=["as","solid","success","disabled","disabledDetail","detail","className","detailClassName","accessory","onClick","background","type","children","center"];function J(e){var t=e.as,n=void 0===t?"span":t,c=e.solid,s=void 0!==c&&c,i=e.success,l=void 0!==i&&i,b=e.disabled,j=void 0!==b&&b,d=e.disabledDetail,f=e.detail,h=e.className,O=e.detailClassName,p=e.accessory,v=void 0===p?"\u2192":p,x=e.onClick,w=e.background,y=e.type,N=e.children,k=e.center,S=void 0!==k&&k,I=Object(a.a)(e,G);return Object(u.jsxs)(m,Object(r.a)(Object(r.a)({as:n,gap:1,tabIndex:j?void 0:0,onKeyPress:function(e){"Enter"!==e.key||j||x()},className:o()("rel pointer pv4 truncate flex-row justify-between us-none",{p4:s},{"bg-green3":l&&!j,"bg-green1":l&&j,"bg-black":!l&&s&&!j,"bg-gray3":!l&&s&&j,"bg-transparent":!l&&!s},{white:s,black:!s&&!j,gray4:!s&&j},h),style:Object(r.a)({},j&&{pointerEvents:"none",cursor:"not-allowed"}),onClick:!j&&x?x:void 0},I),{},{children:[w,Object(u.jsxs)(m.Item,{full:!0,as:g,justify:"between",className:o()("z2",{"flex-center":S}),children:[Object(u.jsx)("span",{children:N}),y&&Object(u.jsx)("button",{type:y,style:{display:"none"}}),!S&&Object(u.jsx)("div",{className:o()("pl4"),children:v})]}),f&&Object(u.jsx)(m.Item,{full:!0,as:A,className:o()("z2",O),children:f}),j&&d&&Object(u.jsx)(m.Item,{full:!0,className:"f6 black mt1 z2",children:d})]}))}var Y=["children","className","onClick","disabled","secondary","solid","hpadding","vpadding"];function q(e){var t=e.children,n=e.className,c=e.onClick,s=e.disabled,i=void 0!==s&&s,l=e.secondary,b=void 0!==l&&l,j=e.solid,d=void 0!==j&&j,f=e.hpadding,h=void 0===f||f,O=e.vpadding,m=void 0===O||O,p=Object(a.a)(e,Y);return Object(u.jsx)(g,Object(r.a)(Object(r.a)({as:"a",align:"center",justify:"center",className:o()("pointer",{ph2:h,pv2:m},{"bg-black":d&&!b&&!i,"bg-gray3":d&&i||d&&b,"bg-gray2":!d&&b&&i,"bg-transparent":!d},{white:d,black:!d&&!i,gray4:!d&&i},n),style:Object(r.a)({width:"1rem",height:"1rem",fontSize:"1rem",fontWeight:"bold"},i&&{pointerEvents:"none",cursor:"not-allowed"}),onClick:c?function(){return!i&&c()}:void 0},p),{},{children:t}))}},101:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(34),a=n(10),c=n(2),s=n(42),i={};function o(e){var t=e.names,n=void 0===t?{}:t,o=e.views,u=void 0===o?{}:o,l=e.initialRoutes,b=void 0===l?[]:l,j=Object(c.useState)(b),d=Object(a.a)(j,2),f=d[0],h=d[1],O=Object(c.useRef)(),m=f.length,p=Object(c.useCallback)((function(e,t){if(!u[e])throw new Error("Invalid Route: ".concat(e,". Possible Routes: ").concat(Object.keys(u).join(", ")));h((function(n){return[].concat(Object(r.a)(n),[{key:e,data:t}])}))}),[h,u]),v=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!u[e])throw new Error("Invalid Route: ".concat(e,". Possible Routes: ").concat(Object.keys(u).join(", ")));h((function(n){return[].concat(Object(r.a)(n.slice(0,n.length-1)),[{key:e,data:t}])}))}),[h,u]),x=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!(m<=1))return window.history.pushState(null,null,null),h((function(t){return Object(r.a)(t.slice(0,t.length-e))}));O.current&&O.current()}),[m,h,O]),g=Object(c.useCallback)((function(e){var t=Object(s.findIndex)(f,(function(t){return t.key===e}));return x(f.length-1-t)}),[x,f]),w=Object(c.useCallback)((function(){return Object(s.last)(f)}),[f]),y=Object(c.useCallback)((function(e){return h((function(){return e}))}),[h]),N=Object(c.useCallback)((function(){return h(b)}),[h,b]),k=Object(c.useCallback)((function(e){return Object(s.includes)(f.map((function(e){return e.key})),e)}),[f]),S=Object(c.useMemo)((function(){return Object(s.get)(Object(s.last)(f),"data",i)}),[f]),I=Object(c.useMemo)((function(){return u[w().key]}),[u,w]);return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[f]),Object(c.useEffect)((function(){window.history.pushState(null,null,null)}),[]),Object(c.useEffect)((function(){return O.current=window.onpopstate,window.onpopstate=function(e){e&&e.stopImmediatePropagation(),x()},function(){window.onpopstate=O.current}}),[m,x,O]),{Route:I,names:n,routes:f,push:p,popAndPush:v,pop:x,popTo:g,replaceWith:y,reset:N,peek:w,size:m,includes:k,data:S}}},1013:function(e,t){},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r="warn",a=function(e){return!!e&&1===Object.keys(e).length&&!!e[r]}},103:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(256);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[null,null,null];return e[Object(r.b)()]}},1051:function(e,t){},1062:function(e,t){},1091:function(e,t,n){},1096:function(e,t,n){var r=n(124),a=r.Cell,c=r.Atom.yes;e.exports={flop:function(e){for(var t=c;;){if(c.equals(e))return t;if(!e.deep)throw new Error("Bail");t=new a(e.head,t),e=e.tail}},forEach:function(e,t){for(;;){if(c.equals(e))return;if(!e.deep)throw new Error("Bail");t(e.head),e=e.tail}}}},1097:function(e,t,n){var r=n(124),a=n(506).BigInteger,c=r.Atom.yes,s=r.Atom.no;function i(e,t){var n=t.number.bitLength(),r=n>>>e;return r<<e!==n?r+1:r}function o(e,t){return e.number.compareTo(t.number)>0}function u(e,t){var n=e.number.subtract(t.number);if(n.signum<0)throw new Error("subtract underflow");return new r.Atom.Atom(n)}function l(e){var t,n,r,a=e.length,c=a%4;if(c>0)for(a+=4-c,t=0;t<c;++t)e.push(0);var s=a>>2,i=new Array(s);for(t=0,n=0;t<s;++t)r=e[n++]<<0&255,r^=e[n++]<<8&65280,r^=e[n++]<<16&16711680,r^=e[n++]<<24&4278190080,i[t]=r;return i}function b(e){var t,n,r,a=[];for(n=0,r=0;n<e.length;++n)t=e[n],a[r++]=255&t,a[r++]=255&(65280&t)>>>8,a[r++]=255&(16711680&t)>>>16,a[r++]=255&(4278190080&t)>>>24;for(;0===a[--r];)a.pop();return a}function j(e){for(var t,n=[],c=e.length-1;c>=0;--c)t=255&e[c],n.push(t<16?"0"+t.toString(16):t.toString(16));return new r.Atom.Atom(new a(n.join(""),16))}function d(e){return e.bytes()}function f(e){return l(d(e))}function h(e){return j(b(e))}var O=h;function m(e,t){return new Array(31+(t<<e)>>>5)}function p(e,t,n,r,a,c){var s,i,o,u,l,b,j,d,h,O,m,p,v,x,g=f(c),w=g.length;if(e<5)for(o=(1<<(j=1<<e))-1,u=t<<e,l=r<<e,s=0;s<n;++s)m=31&u,p=l>>>5,v=31&l,x=(x=(O=u>>>5)>=w?0:g[O])>>>m&o,a[p]^=x<<v,u+=j,l+=j;else for(j=1<<(b=e-5),s=0;s<n;++s)for(d=t+s<<b,h=r+s<<b,i=0;i<j;++i)a[h+i]^=d+i>=w?0:g[d+i]}var v=r.Atom.fromInt(4294967295),x=r.Atom.fromInt(32);e.exports={met:i,cut:function(e,t,n,r){var a=e.number.intValue(),s=t.number.intValue(),o=n.number.intValue(),u=i(a,r);if(c.equals(n)||s>=u)return c;if(s+o>u&&(o=u-t),0===s&&o===u)return r;var l=m(a,o);return p(a,s,o,0,l,r),O(l)},add:function(e,t){return new r.Atom.Atom(e.number.add(t.number))},sub:u,dec:function(e){return u(e,s)},gth:o,lth:function(e,t){return e.number.compareTo(t.number)<0},gte:function(e,t){return e.number.compareTo(t.number)>=0},lte:function(e,t){return e.number.compareTo(t.number)<=0},bex:function(e){return new r.Atom.Atom(a.ONE.shiftLeft(e.number.intValue()))},lsh:function(e,t,n){var a=t.number.shiftLeft(e.number.intValue()).intValue();return new r.Atom.Atom(n.number.shiftLeft(a))},rsh:function(e,t,n){var a=t.number.shiftLeft(e.number.intValue()).intValue();return new r.Atom.Atom(n.number.shiftRight(a))},end:function(e,t,n){if(o(e,x))throw new Error("Fail");if(o(t,v))return n;var r=e.number.intValue(),a=t.number.intValue(),s=i(r,n);if(0===a)return c;if(a>=s)return n;var u=m(r,a);return p(r,0,a,0,u,n),O(u)},mix:function(e,t){return new r.Atom.Atom(e.number.xor(t.number))},cat:function(e,t,n){if(o(e,x))throw new Error("Fail");var r=e.number.intValue(),a=i(r,t),s=i(r,n),u=a+s;if(0===u)return c;var l=m(r,u);return p(r,0,a,0,l,t),p(r,0,s,a,l,n),O(l)},can:function(e,t){if(o(e,x))throw new Error("Fail");for(var n,r,a,s,i=e.number.intValue(),u=0,l=t;!c.equals(l);){if(!l.deep)throw new Error("Fail");if(!(r=l.head).deep)throw new Error("Fail");if(a=r.head,s=r.tail,o(a,v))throw new Error("Fail");if(s.deep)throw new Error("Fail");if(u+a<u)throw new Error("Fail");u+=a,l=l.tail}if(0===u)return c;var b=m(i,u);for(l=t,n=0;!c.equals(l);)p(i,0,a=(r=l.head).head.number.intValue(),n,b,s=r.tail),n+=a,l=l.tail;return O(b)},bytesToWords:l,wordsToBytes:b,bytesToAtom:j,atomToBytes:d,atomToWords:f,wordsToAtom:h}},1098:function(e,t){function n(){}function r(){n.call(this),this.slots=new Array(32)}function a(){this.singles=[]}function c(e,t){n.call(this),this.key=e,this.val=t}function s(){this.slots=new Array(64)}r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.insert=function(e,t,n,r){var a;return a=r>>>(n-=5),r&=(1<<n)-1,this.slots[a]=void 0===this.slots[a]?new c(e,t):this.slots[a].insert(e,t,n,r),this},r.prototype.get=function(e,t,n){var r,a;return r=n>>>(t-=5),n&=(1<<t)-1,void 0===(a=this.slots[r])?void 0:a.get(e,t,n)},a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.prototype.insert=function(e,t,n,r){for(var a,s=this.singles,i=0;i<s.length;++i)if((a=s[i]).key.equals(e))return a.val=t,this;return s.push(new c(e,t)),this},a.prototype.get=function(e,t,n){for(var r,a=this.singles,c=0;c<a.length;++c)if((r=a[c]).key.equals(e))return r.val},c.prototype=Object.create(n.prototype),c.prototype.constructor=c,c.prototype.insert=function(e,t,n,c){if(this.key.equals(e))return this.val=t,this;var s,i=this.key.mug()&(1<<n)-1;return(s=n>0?new r:new a).insert(this.key,this.val,n,i),s.insert(e,t,n,c),s},c.prototype.get=function(e,t,n){return this.key.equals(e)?this.val:void 0},s.prototype.insert=function(e,t){var n=e.mug(),r=n>>>25,a=this.slots;if(void 0===a[r])a[r]=new c(e,t);else{var s=33554431&n;a[r]=a[r].insert(e,t,25,s)}},s.prototype.get=function(e){var t=e.mug(),n=t>>>25,r=this.slots[n];if(void 0!==r){var a=33554431&t;return r.get(e,25,a)}},e.exports={NounMap:s}},1101:function(e,t,n){},1102:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(171),s=n.n(c),i=n(10),o=n(9),u=n(1),l=n(56),b=n(0);function j(){var e=Object(l.b)().Route;return Object(b.jsx)(e,{})}var d=n(19),f=["children"],h=n(6),O={ONLINE:Symbol("ONLINE"),OFFLINE:Symbol("OFFLINE"),UNKNOWN:Symbol("UNKNOWN")},m=function(){return"onLine"in navigator?navigator.onLine?O.ONLINE:O.OFFLINE:O.UNKNOWN};var p=Object(r.createContext)(null);var v=n(23),x=n(28),g=n(25),w=n(3),y=n.n(w),N=n(18),k=n(11),S=n(209),I=n(34),E=n(17);function C(e,t){return Object(I.a)(Array(e).keys()).map(t)}function T(e,t,n,r){var a=P(e,t,n,r),c=Object(S.a)(a),s=c[0],i=c.slice(1),o=function(e,t,n){return C(t,(function(){return E.linearSR.withdrawTo(e,n)}))}(e,s,r);return[].concat(Object(I.a)(i),Object(I.a)(o))}function P(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(n<=0)return[0];if(0===t.length)return[n];var c=Object(S.a)(t),s=c[0],i=c.slice(1),o=Math.min(n,s);return[].concat(Object(I.a)(P(e,i,n-o,r,a+1)),Object(I.a)(C(o,(function(){return E.conditionalSR.withdrawTo(e,a,r)}))))}function R(e,t){return A.apply(this,arguments)}function A(){return(A=Object(k.a)(y.a.mark((function e(t,n){var r,a,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.conditionalSR.getCommitment(t,n);case 2:return r=e.sent,e.next=5,E.linearSR.getBatch(t,n);case 5:if(a=e.sent,c=r.total>0,s=a.amount>0,!c||s){e.next=10;break}return e.abrupt("return","conditional");case 10:if(c||!s){e.next=12;break}return e.abrupt("return","linear");case 12:if(!c||!s){e.next=14;break}return e.abrupt("return","both");case 14:return e.abrupt("return","none");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return F.apply(this,arguments)}function F(){return(F=Object(k.a)(y.a.mark((function e(t,n){var r,a,c,s,o,u,l,b,j,d,f,h,O,m,p;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E.conditionalSR.getCommitment(t,n),E.conditionalSR.getBatches(t,n),E.conditionalSR.getRemainingStars(t,n)]);case 2:if(r=e.sent,a=Object(i.a)(r,3),c=a[0],s=a[1],o=a[2],s!==[]&&"0"!==c.total){e.next=9;break}return e.abrupt("return",{total:0,available:0,withdrawn:0,batchLimits:[]});case 9:return u=o.length,l=u,e.next=13,Promise.all(s.map((function(e,r){return E.conditionalSR.getWithdrawLimit(t,n,r)})));case 13:return b=e.sent.map((function(e){return parseInt(e)})),e.next=16,E.conditionalSR.getWithdrawn(t,n);case 16:return j=e.sent.map((function(e){return parseInt(e)})),e.next=19,E.conditionalSR.getForfeited(t,n);case 19:d=e.sent,f=[],h=0;case 22:if(!(h<b.length)){e.next=36;break}if(!d[h]&&0!==l){e.next=26;break}return f.push(0),e.abrupt("continue",33);case 26:if(O=b[h]-j[h],!(l<O)){e.next=31;break}return f.push(l),l=0,e.abrupt("continue",33);case 31:f.push(O),l-=O;case 33:h++,e.next=22;break;case 36:return m=j.reduce((function(e,t){return e+t}),0),p=f.reduce((function(e,t){return e+t}),0),e.abrupt("return",{total:u,available:p,withdrawn:m,batchLimits:f,approvedTransferTo:c.approvedTransferTo});case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return M.apply(this,arguments)}function M(){return(M=Object(k.a)(y.a.mark((function e(t,n){var r,a,c,s,i,o,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.linearSR.getBatch(t,n);case 2:if(r=e.sent,a=parseInt(r.amount),c=parseInt(r.withdrawn),0!==a){e.next=7;break}return e.abrupt("return",{available:0,withdrawn:0,total:0});case 7:return e.next=9,E.linearSR.getWithdrawLimit(t,n);case 9:return s=e.sent,e.next=12,E.linearSR.getRemainingStars(t,n);case 12:return i=e.sent.length,o=Math.min(s-c,i),u=Math.min(a,i),e.abrupt("return",{available:o,withdrawn:c,total:u,approvedTransferTo:r.approvedTransferTo});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=Object(r.createContext)(null);function W(){return Object(r.useContext)(_)}var B=n(158),U=n.n(B);var H=n(42);var V={availableInvites:Object(o.Nothing)(),sentInvites:Object(o.Nothing)(),acceptedInvites:Object(o.Nothing)(),acceptedPoints:Object(o.Nothing)(),pendingPoints:Object(o.Nothing)()};function z(){var e=Object(v.b)().contracts,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useRef)(e),n=Object(r.useState)(e),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useCallback)((function(e){return s((function(t){return Object(h.a)(Object(h.a)({},t),e)}))}),[s]),u=Object(r.useCallback)((function(){return s(t.current)}),[s]);return[c,o,u]}({}),n=Object(i.a)(t,2),a=n[0],c=n[1];return{getInvites:Object(r.useCallback)((function(e){return a[e]||V}),[a]),syncInvites:Object(r.useCallback)(function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a,s,u,l,b,j,d,f,h,O,m;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getOrElse(null)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Promise.all([E.delegatedSending.getTotalUsableInvites(r,n),E.delegatedSending.getInvited(r,n)]);case 5:return a=t.sent,s=Object(i.a)(a,2),u=s[0],l=s[1],t.next=11,Promise.all(l.map((function(e){return E.azimuth.isActive(r,e)})));case 11:b=t.sent,j=l.length,d=b.filter((function(e){return!!e})).length,f=Object(H.chain)(l).zipWith(b,(function(e,t){return{point:e,active:!!t}})).partition("active").map((function(e){return e.map((function(e){return e.point}))})).value(),h=Object(i.a)(f,2),O=h[0],m=h[1],c(Object(N.a)({},n,{availableInvites:Object(o.Just)(u),sentInvites:Object(o.Just)(j),acceptedInvites:Object(o.Just)(d),pendingPoints:Object(o.Just)(m),acceptedPoints:Object(o.Just)(O)}));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,c])}}var K=n(92),G=function(e){return function(t){return t||e(),t.matchWith({Nothing:e,Just:function(e){return e.value}})}},J=G((function(){throw new Error(K.a.MISSING_POINT_DETAILS)})),Y=G((function(){throw new Error(K.a.MISSING_WEB3)})),q=G((function(){throw new Error(K.a.MISSING_CONTRACTS)})),Z=G((function(){throw new Error(K.a.MISSING_WALLET)})),X=G((function(){throw new Error(K.a.MISSING_URBIT_WALLET)})),$=function(e){return Z(e).address},Q=G((function(){throw new Error(K.a.MISSING_POINT)})),ee=(G((function(){throw new Error(K.a.MISSING_POINT)})),{residentCount:Object(o.Nothing)(),requestCount:Object(o.Nothing)(),residents:Object(o.Nothing)(),requests:Object(o.Nothing)()});var te=["syncDetails"],ne=["syncBirthday"],re=["syncRekeyDate"],ae=["syncInvites"],ce=["syncControlledPoints"],se=["syncResidents","syncResidentCount"];function ie(){var e=function(){var e=Object(v.b)().contracts,t=Object(r.useState)({}),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useCallback)((function(e){return c((function(t){return Object(h.a)(Object(h.a)({},t),e)}))}),[c]),u=Object(r.useCallback)((function(e){return e in a?Object(o.Just)(a[e]):Object(o.Nothing)()}),[a]),l=Object(r.useCallback)(function(){var t=Object(k.a)(y.a.mark((function t(n){var r,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getOrElse(null)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,E.azimuth.getPoint(r,n);case 5:a=t.sent,s(Object(N.a)({},n,a));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,s]);return{pointCache:a,getDetails:u,syncDetails:l}}(),t=e.syncDetails,n=Object(d.a)(e,te),a=function(){var e=Object(v.b)(),t=e.contracts,n=e.web3,a=Object(r.useState)({}),c=Object(i.a)(a,2),s=c[0],u=c[1],l=Object(r.useCallback)((function(e){return u((function(t){return Object(h.a)(Object(h.a)({},t),e)}))}),[u]),b=Object(r.useCallback)((function(e){return s[e]||Object(o.Nothing)()}),[s]),j=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(r){var a,c,s,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getOrElse(null),c=n.getOrElse(null),a&&c){e.next=4;break}return e.abrupt("return");case 4:if(!o.Just.hasInstance(b(r))){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,E.azimuth.getActivationBlock(a,r);case 8:if(!((s=e.sent)>0)){e.next=16;break}return e.next=12,c.eth.getBlock(s);case 12:i=e.sent,l(Object(N.a)({},r,Object(o.Just)(new Date(1e3*i.timestamp)))),e.next=17;break;case 16:l(Object(N.a)({},r,Object(o.Just)(new Date)));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n,l,b]);return{getBirthday:b,syncBirthday:j}}(),c=a.syncBirthday,s=Object(d.a)(a,ne),u=function(){var e=Object(v.b)(),t=e.web3,n=e.contracts,a=Object(r.useState)({}),c=Object(i.a)(a,2),s=c[0],u=c[1],l=Object(r.useCallback)((function(e){return u((function(t){return Object(h.a)(Object(h.a)({},t),e)}))}),[u]);return{getRekeyDate:Object(r.useCallback)((function(e){return s[e]||Object(o.Nothing)()}),[s]),syncRekeyDate:Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(r){var a,c,s,i,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getOrElse(null),c=n.getOrElse(null),a&&c){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,c.azimuth.getPastEvents("ChangedKeys",{fromBlock:0,toBlock:"latest",filter:{point:[r]}});case 6:if(s=e.sent,e.prev=7,0!==s.length){e.next=10;break}throw new Error("No logs available.");case 10:if(null!==(i=s[s.length-1].blockNumber)){e.next=13;break}throw new Error("Latest rekey is still pending");case 13:return e.next=15,a.eth.getBlock(i);case 15:u=e.sent,l(Object(N.a)({},r,Object(o.Just)(U.a.Ok(new Date(1e3*u.timestamp))))),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),l(Object(N.a)({},r,Object(o.Just)(U.a.Error("No rekey date available."))));case 22:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t){return e.apply(this,arguments)}}(),[t,n,l])}}(),l=u.syncRekeyDate,b=Object(d.a)(u,re),j=z(),f=j.syncInvites,O=Object(d.a)(j,ae),m=function(){var e=Object(v.b)().contracts,t=Object(x.b)().wallet,n=Object(r.useState)(Object(o.Nothing)()),a=Object(i.a)(n,2),c=a[0],s=a[1],u=Object(r.useCallback)(Object(k.a)(y.a.mark((function n(){var r,a,c,u,l,b,j,d,f,h;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.getOrElse(null),a=t.getOrElse(null),r&&a){n.next=4;break}return n.abrupt("return");case 4:return s(Object(o.Nothing)()),c=a.address,n.prev=6,n.next=9,Promise.all([E.azimuth.getOwnedPoints(r,c),E.azimuth.getTransferringFor(r,c),E.azimuth.getManagerFor(r,c),E.azimuth.getVotingFor(r,c),E.azimuth.getSpawningFor(r,c)]);case 9:u=n.sent,l=Object(i.a)(u,5),b=l[0],j=l[1],d=l[2],f=l[3],h=l[4],s(null===b&&null===j&&null===d&&null===f&&null===h?Object(o.Just)(U.a.Error("Failed to read the blockchain.")):Object(o.Just)(U.a.Ok({ownedPoints:b,incomingPoints:j,managingPoints:d,votingPoints:f,spawningPoints:h}))),n.next=23;break;case 19:n.prev=19,n.t0=n.catch(6),console.error("failed to fetch controlled points",n.t0),s(Object(o.Just)(U.a.Error(n.t0)));case 23:case"end":return n.stop()}}),n,null,[[6,19]])}))),[e,t]);return Object(r.useEffect)((function(){u()}),[u]),{controlledPoints:c,syncControlledPoints:u}}(),p=m.syncControlledPoints,g=Object(d.a)(m,ce),w=function(){var e=Object(r.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useCallback)((function(e,t){return a((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(N.a)({},e,t))}))}),[a]),s=Object(r.useCallback)((function(e){return n[e]||ee}),[n]),u=Object(v.b)().contracts,l=q(u),b=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,a,u,b,j,d,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.azimuth.getPointSize(t),!o.Just.hasInstance(s(t).residents)){e.next=3;break}return e.abrupt("return");case 3:if(n!==E.azimuth.PointSize.Planet){e.next=6;break}return c(t,{residentCount:Object(o.Just)(0),requestCount:Object(o.Just)(0),requests:Object(o.Just)([]),residents:Object(o.Just)([])}),e.abrupt("return");case 6:return r=n===E.azimuth.PointSize.Galaxy,e.next=9,Promise.all([E.azimuth.getSponsoringCount(l,t),E.azimuth.getEscapeRequestsCount(l,t)]);case 9:a=e.sent,u=Object(i.a)(a,2),b=u[0],j=u[1],d=Number(b),f=r?d-1:d,c(t,{residentCount:Object(o.Just)(f),requestCount:Object(o.Just)(Number(j)),residents:Object(o.Nothing)(),requests:Object(o.Nothing)()});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,l,s]),j=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,a,s,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.azimuth.getPointSize(t)!==E.azimuth.PointSize.Planet){e.next=3;break}return c(t,{residentCount:Object(o.Just)(0),requestCount:Object(o.Just)(0),requests:Object(o.Just)([]),residents:Object(o.Just)([])}),e.abrupt("return");case 3:return e.next=5,Promise.all([E.azimuth.getSponsoring(l,t),E.azimuth.getEscapeRequests(l,t)]);case 5:n=e.sent,r=Object(i.a)(n,2),a=r[0],s=r[1],u=a.filter((function(e){return e!==t})),c(t,{residentCount:Object(o.Just)(u.length),requestCount:Object(o.Just)(s.length),residents:Object(o.Just)(u),requests:Object(o.Just)(s)});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,l]);return{getResidents:s,syncResidentCount:b,syncResidents:j}}(),S=w.syncResidents,I=w.syncResidentCount,C=Object(d.a)(w,se),T=function(){var e=Object(v.b)().contracts,t=Object(r.useState)(null),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useCallback)(Object(k.a)(y.a.mark((function t(){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=2;break}return t.abrupt("return");case 2:if(n=e.getOrElse(null)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,E.ecliptic.owner(n);case 7:r=t.sent,c(r);case 9:case"end":return t.stop()}}),t)}))),[e,a]);return{eclipticOwner:a,syncEclipticOwner:s}}(),P=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([c(t),l(t)]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,l]),R=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t(n),P(n),I(n),f(n)]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P,t,f,I]);return Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)(Object(h.a)({},n),s),b),O),g),T),C),{},{syncDetails:t,syncRekeyDate:l,syncInvites:f,syncControlledPoints:p,syncDates:P,syncResidents:S,syncExtras:R})}var oe=Object(r.createContext)(null);function ue(){return Object(r.useContext)(oe)}var le=Object(r.createContext)(null);var be=n(256),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){var n=t.children,a=Object(d.a)(t,f);return e.map(r.createFactory).reduceRight((function(e,t){return t(a,e)}),n)}}([l.a,function(e){var t=e.children,n=function(){var e=Object(r.useState)(m()),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(e){a(m())}return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[]),n}();return Object(b.jsx)(p.Provider,{value:n,children:t})},v.a,x.a,g.a,function(e){var t=e.children,n=ie();return Object(b.jsx)(oe.Provider,{value:n,children:t})},function(e){var t=e.children,n=function(){var e=Object(r.useState)({}),t=Object(i.a)(e,2);return{txnCursor:t[0],setTxnCursor:t[1]}}();return Object(b.jsx)(le.Provider,{value:n,children:t})},be.a,function(e){var t=e.children,n=function(){var e=Object(v.b)().contracts,t=Object(x.b)().wallet,n=Object(r.useState)(Object(o.Nothing)()),a=Object(i.a)(n,2),c=a[0],s=a[1],u=Object(r.useState)([]),l=Object(i.a)(u,2),b=l[0],j=l[1];return{starReleaseDetails:c,syncStarReleaseDetails:Object(r.useCallback)(Object(k.a)(y.a.mark((function n(){var r,a,c,u,l,b,d,f,O,m;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.getOrElse(null),(a=e.getOrElse(null))&&r){n.next=4;break}return n.abrupt("return");case 4:return s(Object(o.Nothing)()),c=r.address,n.prev=6,n.next=9,Promise.all([L(a,c),D(a,c),R(a,c)]);case 9:u=n.sent,l=Object(i.a)(u,3),b=l[0],d=l[1],f=l[2],O=Object.keys(b),(m=O.reduce((function(e,t){return Object(h.a)(Object(h.a)({},e),{},Object(N.a)({},t,b[t]+d[t]))}),{})).kind=f,m.linear={approvedTransferTo:b.approvedTransferTo},m.conditional={approvedTransferTo:d.approvedTransferTo},j(d.batchLimits),s(Object(o.Just)(m)),n.next=27;break;case 23:n.prev=23,n.t0=n.catch(6),s(Object(o.Just)(null)),console.error("error fetching star release details",n.t0);case 27:case"end":return n.stop()}}),n,null,[[6,23]])}))),[e,t]),withdraw:Object(r.useCallback)((function(n,r){var a=t.getOrElse(null),c=e.getOrElse(null);return c&&a?T(c,b,n,r):[]}),[b,e,t])}}();return Object(b.jsx)(_.Provider,{value:n,children:t})}]),de={DEFAULT:Symbol("DEFAULT"),DISCLAIMER:Symbol("DISCLAIMER"),ACTIVATE:Symbol("ACTIVATE"),INVITE_TRANSACTIONS:Symbol("INVITE_TRANSACTIONS"),INVITES_MANAGE:Symbol("INVITES_MANAGE"),LOGIN:Symbol("LOGIN"),LOGIN_OTHER:Symbol("OTHER"),REDOWNLOAD:Symbol("REDOWNLOAD"),RETICKET:Symbol("RETICKET"),PERMISSIONS:Symbol("PERMISSIONS"),ACCEPT_TRANSFER:Symbol("ACCEPT_TRANSFER"),CANCEL_TRANSFER:Symbol("CANCEL_TRANSFER"),POINTS:Symbol("POINTS"),POINT:Symbol("POINT"),SIGIL_GENERATOR:Symbol("SIGIL_GENERATOR"),CREATE_GALAXY:Symbol("CREATE_GALAXY"),SENATE:Symbol("SENATE"),DOCUMENTS:Symbol("DOCUMENTS"),UPGRADES:Symbol("UPGRADES"),ISSUE_CHILD:Symbol("ISSUE_CHILD"),PARTY_SET_POOL_SIZE:Symbol("PARTY_SET_POOL_SIZE"),INVITE_COHORT:Symbol("INVITE_COHORT"),STAR_RELEASE:Symbol("STAR_RELEASE"),ACCEPT_LOCKUP:Symbol("ACCEPT_LOCKUP"),URBIT_OS:Symbol("URBIT_OS"),URBIT_ID:Symbol("URBIT_ID"),RESIDENTS:Symbol("RESIDENTS"),ADOPT:Symbol("ADOPT"),BITCOIN:Symbol("BITCOIN"),BITCOIN_XPUB:Symbol("BITCOIN_XPUB"),BITCOIN_SIGN_TRANSACTION:Symbol("BITCOIN_SIGN_TRANSACTION")},fe=n(15),he=n.n(fe);function Oe(e,t){var n=Object(r.useState)((function(){try{var n=localStorage.getItem(e);return null===n?(localStorage.setItem(e,JSON.stringify(t)),t):JSON.parse(n)}catch(r){return t}})),a=Object(i.a)(n,2),c=a[0],s=a[1];return[c,Object(r.useCallback)((function(t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){}s(t)}),[e])]}function me(){return Oe("bridge:has-disclaimed",!1)}var pe=n(26),ve=n(43);function xe(e){var t=e.className,n=e.children;return Object(b.jsx)(u.g,{className:he()("bg-red1 pv3 ph4",t),align:"center",children:Object(b.jsx)(u.t,{className:"f6 fw-bold red3",children:n})})}var ge=n(35),we=n(54),ye=n(22),Ne="f5";function ke(){var e=Object(pe.b)(),t=e.pop,n=e.popAndPush,a=e.data,c=me(),s=Object(i.a)(c,2)[1],o=Object(r.useMemo)((function(){return Object(ye.r)({checkbox:Object(ye.d)(!0)})}),[]),l=Object(r.useMemo)((function(){return{checkbox:!1}}),[]),j=Object(r.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!0),a.next?n(a.next):t();case 2:case"end":return e.stop()}}),e)}))),[a,t,n,s]);return Object(b.jsx)(ve.a,{children:Object(b.jsxs)(u.h,{gap:2,className:"mt8 mb10",children:[Object(b.jsx)(u.h.Item,{as:u.j,full:!0,children:"Disclaimer"}),Object(b.jsxs)(u.h.Item,{full:!0,children:[Object(b.jsx)(u.t,{className:he()(Ne,"block mb4"),children:"Welcome to Bridge. Please read this information. Your assets could be stolen if you do not pay attention to these warnings."}),Object(b.jsxs)(u.t,{className:he()(Ne,"block mb4"),children:[Object(b.jsx)(u.b,{children:"You own and control your assets. We do not."})," If you send your assets to another address, we can\u2019t get them back for you."]}),Object(b.jsx)(u.b,{className:Ne,children:"Please understand that nobody can:"}),Object(b.jsxs)(u.t,{className:he()(Ne,"block mb4"),children:["1. Access your assets for you ",Object(b.jsx)("br",{}),"2. Recover, reset, or modify ANY of your information ",Object(b.jsx)("br",{}),"3. Reverse, cancel, or refund transactions ",Object(b.jsx)("br",{}),"4. Hold, back-up, or access your keys"]}),Object(b.jsx)(u.b,{className:Ne,children:"You\u2019re responsible for keeping your information safe. This includes:"}),Object(b.jsxs)(u.t,{className:he()(Ne,"block mb4"),children:["1. Private Keys/Mnemonic Phrases and passwords ",Object(b.jsx)("br",{}),"2. JSON files ",Object(b.jsx)("br",{}),"3. Hardware wallet PINs; ",Object(b.jsx)("br",{}),"4. Downloading this software from a reliable site, and ensuring it has not been tampered with."]}),Object(b.jsx)(u.b,{className:Ne,children:"To be clear"}),Object(b.jsx)(u.t,{className:he()(Ne,"block"),children:"This software is provided \u201cas is\u201d without warranties of any kind and our liability to you in connection with the same is limited;"}),Object(b.jsx)(u.t,{className:he()(Ne,"block"),children:"We have no liability for any security problems or incidents that you may experience, including any loss or theft of your keys or any problems that may arise in connection with your wallet."})]}),Object(b.jsx)(u.h.Item,{full:!0,as:xe,children:"Warning: Nobody but you can restore or reset your Master Ticket"}),Object(b.jsx)(ge.a,{validate:o,afterSubmit:j,initialValues:l,children:function(e){var t=e.handleSubmit;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.e,name:"checkbox",label:"I acknowledge and understand these rights"}),Object(b.jsx)(u.h.Item,{full:!0,as:we.a,handleSubmit:t,children:"Continue"})]})}})]})})}var Se=n(62),Ie=n(36),Ee="takeLockup",Ce="btc",Te="xpub",Pe=function(){return Object(r.useMemo)((function(){var e={};if(window.location.search.substr(1).split("&").forEach((function(t){if(""!==t){var n=t.split("=");e[n[0]]=n.length<=1||decodeURIComponent(n[1])}})),"object"===typeof e)switch(e.kind){case Ee:e.lock=e.lock||"linear",("linear"!==e.lock&&"conditional"!==e.lock||!Object(Ie.d)(e.from))&&(e=null);break;case Ce:try{atob(e.utx)}catch(t){e=null}break;case Te:break;default:console.log("unrecognized kind of flow:",e.kind);case void 0:e=null}else e=null;return e}),[])},Re=n(113),Ae=n(115),De=n(53),Fe=n(81),Le=n(20),Me=n(33),_e=n.n(Me),We=n(88);var Be,Ue,He=n(82),Ve=n(76),ze=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Ke=n(73),Ge=n(39),Je=n(45),Ye=n(102),qe=["title","titleId"];function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $e(e,t){var n=e.title,a=e.titleId,c=Xe(e,qe);return r.createElement("svg",Ze({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Be||(Be=r.createElement("rect",{width:16,height:16,fill:"white"})),Ue||(Ue=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 13C13.0495 13 16 8 16 8C16 8 13.0495 3 8 3C2.95054 3 0 8 0 8C0 8 2.95054 13 8 13ZM8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z",fill:"#B1B2B3"})))}var Qe,et,tt,nt,rt=r.forwardRef($e),at=(n.p,["title","titleId"]);function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function st(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function it(e,t){var n=e.title,a=e.titleId,c=st(e,at);return r.createElement("svg",ct({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Qe||(Qe=r.createElement("rect",{width:16,height:16,fill:"white"})),et||(et=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 13C13.0495 13 16 8 16 8C16 8 13.0495 3 8 3C2.95054 3 0 8 0 8C0 8 2.95054 13 8 13ZM8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z",fill:"black"})),tt||(tt=r.createElement("g",{filter:"url(#filter0_d)"},r.createElement("path",{d:"M2 2.70588L2.70588 2L14 13.2941L13.2941 14L2 2.70588Z",fill:"black"}))),nt||(nt=r.createElement("defs",null,r.createElement("filter",{id:"filter0_d",x:1,y:2,width:13,height:12,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",{dx:-1}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))}var ot=r.forwardRef(it);n.p;function ut(){return Object(b.jsxs)(u.g.Item,{as:u.g,children:[Object(b.jsxs)(Ke.a,{when:"useAdvanced",is:!0,children:[Object(b.jsx)(u.g.Item,{as:u.e,inline:!0,white:!0,className:"mr4",name:"usePassphrase",label:"Passphrase",style:{boxSizing:"border-box"}}),Object(b.jsx)(u.g.Item,{as:u.e,inline:!0,white:!0,className:"mr4",name:"useShards",label:"Shards",style:{boxSizing:"border-box"}})]}),Object(b.jsx)(u.g.Item,{as:u.u,name:"useAdvanced",label:"Settings",small:!0,inverseLabel:"Close"})]})}function lt(e){var t=e.name;return Object(b.jsx)(u.a,{children:Object(b.jsx)(u.u,{name:t,className:"mt1",inverseLabel:Object(b.jsx)(rt,{}),label:Object(b.jsx)(ot,{})})})}function bt(e){var t=e.className,n=e.goHome;Object(He.a)(Le.r.TICKET);var a=Object(v.b)().contracts,c=Object(x.b)().setUrbitWallet,s=Object(g.b)().setPointCursor,l=function(){var e=window.location.host.split(".")[0],t=Object(We.e)(e);return _e.a.isValidPatp(t)?t:null}(),j=Object(r.useRef)(!1),d=Object(r.useCallback)((function(e,t){if(j.current=!1,t.point)return t;if(e.useShards){if(t.shard1||t.shard2||t.shard3)return t;var n=["shard1","shard2","shard3"].filter((function(t){return!e[t]}));if(n.length>1){var r={};return n.forEach((function(e){r[e]="Please provide at least two out of three shards."})),r}}else if(t.ticket)return t}),[]),f=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,u,l,b,d,f,h;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.useShards?Ae.combine([t.shard1,t.shard2,t.shard3].map((function(e){return""===e?void 0:e}))):t.ticket,e.prev=1,r=q(a),u=Object(Ve.a)(t.point),e.next=6,ze(16);case 6:return e.next=8,Object(Fe.b)(n,u,t.passphrase);case 8:return l=e.sent,e.next=11,Promise.all([E.azimuth.isOwner(r,u,l.ownership.keys.address),E.azimuth.isTransferProxy(r,u,l.ownership.keys.address)]);case 11:if(b=e.sent,d=Object(i.a)(b,2),f=d[0],h=d[1],!(!f&&!h)||j.current){e.next=19;break}return j.current=!0,e.abrupt("return",Object(N.a)({},Ye.a,"This wallet is not the owner or transfer proxy for this point."));case 19:c(Object(o.Just)(l)),s(Object(o.Just)(Object(Ve.a)(t.point))),e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",Object(N.a)({},De.b,"Unable to derive wallet from ".concat(t.useShards?"shards":"ticket",".")));case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t){return e.apply(this,arguments)}}(),[a,s,c]),h=Object(r.useMemo)((function(){return Object(ye.r)({useAdvanced:Object(ye.d)(),usePassphrase:Object(ye.d)(),useShards:Object(ye.d)(),point:Object(ye.l)(4),ticket:Object(ye.k)(),shard1:Object(ye.p)(),shard2:Object(ye.p)(),shard3:Object(ye.p)(),ticketHidden:Object(ye.d)(),passphrase:Object(ye.j)()},d)}),[d]),O=Object(r.useMemo)((function(){return{point:l||"",usePasshrase:!1,useShards:!1,ticketHidden:!0,useAdvanced:!1}}),[l]);return Object(b.jsx)(u.h,{className:t,children:Object(b.jsx)(ge.a,{validate:h,onSubmit:f,afterSubmit:n,initialValues:O,children:function(e){var t=e.handleSubmit,n=e.values,r=e.submitting;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.g,name:"point"}),Object(b.jsx)(Ke.a,{when:"useShards",is:!1,children:Object(b.jsx)(u.h.Item,{full:!0,as:Ge.j,hidden:n.ticketHidden,labelAccessory:Object(b.jsx)(ut,{}),accessory:Object(b.jsx)(lt,{name:"ticketHidden"}),className:"mt3",name:"ticket",label:"Master Ticket"})}),Object(b.jsxs)(Ke.a,{when:"useShards",is:!0,children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.j,accessory:Object(b.jsx)(lt,{name:"ticketHidden"}),hidden:n.ticketHidden,labelAccessory:Object(b.jsx)(ut,{}),className:"mt3",name:"shard1",label:"Shard 1"}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.j,accessory:Object(b.jsx)(lt,{name:"ticketHidden"}),hidden:n.ticketHidden,className:"mt3",name:"shard2",label:"Shard 2"}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.j,className:"mt3",accessory:Object(b.jsx)(lt,{name:"ticketHidden"}),hidden:n.ticketHidden,name:"shard3",label:"Shard 3"})]}),Object(b.jsx)(Ke.a,{when:"usePassphrase",is:!0,children:Object(b.jsx)(u.h.Item,{full:!0,as:Ge.f,className:"mt3",name:"passphrase",label:"Wallet Passphrase"})}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,{full:!0,as:we.a,center:!0,handleSubmit:t,children:function(e){return r?"Logging in...":e?"Login Anyway":"Login"}})]})}})})}var jt=n(103),dt=["className","views","options","currentTab","onTabChange"];function ft(e){var t=e.className,n=e.views,r=e.options,c=e.currentTab,s=e.onTabChange,i=Object(d.a)(e,dt),o=n[c];return Object(b.jsx)(u.h,{className:t,children:r.map((function(e,t){var n=e.value===c;return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,className:he()("f5 pv3 rel",{pointer:!e.disabled,gray3:e.disabled}),onClick:e.disabled?null:function(){return s(n?void 0:e.value)},children:[e.text,e.disabled&&Object(b.jsx)("sup",{className:"f6 lowercase",children:e.disabled}),Object(b.jsx)("div",{className:"abs",style:{top:0,right:0,height:"100%",width:"44px",overflow:"hidden"},children:Object(b.jsx)(u.a,{className:he()({black:!e.disabled}),children:n?"\u25b2":"\u25bc"})})]}),n&&Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,as:o},i)),Object(b.jsx)(u.h.Divider,{})]},e.value)}))})}var ht=n(528),Ot=n(529),mt=n(50),pt=["children","onChange"];function vt(e){var t=e.children,n=e.onChange,a=Object(d.a)(e,pt),c=Object(r.useRef)();return Object(b.jsxs)("label",Object(h.a)(Object(h.a)({htmlFor:"file"},a),{},{children:[Object(b.jsx)(u.d,{accessory:"\u2191",solid:!0,children:t}),Object(b.jsx)("input",{id:"file",ref:c,className:"super-hidden",type:"file",onChange:function(){return n(c.current)}})]}))}var xt=["name","label"];function gt(e){var t=e.name,n=e.label,a=Object(d.a)(e,xt),c=Object(mt.b)(t,{type:"text"}),s=c.input,i=c.meta,o=i.validating,l=i.submitting,j=i.touched,f=i.active,O=i.error,m=Object(r.useCallback)((function(e){s.onFocus();var t=e.files.item(0),n=new FileReader;n.onload=function(e){s.onChange({target:{value:e.target.result}})};var r=function(e){s.onBlur()};n.onerror=r,n.onabort=r,n.readAsText(t)}),[s]);return Object(b.jsx)(vt,Object(h.a)(Object(h.a)({onChange:m,accessory:j&&!f&&O?Object(b.jsx)(u.a.Failure,{}):o||l?Object(b.jsx)(u.a.Pending,{}):void 0},a),{},{children:n}))}var wt=n(530),yt=n(253),Nt=n(114);function kt(e){var t=e.onSubmit,n=e.goHome;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:"f6 gray4 mb3",children:"If you wish to login with a different wallet, please change it in the Metamask extension"}),Object(b.jsx)(ge.a,{onSubmit:t,afterSubmit:n,children:function(e){var t=e.handleSubmit;return Object(b.jsxs)(u.h.Item,{full:!0,as:we.a,handleSubmit:t,children:["Login",window.ethereum.selectedAddress&&" as "+Object(Ie.a)(window.ethereum.selectedAddress)]})}})]})}var St=n(532);var It,Et=n(175),Ct=n(545),Tt=n(539),Pt=n.n(Tt),Rt=function(){var e=Object(x.b)(),t=e.setWallet,n=e.setAuthToken,a=e.resetWallet,c=Object(r.useState)(null),s=Object(i.a)(c,2),u=s[0],l=s[1],b=Object(r.useState)(null),j=Object(i.a)(b,2),d=j[0],f=j[1],h=Object(r.useState)(null),O=Object(i.a)(h,2),m=O[0],p=O[1],v=function(){var e=new Ct.a({bridge:"https://bridge.walletconnect.org",qrcodeModal:Pt.a});l(e),e.accounts.length>0&&f(e.accounts[0]),e.peerMeta&&p(e.peerMeta)};Object(r.useEffect)((function(){v()}),[]);var g=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&!u.connected){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u.createSession();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u.killSession();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(k.a)(y.a.mark((function e(){var r,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&u){e.next=2;break}return e.abrupt("return");case 2:return r=Object(o.Nothing)(),e.prev=3,e.next=6,Object(Nt.a)({address:d,connector:u,walletType:Le.r.WALLET_CONNECT});case 6:a=e.sent,r=Object(o.Just)(a),e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(3),"METHOD_NOT_SUPPORTED"!==e.t0.message){e.next=16;break}console.warn("wallet does not support message signing. proceeding without auth token."),e.next=17;break;case 16:throw e.t0;case 17:c={address:d},n(r),t(Object(o.Just)(c));case 20:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),S=function(){return!!u&&u.connected},I=Object(r.useMemo)((function(){if(!(null===m||void 0===m?void 0:m.icons))return null;var e=m.icons.filter((function(e){return""!==e}));return e.length>0?e[0]:null}),[m]),E=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,a,c,s,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.from,r=t.to,a=t.gas,c=t.gasPrice,s=t.value,i=t.data,o=t.nonce,e.abrupt("return",new Promise((function(e,t){if(u&&S())return u.signTransaction({from:n,to:r,gas:a,gasPrice:c,value:s,data:i,nonce:o}).then((function(t){return e(t)})).catch((function(e){return t(e)}));t(new Error("No connected wallet available for signing"))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,a,c,s,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.from,r=t.to,a=t.gas,c=t.gasPrice,s=t.value,i=t.data,o=t.nonce,e.abrupt("return",new Promise((function(e,t){if(u&&S())return u.sendTransaction({from:n,to:r,gas:a,gasPrice:c,value:s,data:i,nonce:o}).then((function(t){return e(t)})).catch((function(e){return t(e)}));t(new Error("No connected wallet available for sending"))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(u)return u&&u.on("connect",function(){var e=Object(k.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}throw t;case 2:r=n.params[0].accounts[0],f(r),p(n.params[0].peerMeta);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),u&&u.on("disconnect",(function(e,t){if(e)throw e;f(null),p(null),a()})),u&&u.on("session_update",(function(e,t){if(e)throw e;w()})),u&&u.on("modal_closed",(function(){a(),v()})),function(){u.off("connect"),u.off("disconnect"),u.off("session_update"),u.off("modal_closed")}}),[u]),{address:d,authenticate:N,connect:g,connector:u,disconnect:w,isConnected:S,peerIcon:I,peerMeta:m,resetConnector:v,signTransaction:E,sendTransaction:C}},At=n(29),Dt=function(e){var t=e.className,n=e.goHome;Object(He.a)(Le.r.WALLET_CONNECT);var r=Rt(),a=r.address,c=r.authenticate,s=r.connect,i=r.connector,o=r.disconnect,l=r.isConnected,j=r.peerIcon,d=r.peerMeta,f=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.h,{className:t,children:[!l()&&Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:"f6 gray4 mb3",children:"Note that WalletConnect is a young protocol, not all wallets may work fully"}),l()&&d&&Object(b.jsx)(u.h.Item,{full:!0,className:"f6 gray5 mt3 mb3",children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{style:{gridArea:"auto / 3 / auto / 5"},children:j?Object(b.jsx)(Et.b,{src:j}):Object(b.jsx)(u.t,{children:"Icon Unavailable"})}),Object(b.jsxs)(u.h.Item,{className:"flex-col align-center justify-center",style:{gridArea:"auto / 6 / auto / 11"},children:[Object(b.jsx)(u.t,{as:"div",children:d.name}),Object(b.jsx)(u.t,{as:"div",children:a?Object(Ie.a)(a):null}),Object(b.jsx)(At.f,{as:"a",className:"gray3",onClick:o,children:"disconnect"})]})]})}),Object(b.jsx)(ge.a,{onSubmit:f,afterSubmit:n,children:function(e){var t=e.handleSubmit,n=e.submitting;return Object(b.jsx)(b.Fragment,{children:l()?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,{full:!0,as:we.a,handleSubmit:t,children:n?"Please check your WalletConnect wallet":"Authenticate"})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(u.h.Item,{full:!0,as:At.c,solid:!0,onClick:s,children:"Connect"})})})}})]})})},Ft=["className"],Lt={PRIVATE_KEY:"PRIVATE_KEY",KEYSTORE:"KEYSTORE",LEDGER:"LEDGER",TREZOR:"TREZOR",METAMASK:"METAMASK",MNEMONIC:"MNEMONIC",WALLET_CONNECT:"WALLET_CONNECT"},Mt=(It={},Object(N.a)(It,Lt.PRIVATE_KEY,ht.a),Object(N.a)(It,Lt.KEYSTORE,(function(e){var t=e.className,n=e.goHome;Object(He.a)(Le.r.KEYSTORE);var a=Object(x.b)().setWallet,c=Object(r.useMemo)((function(){return Object(ye.r)({passphrase:Object(ye.j)(),keystore:Object(ye.q)()})}),[]),s=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=JSON.parse(t.keystore),r=Ot.recover(t.passphrase,n),c=new Fe.a(r),a(Object(o.Just)(c)),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",Object(N.a)({},De.b,"Couldn't decrypt wallet. You may have entered an incorrect password."));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[a]);return Object(b.jsxs)(u.h,{className:t,children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:"f6 gray4 mb3",children:"Please upload your Ethereum keystore file. If your keystore file is encrypted with a password, you'll also need to enter that below."}),Object(b.jsx)(ge.a,{validate:c,onSubmit:s,afterSubmit:n,children:function(e){var t=e.handleSubmit;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:gt,name:"keystore",label:"Upload Keystore file"}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.f,className:"mt3",name:"passphrase",label:"Passphrase"}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,{full:!0,as:we.a,handleSubmit:t,children:"Decrypt"})]})}})]})})),Object(N.a)(It,Lt.LEDGER,wt.a),Object(N.a)(It,Lt.TREZOR,St.a),Object(N.a)(It,Lt.METAMASK,(function(e){var t=e.className,n=e.goHome;Object(He.a)(Le.r.METAMASK);var a=Object(x.b)(),c=a.setWallet,s=a.setWalletType,i=a.setAuthToken,l=Object(v.b)().web3,j=Y(l),d=Object(r.useCallback)(Object(k.a)(y.a.mark((function e(){var t,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.send("eth_requestAccounts");case 3:return t=e.sent,n=new yt.a(t.result[0]),e.next=7,Object(Nt.a)({address:n.address,walletType:Le.r.METAMASK,web3:j});case 7:r=e.sent,i(Object(o.Just)(r)),c(Object(o.Just)(n)),s(Le.r.METAMASK),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",Object(N.a)({},De.b,e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[j,i,c,s]);return Object(b.jsx)(u.h,{className:t,children:window.ethereum&&kt({onSubmit:d,goHome:n})||Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.l,children:"Unsupported"}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.t,className:"f6 mb3",children:["Metamask is not installed on this browser. ",Object(b.jsx)("br",{}),Object(b.jsx)(u.q,{href:"https://metamask.io",as:u.q,children:"Get Metamask"})]})]})})})),Object(N.a)(It,Lt.MNEMONIC,(function(e){var t=e.className,n=e.goHome;Object(He.a)(Le.r.MNEMONIC);var a=Object(x.b)(),c=a.setWallet,s=a.setAuthMnemonic,l=a.setWalletHdPath,j=Object(r.useState)(!1),d=Object(i.a)(j,2),f=d[0],h=d[1],O=Object(r.useMemo)((function(){var e=f?Object(ye.b)():Object(ye.h)();return Object(ye.r)({useAdvanced:Object(ye.d)(),mnemonic:e,passphrase:Object(ye.j)(),hdpath:Object(ye.f)()})}),[f]),m=Object(r.useCallback)((function(e){var t=e.valid,n=e.values;h(n.anyMnemonic),t?(l(n.hdpath),s(Object(o.Just)(n.mnemonic)),c(Object(Fe.c)(n.mnemonic,n.hdpath,n.passphrase,n.anyMnemonic))):(s(Object(o.Nothing)()),c(Object(o.Nothing)()))}),[s,c,l]),p={hdpath:Le.c,useAdvanced:!1,anyMnemonic:!1};return Object(b.jsx)(u.h,{className:he()("mt4",t),children:Object(b.jsx)(ge.a,{validate:O,onValues:m,afterSubmit:n,initialValues:p,children:function(e){var t=e.handleSubmit;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.d,name:"mnemonic",label:"BIP39 Mnemonic"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.e,name:"anyMnemonic",label:"Skip mnemonic validation"}),Object(b.jsxs)(Ke.a,{when:"useAdvanced",is:!0,children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.f,name:"passphrase",label:"Passphrase"}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.b,name:"hdpath",label:"HD Path"})]}),Object(b.jsx)(u.h.Item,{full:!0,as:u.e,name:"useAdvanced",label:"Passphrase & HD Path"}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,{full:!0,as:we.a,handleSubmit:t,children:"Login"})]})}})})})),Object(N.a)(It,Lt.WALLET_CONNECT,Dt),It),_t=[{text:"Metamask",value:Lt.METAMASK},{text:"Mnemonic (BIP 39)",value:Lt.MNEMONIC},{text:"Ledger",value:Lt.LEDGER},{text:"Trezor",value:Lt.TREZOR},{text:"Ethereum Private Key",value:Lt.PRIVATE_KEY},{text:"Ethereum Keystore",value:Lt.KEYSTORE},{text:"WalletConnect",value:Lt.WALLET_CONNECT}];function Wt(e){var t=e.className,n=Object(d.a)(e,Ft),a=Object(r.useState)(void 0),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(jt.a)([!1,!0,!0]),j=Object(r.useMemo)((function(){return _t.map((function(e){return t=e.value,[Lt.TREZOR,Lt.LEDGER].find((function(e){return e===t}))?Object(h.a)(Object(h.a)({},e),{},{disabled:!l&&" not available on mobile"}):e;var t}))}),[l]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(ft,Object(h.a)({className:t,views:Mt,options:j,currentTab:s,onTabChange:o},n))]})}function Bt(e){var t=e.children,n=e.className;return Object(b.jsx)(u.l,{className:he()(n,"mb4"),children:t})}var Ut=n(116),Ht=n(31),Vt=n(58),zt=n(254),Kt=n.n(zt),Gt="0x40f0A6db85f8D7A54fF3eA915b040dE8Cd4A0Eb5",Jt=Se.c?"3011":"3001",Yt="https://gas-tank.urbit.org:".concat(Jt);function qt(e,t){return new Promise((function(n,r){fetch(Yt+e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.ok?n(e.json()):r(e)})).catch(r)}))}var Zt=function(e){return"string"===typeof e&&(e=Number(e)),qt("/point",{point:e})},Xt=function(e){return qt("/request",{txs:e})},$t=function(){var e=Object(k.a)(y.a.mark((function e(t,n,r,a,c,s,i,o){var u,l,b;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof s&&0!==s.length){e.next=2;break}throw new Error("tank: no transactions provided!");case 2:if(!s.some((function(e){return"0x???"===e}))){e.next=5;break}return console.log("tank: disabling for unsigned sender wallet"),e.abrupt("return",!1);case 5:return e.t0=Ht.toBN,e.next=8,t.eth.getBalance(r);case 8:if(e.t1=e.sent,u=(0,e.t0)(e.t1),c=Object(Ht.toBN)(c),!u.gte(c)){e.next=14;break}return console.log("tank: already have sufficient funds: ".concat(r," proposed ")+"transaction(s) that will cost ".concat(c.toString(),"wei but it ")+"already has ".concat(u.toString(),"wei")),e.abrupt("return",!1);case 14:if(e.prev=14,null===n){e.next=23;break}return e.next=18,Zt(n);case 18:if(!(e.sent<s.length)){e.next=21;break}throw new Error("tank: request invalid");case 21:e.next=24;break;case 23:console.log("tank: no point provided. skipping remaining-funds check...");case 24:return e.next=26,Xt(s);case 26:if((l=e.sent).success){e.next=29;break}throw new Error("tank: request rejected ".concat(JSON.stringify(l)));case 29:return e.next=31,Object(Vt.g)(t,l.txHash);case 31:return e.t2=Ht.toBN,e.next=34,t.eth.getBalance(r);case 34:if(e.t3=e.sent,!(b=(0,e.t2)(e.t3)).lt(c)){e.next=38;break}throw new Error("tank: transaction funded but the new balance of "+"".concat(b.toString(),"wei is still less than ")+"".concat(c.toString(),"wei."));case 38:return console.log("tank: funds have confirmed: ".concat(r," now has ")+"".concat(b.toString(),"wei, up from ").concat(u.toString(),"wei")),e.abrupt("return",!0);case 42:return e.prev=42,e.t4=e.catch(14),console.error(e.t4),e.next=47,Qt(t,r,c.toString(),i,o);case 47:return e.abrupt("return",!1);case 48:case"end":return e.stop()}}),e,null,[[14,42]])})));return function(t,n,r,a,c,s,i,o){return e.apply(this,arguments)}}();function Qt(e,t,n,r,a){return n=Object(Ht.toBN)(n),Kt()(function(){var c=Object(k.a)(y.a.mark((function c(s,i){var o;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=Ht.toBN,c.next=3,e.eth.getBalance(t);case 3:if(c.t1=c.sent,!(o=(0,c.t0)(c.t1)).gte(n)){c.next=10;break}return a&&a(),c.abrupt("return");case 10:throw r(t,n.toString(),o),new Error("retrying");case 12:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),Vt.b)}function en(e){var t=Object(r.useRef)(null),n=Object(r.useRef)(null);return t.current!==n.current&&(t.current=n.current),n.current!==e&&(n.current=e),t.current}function tn(e){var t=Object(r.useRef)(e),n=en(e);return Object(H.isEqual)(e,n)||(t.current=e),t.current}var nn=n(63);function rn(e){return an.apply(this,arguments)}function an(){return(an=Object(k.a)(y.a.mark((function e(t){var n,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===nn.a.ROPSTEN?3:e.t0===nn.a.OFFLINE?4:(e.t0,nn.a.LOCAL,5);break;case 3:return e.abrupt("return",10);case 4:return e.abrupt("return",Le.b);case 5:return e.prev=5,e.next=8,fetch("https://api.etherscan.io/api?module=gastracker&action=gasoracle&apikey=CG52E4R96W56GIKUI4IJ8CH9EZIXPUW1W8",{method:"GET",cache:"no-cache"});case 8:return n=e.sent,e.next=11,n.json();case 11:if((r=e.sent)&&"1"!==r.status&&console.warn("suggested gas price warning",r.message),a=parseInt(r&&r.result&&r.result.ProposeGasPrice),!isNaN(a)){e.next=16;break}throw new Error("strange gas price response",r);case 16:return e.abrupt("return",Math.min(a,Le.i));case 19:return e.prev=19,e.t1=e.catch(5),console.warn("error fetching gas price",e.t1),e.abrupt("return",Le.b);case 23:case"end":return e.stop()}}),e,null,[[5,19]])})))).apply(this,arguments)}function cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le.b,t=Object(v.b)(),n=t.networkType,a=Object(r.useState)(e),c=Object(i.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(e),l=Object(i.a)(u,2),b=l[0],j=l[1];Object(r.useEffect)((function(){var e=!0;return Object(k.a)(y.a.mark((function t(){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rn(n);case 2:if(r=t.sent,e){t.next=5;break}return t.abrupt("return");case 5:o(r),j(r);case 7:case"end":return t.stop()}}),t)})))(),function(){return e=!0}}),[n]);var d=Object(r.useCallback)((function(){return j(s)}),[s]);return{suggestedGasPrice:s,gasPrice:b,setGasPrice:j,resetGasPrice:d}}var sn,on=n(61),un=n(134),ln="NONE",bn="SIGNED",jn="FAKE_SIGNED",dn="BROADCASTED",fn="CONFIRMED",hn="COMPLETED";function On(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Le.g.DEFAULT,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Le.b,c=Object(x.b)(),s=c.wallet,u=c.walletType,l=c.walletHdPath,b=Object(v.b)(),j=b.web3,d=b.networkType,f=Object(g.b)(),O=f.pointCursor,m=Rt(),p=m.signTransaction,w=m.sendTransaction,N=Y(j),S=Z(s),E=Object(r.useState)(),C=Object(i.a)(E,2),T=C[0],P=C[1],R=Object(r.useCallback)((function(e){P(e),e&&console.error(e)}),[P]),A=Object(r.useState)(ln),D=Object(i.a)(A,2),F=D[0],L=D[1],M=Object(r.useState)(),_=Object(i.a)(M,2),W=_[0],B=_[1],U=Object(r.useState)(),H=Object(i.a)(U,2),V=H[0],z=H[1],K=cn(a),G=K.gasPrice,J=K.setGasPrice,q=K.resetGasPrice,X=Object(r.useState)(n),$=Object(i.a)(X,1),Q=$[0],ee=Object(r.useState)(),te=Object(i.a)(ee,2),ne=te[0],re=te[1],ae=Object(r.useState)(),ce=Object(i.a)(ae,2),se=ce[0],ie=ce[1],oe=Object(r.useState)(),ue=Object(i.a)(oe,2),le=ue[0],be=ue[1],je=Object(r.useState)(),de=Object(i.a)(je,2),fe=de[0],he=de[1],Oe=Object(r.useState)(0),me=Object(i.a)(Oe,2),pe=me[0],ve=me[1],xe=Object(r.useState)(),ge=Object(i.a)(xe,2),we=ge[0],ye=ge[1],Ne=void 0===V||void 0===W,ke=!!ne,Se=F===ln,Ie=F===bn||F===jn,Ee=F===jn,Ce=F===dn,Te=F===fn,Pe=F===hn,Re=!Se,Ae=!Ne&&ke&&Se,De=Object(r.useCallback)(Object(k.a)(y.a.mark((function t(){var n=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=re,t.next=3,e.apply(void 0,n);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)}))),[e]),Fe=Object(r.useCallback)((function(){return re(void 0)}),[re]),Me=Object(r.useCallback)(Object(k.a)(y.a.mark((function e(){var t,n,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(void 0),t=Array.isArray(ne)?ne:[ne],n=u===Le.r.WALLET_CONNECT?p:void 0,r=u===Le.r.WALLET_CONNECT?w:void 0,e.next=7,Promise.all(t.map((function(e,t){return Object(Vt.f)({wallet:S,walletType:u,walletHdPath:l,networkType:d,txn:e,nonce:V+t,chainId:W,gasPrice:G.toFixed(0),gasLimit:Q,txnSigner:n,txnSender:r})})));case 7:a=e.sent,ie(a),a.some((function(e){return!(e instanceof un.Transaction)}))?L(jn):L(bn),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("error signing txs",e.t0),R(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),[S,W,Q,G,d,V,R,ne,l,u,p,w]),_e=Object(r.useCallback)(Object(k.a)(y.a.mark((function e(){var t,n,r,a,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ve(0),R(void 0),L(dn),t=se.map((function(e){return Object(Vt.c)(e.serialize())})),n=Object(Ht.toBN)(Q).mul(Object(Ht.toBN)(G)).mul(Object(Ht.toBN)(t.length)),r=Object(on.d)(n,"gwei"),a=!1,!o.Just.hasInstance(O)){e.next=12;break}return e.next=11,$t(N,O.value,S.address,u,r,t,(function(e,t,n){return he({address:e,minBalance:t,balance:n})}),(function(){return he(void 0)}));case 11:a=e.sent;case 12:return e.next=14,se.reduce((function(e,t){return e.then((function(e){return Object(Vt.e)(N,t,a).then((function(t){return[].concat(Object(I.a)(e),[t])}))}))}),Promise.resolve([]));case 14:return c=e.sent,be(c),e.next=18,ze(Le.o);case 18:return ve(.2),e.next=21,Promise.all(c.map((function(e){return Object(Vt.g)(N,e)})));case 21:s=e.sent,ye(Object(on.c)(Object(on.d)(s.reduce((function(e,t){return Object(Ht.toBN)(t.gasUsed).mul(Object(Ht.toBN)(G)).add(e)}),Object(Ht.toBN)(0)),"gwei"),"ether")),ve(.9),L(fn),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),R(e.t0);case 30:case"end":return e.stop()}}),e,null,[[0,27]])}))),[S.address,N,Q,G,O,R,se,u]),We=Object(r.useCallback)((function(){be(void 0),ie(void 0),z(void 0),B(void 0),q(),L(ln),R(void 0),he(void 0),ve(0),ye(void 0)}),[q,R]);Object(r.useEffect)((function(){var e=!0;if(void 0===V||void 0===W)return Object(k.a)(y.a.mark((function t(){var n,r,a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,R(void 0),t.next=4,Promise.all([N.eth.getTransactionCount(S.address),N.eth.net.getId()]);case 4:if(n=t.sent,r=Object(i.a)(n,2),a=r[0],c=r[1],e){t.next=10;break}return t.abrupt("return");case 10:z(a),B(c),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),R(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))(),function(){return e=!1}}),[S,N,R,V,W,d,a]),Object(r.useEffect)((function(){var e=!0;return Te&&Object(k.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=10;break}return n.prev=1,n.next=4,t();case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0),R(new Error("The transaction succeeded but we were unable to refresh chain state. Refresh to continue."));case 10:if(e){n.next=12;break}return n.abrupt("return");case 12:return ve(1),n.next=15,ze(Le.o);case 15:if(e){n.next=17;break}return n.abrupt("return");case 17:L(hn);case 18:case"end":return n.stop()}}),n,null,[[1,6]])})))(),function(){return e=!1}}),[Te,t,Pe,R]);var Be=tn({isDefaultState:Se,initializing:Ne,construct:De,unconstruct:Fe,constructed:ke,canSign:Ae,generateAndSign:Me,signed:Ie,fakeSigned:Ee,broadcast:_e,broadcasted:Ce,confirmed:Te,completed:Pe,reset:We,error:T,inputsLocked:Re,confirmationProgress:pe,txHashes:le,signedTransactions:se,gasPrice:G,setGasPrice:J,resetGasPrice:q,nonce:V,chainId:W,needFunds:fe,gasLimit:Q,unsignedTransactions:ne,finalCost:we});return Object(h.a)(Object(h.a)({},Be),{},{bind:Be})}var mn=["title","titleId"];function pn(){return(pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xn(e,t){var n=e.title,a=e.titleId,c=vn(e,mn);return r.createElement("svg",pn({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,sn||(sn=r.createElement("path",{d:"M6 -5.24537e-07C2.68503 -8.1434e-07 8.1434e-07 2.68503 5.24537e-07 6C2.34733e-07 9.31497 2.68503 12 6 12C9.31497 12 12 9.31497 12 6C12 2.68503 9.31497 -2.34733e-07 6 -5.24537e-07ZM6 0.723491C8.91892 0.723491 11.2765 3.08732 11.2765 6C11.2765 8.91892 8.91892 11.2765 6 11.2765C3.08108 11.2765 0.723492 8.91892 0.723492 6C0.723492 3.08732 3.08108 0.723491 6 0.723491ZM5.57588 9.19335L6.42412 9.19335L6.42 5.22L5.58 5.22L5.57588 9.19335ZM6 2.75676C5.69127 2.75676 5.43867 3.00935 5.43867 3.31809C5.43867 3.62682 5.69127 3.87942 6 3.87942C6.30873 3.87942 6.56133 3.62682 6.56133 3.31809C6.56133 3.00936 6.30873 2.75676 6 2.75676Z",fill:"#B1B2B3"})))}var gn=r.forwardRef(xn);n.p;function wn(){switch(Object(v.b)().networkType){case nn.a.ROPSTEN:return"https://ropsten.etherscan.io";case nn.a.OFFLINE:case nn.a.MAINNET:case nn.a.LOCAL:default:return"https://etherscan.io"}}var yn=n(320),Nn=n.n(yn);function kn(e){var t=Object(r.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useRef)();return Object(r.useEffect)((function(){return function(){return clearTimeout(s.current)}}),[]),[Object(r.useCallback)((function(){Nn()(e),c(!0),clearTimeout(s.current),s.current=setTimeout((function(){return c(!1)}),2e3)}),[e]),a]}var Sn=["as","text","children","className"],In=function(e){return e?"Copied!":"Copy"};function En(e){var t=e.as,n=void 0===t?u.q:t,r=e.text,a=e.children,c=void 0===a?In:a,s=e.className,o=Object(d.a)(e,Sn),l=kn(r),j=Object(i.a)(l,2),f=j[0],O=j[1];return Object(b.jsx)(n,Object(h.a)(Object(h.a)({onClick:f,className:he()(s,{black:!O,green3:O})},o),{},{children:c(O)}))}var Cn=n(57),Tn=["as","progress","color"];function Pn(e){var t=e.as,n=void 0===t?u.d:t,r=e.progress,a=void 0===r?0:r,c=e.color,s=void 0===c?"green4":c,i=Object(d.a)(e,Tn);return Object(b.jsx)(n,Object(h.a)(Object(h.a)({},i),{},{solid:!0,accessory:Object(Cn.a)(a<1,"->"),background:Object(b.jsx)("span",{className:he()("abs z1 animated-width","bg-".concat(s)),style:{left:0,top:0,right:0,bottom:0,width:"".concat(100*a,"%")}})}))}var Rn,An=n(52),Dn=["as","className","warning"];function Fn(e){var t=e.as,n=void 0===t?"span":t,r=e.className,a=e.warning,c=void 0!==a&&a,s=Object(d.a)(e,Dn);return Object(b.jsx)(n,Object(h.a)({className:he()({red3:c,green3:!c},r)},s))}var Ln=["title","titleId"];function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _n(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wn(e,t){var n=e.title,a=e.titleId,c=_n(e,Ln);return r.createElement("svg",Mn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Rn||(Rn=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3H4V10H6V6V5H7H9V3ZM10 5H12H13V6V13V14H12H7H6V13V11H4H3V10V3V2H4H9H10V3V5ZM7 6H12V13H7V6Z",fill:"black"})))}var Bn,Un=r.forwardRef(Wn);n.p;function Hn(e){var t=e.content,n=e.children,a=e.className,c=e.position,s=void 0===c?Bn.Top:c,o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],j=u[1],d=Object(r.useCallback)((function(){return j(!0)}),[]),f=Object(r.useCallback)((function(){return j(!1)}),[]),h=Object(r.useMemo)((function(){switch(s){case Bn.Top:return{bottom:"100%"};case Bn.TopRight:return{bottom:"90%",left:"90%"};default:return{bottom:"100%"}}}),[s]);return Object(b.jsxs)("div",{className:a||"rel nowrap inline-block",onMouseEnter:d,onMouseLeave:f,children:[n,l&&Object(b.jsx)("div",{className:"abs mb1 bg-black white ph4 pv2 r4 open-tooltip",style:h,children:t})]})}!function(e){e[e.Top=0]="Top",e[e.TopRight=1]="TopRight"}(Bn||(Bn={}));var Vn=["as","text","children","className"];function zn(e){var t=e.as,n=void 0===t?"span":t,r=e.text,a=e.children,c=e.className,s=Object(d.a)(e,Vn),o=kn(r||a),u=Object(i.a)(o,2),l=u[0],j=u[1];return Object(b.jsxs)(n,Object(h.a)(Object(h.a)({className:c},s),{},{children:[a,Object(b.jsx)(Hn,{content:j?"Copied!":"Copy",children:Object(b.jsx)(Un,{style:{height:"1em",width:"1em"},className:"ml1 pointer",onClick:l})})]}))}var Kn=["className"];function Gn(e){var t=e.className,n=Object(d.a)(e,Kn);return Object(b.jsx)(zn,Object(h.a)({className:he()(t,"mono","nowrap")},n))}var Jn=["address","minBalance","balance"];function Yn(e){var t=e.address,n=e.minBalance,r=e.balance,a=Object(d.a)(e,Jn);return Object(b.jsx)(xe,Object(h.a)(Object(h.a)({},a),{},{children:Object(b.jsxs)(Fn,{warning:!0,children:["Your ownership address ",Object(b.jsx)(Gn,{children:t})," ","needs at least ",Object(on.c)(n)," ETH and currently has"," ",Object(on.c)(r)," ETH. Transaction costs may be high due to"," ","Ethereum network activity. You can come back later to try again, or"," ","transfer the required ETH now. The transaction will automatically resume"," ","once enough ETH is available. Waiting... ",Object(b.jsx)(Cn.b,{})]})}))}function qn(e){var t=e.className,n=e.children;return Object(b.jsx)(u.g,{className:he()("bg-gray2 pv3 ph4",t),align:"center",children:Object(b.jsx)(u.t,{className:"f6 fw-bold gray4",children:n})})}function Zn(e){var t=e.initializing,n=e.canSign,a=e.generateAndSign,c=e.signed,s=e.fakeSigned,o=e.broadcast,l=e.broadcasted,j=e.confirmed,d=e.completed,f=e.reset,O=e.error,m=e.gasPrice,p=e.setGasPrice,v=e.resetGasPrice,x=e.txHashes,g=e.nonce,w=(e.chainId,e.needFunds),y=e.signedTransactions,N=e.confirmationProgress,k=e.gasLimit,S=e.unsignedTransactions,I=e.finalCost,E=e.label,C=void 0===E?"Generate & Sign Transaction":E,T=e.className,P=e.onReturn,R=Object(r.useState)(!1),A=Object(i.a)(R,2),D=A[0],F=A[1],L=Object(r.useCallback)((function(){return F(!D)}),[F,D]),M=!(c||l||j||d),_=c,W=l||j,B=c&&!w,U=c,H=Object(r.useState)(!1),V=Object(i.a)(H,2),z=V[0],K=V[1],G=Object(r.useCallback)((function(){return K(!z)}),[K,z]),J=Object(r.useMemo)((function(){return Object(ye.r)({useAdvanced:Object(ye.d)(),viewSigned:Object(ye.d)()})}),[]),Y=Object(r.useCallback)((function(e){e.valid;var t=e.values;e.form;t.useAdvanced||v()}),[v]),q=Object(r.useMemo)((function(){return y&&y.map((function(e){return Object(Vt.c)(e.serialize())}))}),[y]),Z=Object(r.useMemo)((function(){return(S||[]).length||1}),[S]),X=Object(r.useMemo)((function(){return Object(on.c)(Object(on.d)(Object(Ht.toBN)(k).mul(Object(Ht.toBN)(m)).mul(Object(Ht.toBN)(Z)),"gwei"),"ether")}),[k,m,Z]),$=Object(r.useMemo)((function(){var e=1===Z?"":"*  ".concat(Z," txs");return z?"".concat(m," Gwei * ").concat(k," ").concat(e," = ").concat(X," ETH"):"".concat(X," ETH")}),[z,X,m,k,Z]);return Object(b.jsx)(u.h,{className:he()(T,"mt1"),children:Object(b.jsx)(ge.a,{validate:J,onValues:Y,children:function(){return Object(b.jsxs)(b.Fragment,{children:[O?Object(b.jsx)(u.h.Item,{full:!0,as:At.f,solid:!0,onClick:function(){return f()},children:"Reset Transaction"}):d?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.f,onClick:P,children:"Return"}),Object(b.jsx)(u.h.Divider,{}),D&&Object(b.jsx)($n,{txHashes:x,finalCost:I,onClose:L}),!D&&Object(b.jsx)(u.h.Item,{className:"underline mv2 pointer",full:!0,onClick:L,children:"View Receipt"})]}):_?Object(b.jsx)(u.h.Item,{full:!0,as:At.c,solid:!0,success:!0,disabled:!B,onClick:function(){return o()},children:"Send Transaction"}):W?Object(b.jsx)(u.h.Item,{full:!0,as:Pn,success:!0,disabled:!0,progress:N,children:"Sending Transaction"}):Object(b.jsx)(u.h.Item,{full:!0,as:At.d,onClick:a,disabled:!n,loading:!n&&t,children:C}),O&&Object(b.jsx)(u.h.Item,{full:!0,as:u.f,className:"mv1",children:O.message}),w&&Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,as:Yn,className:"mt3"},w)),M&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.u,name:"useAdvanced",label:"Advanced",inverseLabel:"Back to Defaults",inverseColor:"red3",disabled:!M||t}),Object(b.jsxs)(Ke.a,{when:"useAdvanced",is:!0,children:[Object(b.jsx)(u.h.Item,{full:!0,className:"mb2"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,row:!0,justify:"between",className:"mt2",children:[Object(b.jsx)(u.g.Item,{as:u.l,children:"Transaction Fee"}),Object(b.jsxs)(u.g.Item,{as:u.l,children:[$," ",Object(b.jsx)(gn,{className:"pointer",onClick:G})]})]}),Object(b.jsx)(u.h.Item,{full:!0,as:"input",type:"range",min:"1",max:"400",value:m,onChange:function(e){return p(Object(An.a)(e.target.value,10))}}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,row:!0,justify:"between",className:"f6 mt1",children:[Object(b.jsx)(u.g.Item,{as:u.t,children:"Cheap"}),Object(b.jsx)(u.g.Item,{as:u.t,children:"Fast"})]}),Object(b.jsx)(u.h.Divider,{className:"mt4"})]})]}),U&&s&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(u.h.Item,{full:!0,as:qn,className:"mt2",children:"Your wallet will sign the transaction upon sending it."})}),U&&!s&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.u,name:"viewSigned",label:"Signed Transaction",inverseLabel:"Hide",disabled:!U}),Object(b.jsx)(Ke.a,{when:"viewSigned",is:!0,children:Object(b.jsx)(Xn,{serializedTxsHex:q,maxCost:X,nonce:g})})]})]})}})})}function Xn(e){var t=e.serializedTxsHex,n=e.nonce,r=e.maxCost;return t.map((function(e,t){return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(u.h.Divider,{}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,justify:"between",className:"pv4 black f5",children:[Object(b.jsx)(u.g.Item,{children:"Nonce"}),Object(b.jsx)(u.g.Item,{children:n+t})]}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,justify:"between",className:"pv4 black f5",children:[Object(b.jsx)(u.g.Item,{children:"Transaction Cost"}),Object(b.jsxs)(u.g.Item,{children:[r," ETH"]})]}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,justify:"between",className:"mt3 mb2",children:[Object(b.jsx)(u.g.Item,{as:u.l,children:"Signed Transaction Hex"}),Object(b.jsx)(u.g.Item,{as:En,text:e})]}),Object(b.jsx)(u.h.Item,{full:!0,as:"code",className:"mb4 f6 mono gray4 wrap",children:e}),Object(b.jsx)(u.h.Divider,{})]},t)}))}function $n(e){var t=e.txHashes,n=e.finalCost,r=e.onClose,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=wn();return e.map((function(e){return"".concat(t,"/tx/").concat(e)}))}(t);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,justify:"between",className:"pv2 black f5",children:[Object(b.jsx)(u.g.Item,{children:"Receipt"}),Object(b.jsx)(u.g.Item,{onClick:r,className:"underline pointer",children:"Close"})]}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,justify:"between",className:"pv2 black f5",children:[Object(b.jsx)(u.g.Item,{children:"Transaction Cost"}),Object(b.jsxs)(u.g.Item,{className:"mono",children:[n," ETH"]})]}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,col:!0,className:"pv4",children:[Object(b.jsx)(u.g.Item,{as:u.l,children:"Receipt"}),t&&t.map((function(e,t){return Object(b.jsx)(u.g.Item,{as:u.g,className:"mv3",children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.g.Item,{flex:!0,as:"code",className:"f6 mono gray4 wrap ",children:e},t),Object(b.jsx)(u.g.Item,{className:"ml8",as:u.q,href:a[t],children:"Etherscan\u2197"})]})})}))]})]})}function Qn(e){return e.slice(0,34)+"\n  "+e.slice(34)}var er=Math.pow(2,8),tr=Math.pow(2,16),nr=er-1,rr=tr-1,ar=function(e){return e>=0&&e<er?(n=e,(Math.floor(Math.random()*nr)+1)*er+n):(t=e,(Math.floor(Math.random()*rr)+1)*tr+t);var t,n};var cr=n(46);var sr=["views","options","currentTab","onTabChange","className","center"];function ir(e){var t=e.views,n=e.options,r=e.currentTab,a=e.onTabChange,c=e.className,s=e.center,i=void 0!==s&&s,o=Object(d.a)(e,sr),l=t[r];return Object(b.jsxs)(u.h,{className:c,children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.g,className:"b-gray3 bb1 scroll-x hidden-y",children:Object(b.jsx)(u.g.Item,{as:u.g,className:"flex1",children:n.map((function(e,t){var n=e.value===r,c=0===t;return Object(b.jsx)(u.g.Item,{onClick:function(){return a(e.value)},className:he()("f5 pv3 pointer nowrap",{"black b-black bb1":n,gray3:!n},{"t-center flex1":i},{"mr2 pr2":!i,"ml2 pl2":!c&&!i}),children:e.text},e.value)}))})}),Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,as:l},o))]})}var or=n(133),ur={isActive:!1,isOwner:!1,isActiveOwner:!1,isManagementProxy:!1,isSpawnProxy:!1,isVotingProxy:!1,isTransferProxy:!1,isManagementProxySet:!1,isSpawnProxySet:!1,isVotingProxySet:!1,isTransferProxySet:!1,canManage:!1,canTransfer:!1,canSpawn:!1,canVote:!1,spawnIsDelegatedSending:!1};function lr(e,t){var n=ue().getDetails,r=Object(v.b)().contracts,a=E.azimuth.getPointSize(t),c=a===E.azimuth.PointSize.Planet,s=a===E.azimuth.PointSize.Star,i=a===E.azimuth.PointSize.Galaxy,o=s||i,u={isPlanet:c,isStar:s,isGalaxy:i,isParent:o};return Object(h.a)(Object(h.a)({},u),n(t).matchWith({Nothing:function(){return ur},Just:function(t){var n=t.value,a=q(r),c=n.active,s=Object(Ie.c)(e,n.owner),u=s&&c,l=Object(Ie.c)(e,n.managementProxy),b=Object(Ie.c)(e,n.spawnProxy),j=Object(Ie.c)(e,n.votingProxy),d=Object(Ie.c)(e,n.transferProxy);return{isActive:c,isOwner:s,isActiveOwner:u,isManagementProxy:l,isSpawnProxy:b,isVotingProxy:j,isTransferProxy:d,isManagementProxySet:!Object(Ie.e)(n.managementProxy),isSpawnProxySet:!Object(Ie.e)(n.spawnProxy),isVotingProxySet:!Object(Ie.e)(n.votingProxy),isTransferProxySet:!Object(Ie.e)(n.transferProxy),canManage:s||l,canTransfer:s||d,canSpawn:o&&(s||b)&&n.keyRevisionNumber>0,canVote:i&&c&&(s||j),spawnIsDelegatedSending:Object(Ie.c)(a.delegatedSending.address,n.spawnProxy)}}}))}var br=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e(),a=en(t);Object(r.useEffect)((function(){var e=Object(H.difference)(t,a);Promise.all(e.map(n))}),[n,a,t])}},jr=br((function(){return ue().syncDates})),dr=br((function(){return ue().syncDetails})),fr=br((function(){return ue().syncExtras})),hr=function(e){return e.isOwner?"Ownership":e.isManagementProxy?"Management":e.isSpawnProxy?"Spawn":e.isVotingProxy?"Voting":e.isTransferProxy?"Transfer":void 0};function Or(e){var t=e.point,n=e.goPoint,a=Object(x.b)().wallet,c=$(a);dr([t]);var s=lr(c,t),i=hr(s),o=Me.patp(t),l=Object(r.useCallback)((function(){return n(t)}),[t,n]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{className:"flex-row align-center",cols:[1,3],children:[o," "]}),Object(b.jsx)(u.h.Item,{className:"flex-row align-center",cols:[3,6],children:Object(b.jsx)("div",{style:{display:"inline-block",height:"".concat(50,"px"),width:"".concat(50,"px")},children:Object(b.jsx)(or.a,{patp:o,size:25,colors:["#FFFFFF","#000000"]})})}),Object(b.jsx)(u.h.Item,{className:"flex-row align-center",cols:[6,10],children:i}),Object(b.jsx)(u.h.Item,{onClick:l,cols:[10,13],className:"flex-row-r align-center mr2",children:"->"}),Object(b.jsx)(u.h.Divider,{})]})}var mr=function(e,t,n){var r=0===e||e>1;return n?r?n:t:"".concat(e," ").concat(t).concat(r?"s":"")};function pr(e){var t=e.quantity,n=t.getOrElse(0);return Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)("span",{className:he()({green2:n>0,red4:o.Just.hasInstance(t)&&0===n}),children:Object(Cn.c)(t)}),mr(n," star "," stars ")]})}function vr(e){var t=e.isOwn,n=e.className;return t?Object(b.jsx)("div",{className:he()("green2",n),children:"\u2713 Current Address"}):Object(b.jsx)("div",{className:he()("red4",n),children:"! Different address"})}var xr=n(201);var gr,wr=n(84),yr="ACTIVE",Nr="LOCKED",kr="TRANSFER",Sr=(gr={},Object(N.a)(gr,yr,(function(e){var t=e.className,n=e.goPoint,r=ue().controlledPoints;console.log(r);var a=r.matchWith({Nothing:function(){return[]},Just:function(e){return e.value.matchWith({Error:function(){return null},Ok:function(e){var t=e.value;return[].concat(Object(I.a)(t.ownedPoints),Object(I.a)(t.votingPoints),Object(I.a)(t.managingPoints),Object(I.a)(t.spawningPoints))}})}}).filter(Boolean).filter((function(e){return 255<e&&e<65536}));return Object(b.jsxs)(u.h,{full:!0,className:he()("f5",t),children:[Object(b.jsx)(u.h.Item,{className:"pv3 ",cols:[1,6],third:1,children:"Point"}),Object(b.jsx)(u.h.Item,{className:"pv3 ",cols:[6,10],children:"Key Type"}),Object(b.jsx)(u.h.Divider,{}),0===a.length&&Object(b.jsx)(u.h.Item,{full:!0,className:"flex-center pv8 f5 gray4",children:"You have no active stars"}),a.map((function(e){return Object(b.jsx)(Or,{goPoint:n,point:e},e)}))]})})),Object(N.a)(gr,Nr,(function(e){var t=e.className,n=(e.goActive,Object(x.b)().wallet),a=$(n),c=function(){var e=ue().syncControlledPoints,t=W(),n=t.syncStarReleaseDetails,a=t.withdraw;return On(Object(r.useCallback)((function(e,t){return a(t,e)}),[a]),Object(r.useCallback)((function(){return Promise.all([e(),n()])}),[n,e]))}(),s=c.bind,i=c.construct,o=c.unconstruct,l=c.inputsLocked,j=c.completed,d=c.reset,f=W(),O=f.syncStarReleaseDetails,m=f.starReleaseDetails;Object(r.useEffect)((function(){O()}),[O]);var p=Object(r.useCallback)((function(e){var t=e.valid,n=e.values;t?i(n.address,Object(We.b)(n.numStars)):o()}),[i,o]),v=m.map((function(e){return e.available})),g=m.map((function(e){return e.total})),w=Object(r.useMemo)((function(){return Object(ye.r)({numStars:Object(ye.i)(0,v.getOrElse(0)+1)},(function(e,t){return!l&&t}))}),[v,l]),y={address:a};return Object(b.jsx)(u.h,{gap:j?0:6,className:he()("mt4",t),full:!0,children:Object(b.jsx)(ge.a,{initialValues:y,onValues:p,validate:w,children:function(e){var t=e.values,n=e.form;return Object(b.jsxs)(b.Fragment,{children:[!j&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,className:"f5",children:["You have ",Object(b.jsx)(pr,{quantity:v}),"available to withdraw",Object(b.jsx)("br",{}),"You have",Object(b.jsx)(pr,{quantity:g}),"total"]}),Object(b.jsx)(u.h.Item,{cols:[1,4],label:"Stars",as:Ge.e,placeholder:"#",name:"numStars",disabled:l,accessory:Object(b.jsxs)("div",{className:"flex-center h-full",children:["/ \xa0",Object(Cn.c)(v)]})}),Object(b.jsxs)(u.h.Item,{full:!0,className:"f5",cols:[1,13],as:u.g,col:!0,children:[Object(b.jsx)(u.g.Item,{name:"address",as:Ge.a,label:"Withdraw To",disabled:l}),Object(b.jsx)(u.g.Item,{as:vr,isOwn:a===t.address})]})]}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),j&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,className:"pv4",children:[t.numStars," ",mr(t.numStars,"star has","stars have")," been withdrawn"]}),Object(b.jsx)(u.h.Divider,{})]}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},s),{},{label:"Withdraw Stars",onReturn:function(){d(),n.reset()}}))]})}})})})),Object(N.a)(gr,kr,(function(e){var t=e.className,n=(e.goActive,Object(x.b)().wallet),a=Object(v.b)().contracts,c=Object(l.b)().pop,s=$(n),i=W(),o=i.syncStarReleaseDetails,j=i.starReleaseDetails;Object(r.useEffect)((function(){o()}),[o]);var d=Object(r.useMemo)((function(){return"conditional"===j.map((function(e){return e.kind})).getOrElse("")?"conditional":"linear"}),[j]),f=Object(r.useMemo)((function(){var e;return e=(e="conditional"===d?j.map((function(e){return e.conditional.approvedTransferTo})):j.map((function(e){return e.linear.approvedTransferTo}))).getOrElse("0x0"),!Object(Ie.e)(e)&&!Object(Ie.c)(e,s)&&e}),[j,d,s]),O=function(e){var t=Object(v.b)().contracts;return On(Object(r.useCallback)((function(n){var r=q(t);return"conditional"===e?E.conditionalSR.approveCommitmentTransfer(r,n):E.linearSR.approveBatchTransfer(r,n)}),[e,t]),(function(){}))}(d),m=O.bind,p=O.construct,g=O.unconstruct,w=O.inputsLocked,N=O.completed,S=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.valid,r=t.values,n?p(r.to):g();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,g]),I=Object(r.useMemo)((function(){return Object(ye.r)({to:function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(xr.isValidAddress)(t)){e.next=2;break}return e.abrupt("return","This is not a valid Ethereum address.");case 2:return e.next=4,R(q(a),t);case 4:if((n=e.sent)!==d&&"both"!==n){e.next=7;break}return e.abrupt("return","Target address already owns a ".concat(d," lockup."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),[d,a]);return Object(b.jsx)(u.h,{gap:N?0:6,className:he()("mt4",t),full:!0,children:Object(b.jsx)(ge.a,{onValues:S,validate:I,children:function(e){var t=e.values;e.form;return Object(b.jsxs)(b.Fragment,{children:[!N&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,className:"f5",children:["Allow the specified address to take over your ",d," lockup.",Object(b.jsx)("br",{}),"After they accept the transfer, you will no longer be able to"," ","withdraw from this lockup."]}),f&&Object(b.jsxs)(u.h.Item,{full:!0,as:qn,children:["Transfer currently approved for"," ",Object(b.jsx)(Gn,{children:f})]}),Object(b.jsx)(u.h.Item,{full:!0,className:"f5",cols:[1,13],as:u.g,col:!0,children:Object(b.jsx)(u.g.Item,{name:"to",as:Ge.a,label:"Approve transfer to",disabled:w})})]}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),N&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,className:"pv4",children:[Object(b.jsx)(Gn,{children:t.to})," is now allowed"," ","to take ownership of this lockup. They can do so by visiting:"]}),Object(b.jsxs)(u.h.Item,{full:!0,as:"code",className:"f5 mb4 mono wrap",children:["https://bridge.urbit.org/?kind=takeLockup&lock=",d,"&from=",s]}),Object(b.jsx)(u.h.Divider,{})]}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},m),{},{label:"Approve Transfer",onReturn:function(){return c()}}))]})}})})})),gr),Ir=[{text:"Active",value:yr},{text:"Locked",value:Nr},{text:"Transfer",value:kr}];var Er="f5";function Cr(e){var t=e.point,n=Oe("bridge:was-greeted",!1),a=Object(i.a)(n,2),c=a[0],s=a[1],o=_e.a.patp(t),l=Object(r.useCallback)(Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!0);case 1:case"end":return e.stop()}}),e)}))),[s]);return!c&&Object(b.jsxs)(u.h,{gap:4,className:"mb10",children:[Object(b.jsxs)(u.h.Item,{full:!0,children:[Object(b.jsxs)(u.t,{className:he()(Er,"block mb4"),children:["Welcome ",Object(b.jsx)("code",{children:o}),","]}),Object(b.jsx)(u.t,{className:he()(Er,"block mb2"),children:"As of this moment, you own a piece of Urbit. No one can take it from you, and you can keep it for the rest of your life."}),Object(b.jsx)(u.t,{className:he()(Er,"block mb2"),children:"Keep your Master Ticket safe. No one can recover it for you. But it can get you back into Urbit at any time."}),Object(b.jsx)(u.t,{className:he()(Er,"block mb2"),children:"Right now you can:"})]}),Object(b.jsx)(u.h.Item,{full:!0,as:u.q,href:"https://urbit.org/docs/getting-started/",children:Object(b.jsx)(u.t,{className:he()(Er,"block mb2"),children:"Boot Arvo, the Urbit OS"})}),Object(b.jsx)(u.h.Item,{full:!0,children:Object(b.jsx)(u.t,{className:he()(Er,"block mb4"),children:"Welcome to Urbit. See you online."})}),Object(b.jsx)(u.h.Item,{full:!0,as:u.q,onClick:l,children:"Close"})]})}var Tr=n(4),Pr=n.n(Tr),Rr=(n(1091),function(e,t,n,r,a){return r+(a-r)*(e-t)/(n-t)}),Ar=function(e){return Array.from(Array(e),(function(e,t){return t}))},Dr={get:{at:function(e,t,n){return e[t][n]},nn:function(e,t,n){return e[t-1][n]},ne:function(e,t,n){return e[t-1][n+1]},ee:function(e,t,n){return e[t][n+1]},se:function(e,t,n){return e[t+1][n+1]},ss:function(e,t,n){return e[t+1][n]},sw:function(e,t,n){return e[t+1][n-1]},ww:function(e,t,n){return e[t][n-1]},nw:function(e,t,n){return e[t-1][n-1]}},set:{at:function(e,t,n,r){return e[t][n]=r},nn:function(e,t,n,r){return e[t-1][n]=r},ne:function(e,t,n,r){return e[t-1][n+1]=r},ee:function(e,t,n,r){return e[t][n+1]=r},se:function(e,t,n,r){return e[t+1][n+1]=r},ss:function(e,t,n,r){return e[t+1][n]=r},sw:function(e,t,n,r){return e[t+1][n-1]=r},ww:function(e,t,n,r){return e[t][n-1]=r},nw:function(e,t,n,r){return e[t-1][n-1]=r}},coord:{at:function(e,t){return{r:e,c:t}},nn:function(e,t){return{r:e-1,c:t}},ne:function(e,t){return{r:e-1,c:t+1}},ee:function(e,t){return{r:e,c:t+1}},se:function(e,t){return{r:e+1,c:t+1}},ss:function(e,t){return{r:e+1,c:t}},sw:function(e,t){return{r:e+1,c:t-1}},ww:function(e,t){return{r:e,c:t-1}},nw:function(e,t){return{r:e-1,c:t-1}}},dirs:{NN:"nn",NE:"ne",EE:"ee",SE:"se",SS:"ss",SW:"sw",WW:"ww",NW:"nw"},new:function(e,t){return Ar(e).map((function(e){return Ar(t).map((function(e){return 0}))}))},rows:function(e){return e.length-1},cols:function(e){return e[0].length-1}},Fr=function(e,t){var n=new RegExp(".{1,".concat(t,"}"),"g");return e.match(n)},Lr=[Dr.dirs.NN,Dr.dirs.NE,Dr.dirs.EE,Dr.dirs.SE,Dr.dirs.SS,Dr.dirs.SW,Dr.dirs.WW,Dr.dirs.NW],Mr=n(179),_r=["point","inverted"];function Wr(e,t,n){var r={margin:0,renderer:Mr.reactRenderer,full:!0,patp:t,colors:n,size:e};return Object(Mr.sigil)(r)}var Br=[0,1,2,3,4,5,6,7,8,9,10,11,12,13];function Ur(e){var t=e.address,n=e.point,a=e.inverted,c=e.animationMode,s=void 0===c?"none":c,u=e.keyType,l=o.Nothing.hasInstance(t)||o.Nothing.hasInstance(n),j=_e.a.patp(n.value),d=function(e){var t=e.substring(2),n=new Pr.a(t,16).pow(new Pr.a(10)),r=n.toString(10).padStart(32,"0"),a=Math.ceil(r.length/8),c=Fr(r,a).map((function(e){return new Pr.a(e)})),s=Dr.new(12,35),o=c.reduce((function(e,t){return function(e,t){for(var n,r,a=e.toString(8).split(""),c=e.toString(10),s=Dr.rows(t),i=Dr.cols(t),o=parseInt(c.substring(0,2)||0,10),u=parseInt(c.substring(2,4)||0,10),l={c:~~Rr(o,0,99,0,i),r:~~Rr(u,0,99,0,s)},b=0;b<a.length;b++)n=Lr[a[b]],(r=Dr.coord[n](l.r,l.c)).r<0&&(n=Dr.dirs.SS),r.c<0&&(n=Dr.dirs.EE),r.r>s&&(n=Dr.dirs.NN),r.c>i&&(n=Dr.dirs.WW),0===r.r&&0===l.c&&(n=Dr.dirs.SE),r.r>s&&0===l.c&&(n=Dr.dirs.NE),0===r.r&&l.c>i&&(n=Dr.dirs.SW),r.r>s&&l.c>i&&(n=Dr.dirs.NW),r=Dr.coord[n](l.r,l.c),Dr.set.at(t,r.r,r.c,Dr.get.at(t,r.r,r.c)+1),l=r;return[e,t]}(t,e[1])}),function(e,t){for(var n,r,a,c,s,i=Fr(e.toString(10),4),o=Dr.cols(t),u=Dr.rows(t),l=0;l<i.length;l++)n=i[l],r=parseInt(n.substring(0,2)||0,10),a=parseInt(n.substring(2,4)||0,10),c=~~Rr(r,0,99,0,o),s=~~Rr(a,0,99,0,u),Dr.set.at(t,s,c,Dr.get.at(t,s,c)+1);return[e,t]}(n,s));return Object(i.a)(o,2)[1]},f=t.matchWith({Just:function(e){var t=e.value;return d(t)},Nothing:function(){return Dr.new(12,35)}}),h=a?"white":"black",O=a?"black":"white",m=Object(r.useMemo)((function(){return o.Just.hasInstance(n)&&Wr(64,j,[h,O])}),[j,n,h,O]);return Object(b.jsxs)("div",{style:{fontFamily:"Inter",backgroundColor:h,border:a?"2px solid #E6E6E6":"2px solid black",borderRadius:"20px",marginBottom:"16px",width:"".concat(452,"px"),minWidth:"".concat(452,"px"),display:"flex",flexDirection:"column"},children:[Object(b.jsx)("div",{style:{height:"64px",padding:"16px",display:"flex"},children:Object(b.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:[m,Object(b.jsxs)("div",{style:{marginLeft:"16px"},children:[Object(b.jsx)("div",{style:{fontWeight:"600",color:O,fontSize:"16px",fontFamily:"Source Code Pro"},children:o.Just.hasInstance(n)&&j}),""!==u?Object(b.jsx)("div",{style:{marginTop:"8px",fontWeight:"500",color:O,fontSize:"14px",fontFamily:"Source Code Pro"},children:u}):Object(b.jsx)("div",{})]})]})}),Object(b.jsx)("div",{style:{display:"flex",flexDirection:"column",padding:"16px",paddingTop:"0px",filter:a?"invert(1)":""},children:f.map((function(e,t){return Object(b.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:e.map((function(e,n){return Object(b.jsx)(Hr,{row:t,col:n,value:"undefined"===typeof Br[e]?13:e,spriteSheet:"a",spriteSheetHeight:12,spriteSheetWidth:168,inverted:a,loading:l,animationMode:s})}))},"card:row:".concat(t))}))})]})}var Hr=function(e){return Object(b.jsx)("div",{className:e.loading?"blink":"none"===e.animationMode?"":"".concat(e.animationMode,"-h-").concat(e.value),style:{backgroundImage:"url(/spritesheet_a.png)",backgroundPosition:"none"===e.animationMode?"-".concat(e.spriteSheetHeight*e.value,"px 0px"):"",backgroundSize:"".concat(e.spriteSheetWidth,"px ").concat(e.spriteSheetHeight,"px"),width:"".concat(e.spriteSheetHeight,"px"),maxWidth:"".concat(e.spriteSheetHeight,"px"),height:"".concat(e.spriteSheetHeight,"px"),maxHeight:"".concat(e.spriteSheetHeight,"px"),animationDelay:"".concat(50*e.value,"ms")}},"card:cell:".concat(e.row,":").concat(e.col,":").concat(e.value))};Ur.Mini=function(e){var t=e.point,n=e.inverted,a=Object(d.a)(e,_r);dr([t]);var c=Object(x.b)().wallet,s=$(c),i=_e.a.patp(t),o=lr(s,t),u=hr(o),l=Object(r.useMemo)((function(){return Wr(44,i,n?["white","black"]:["black","white"])}),[n,i]);return Object(b.jsx)("div",Object(h.a)(Object(h.a)({style:{fontFamily:"Inter",backgroundColor:n?"white":"black",border:n?"2px solid #E6E6E6":"2px solid black",borderRadius:"20px",marginBottom:"16px",maxWidth:"".concat(230,"px"),display:"flex",flexDirection:"column"}},a),{},{children:Object(b.jsx)("div",{style:{height:"44px",padding:"16px",display:"flex"},children:Object(b.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:[l,Object(b.jsxs)("div",{style:{marginLeft:"16px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(b.jsx)("div",{style:{fontWeight:"600",color:n?"black":"white",fontSize:"14px",fontFamily:"Source Code Pro"},children:i}),""!==u?Object(b.jsx)("div",{style:{marginTop:"8px",fontWeight:"500",color:n?"black":"white",fontSize:"12px",fontFamily:"Source Code Pro"},children:u}):Object(b.jsx)("div",{})]})]})})}))};var Vr=Ur,zr=function(e){var t=e.className,n=e.available,r=void 0===n?Object(o.Nothing)():n,a=e.sent,c=void 0===a?Object(o.Nothing)():a,s=e.accepted,i=void 0===s?Object(o.Nothing)():s,u=r.getOrElse(1),l=c.getOrElse(0),j=i.getOrElse(0),d=u+l;return Object(b.jsxs)("div",{className:he()("h7 p1 b1 b-black flex",t),children:[Object(b.jsx)("div",{className:"bg-black",style:{width:"".concat(j/d*100,"%")}}),Object(b.jsx)("div",{className:"bg-yellow4",style:{width:"".concat((l-j)/d*100,"%")}}),Object(b.jsx)("div",{className:"flex-grow"})]})};function Kr(e){var t=e.children,n=e.bgColor,r=e.fgColor,a=e.className;return Object(b.jsx)("div",{className:he()(a,"h6 r-full flex-center ph2 mh2 f6",n,r),children:t})}var Gr=n(157),Jr=function(e){var t=e.className,n=e.pendingPoints,r=e.acceptedPoints,a=Object(H.take)(r.getOrElse([]).map((function(e){return Object(o.Just)(Me.patp(e))})),6),c=Object(H.take)(n.getOrElse([]).map((function(e){return Object(o.Just)(Me.patp(e))})),6-a.length),s=Object(I.a)(Array(Math.max(6-a.length-c.length,0)).keys()).map((function(){return Object(o.Nothing)()})),i=function(e,t,n){return Object(b.jsx)(b.Fragment,{children:e.map((function(e,r){return Object(b.jsx)("div",{title:e.getOrElse(null),className:he()(n,"h9 w9"),children:Object(b.jsx)(Gr.a,{patp:e,size:50,colors:t})},r)}))})};return Object(b.jsxs)("div",{className:he()("flex justify-between",t),children:[i(a,["#000000","#FFFFFF"]),i(c,["#ee892b","#FFFFFF"]),i(s,[],"b1 b-gray3 b-dashed")]})};function Yr(e){return(0,ue().getInvites)(e)}function qr(){var e=Object(x.b)().wallet,t=Object(g.b)().pointCursor;return lr(e.matchWith({Nothing:function(){return""},Just:function(e){return e.value.address}}),t.getOrElse(null))}function Zr(e){e.preventDefault(),e.returnValue=""}function Xr(){return Object(r.useEffect)((function(){return window.addEventListener("beforeunload",Zr),function(){window.removeEventListener("beforeunload",Zr)}}))}var $r=Se.c?"3012":"3002",Qr="https://onboarding-emails.urbit.org:".concat($r);function ea(e,t){return new Promise((function(n,r){fetch(Qr+e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.ok?n(e.json()):r(e)})).catch(r)}))}function ta(e){return na.apply(this,arguments)}function na(){return(na=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea("/has-received",{recipient:t});case 2:return n=e.sent,e.abrupt("return",n.hasReceived);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t,n,r,a){return ea("/send-ticket",{recipient:e,ticket:t,sender:n,message:r,tx:a})}var aa="true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_ENDPOINT:"2599df54929b47099bda360958d75aaf"}).REACT_APP_STUB_MAILER;var ca,sa=n(123),ia=Le.g.GIFT_PLANET,oa="INPUT",ua="SENDING",la="SUCCESS",ba="FAILURE",ja=function(){var e=Object(v.b)(),t=e.contracts,n=e.web3,a=e.networkType,c=Object(x.b)(),s=c.wallet,o=c.walletType,u=c.walletHdPath,l=c.authToken,b=Object(g.b)().pointCursor,j=ue().syncInvites,d=cn().gasPrice,f=Q(b),h=Object(r.useState)(null),O=Object(i.a)(h,2),m=O[0],p=O[1],w=Object(r.useState)([]),S=Object(i.a)(w,2),I=S[0],C=S[1],T=Object(r.useState)(0),P=Object(i.a)(T,2),R=P[0],A=P[1],D=Object(r.useState)(oa),F=Object(i.a)(D,2),L=F[0],M=F[1],_=L===la;Object(r.useEffect)((function(){_&&j(f)}),[_,j,f]);var W=Object(r.useCallback)((function(){A(0),C([]),M(oa)}),[A,C,M]);return{progress:R,txStatus:L,needFunds:m,invites:I,generateInvites:Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(r){var c,i,b,h,O,m,v,x,g,w,S,I,T,P,R,D,F,L,_,W,B;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.getOrElse(null),i=n.getOrElse(null),b=s.getOrElse(null),h=l.getOrElse(null),c&&i&&b&&h){e.next=6;break}throw new Error("Internal Error: Missing Contracts/Web3/Wallet");case 6:return e.next=8,i.eth.getTransactionCount(b.address);case 8:return O=e.sent,e.next=11,i.eth.net.getId();case 11:return m=e.sent,e.next=14,E.delegatedSending.getPlanetsToSend(c,f,r);case 14:if(v=e.sent,M(ua),!(v.length<r)){e.next=20;break}return j(f),M(ba),e.abrupt("return",{errors:Object(N.a)({},De.b,"Can currently only send ".concat(v.length," invites. ")+"Please remove invites until you are within the limit.")});case 20:x=[],g=0;case 22:if(!(g<r)){e.next=46;break}return A((function(e){return e+1})),e.prev=24,w=v[g],e.next=28,sa.a(w,h);case 28:return S=e.sent,I=S.ticket,T=S.owner,P=E.delegatedSending.sendPoint(c,f,w,T.keys.address),e.next=34,Object(Vt.f)({wallet:b,walletType:o,walletHdPath:u,networkType:a,chainId:m,nonce:O+g,txn:P,gasPrice:d.toFixed(),gasLimit:ia.toFixed()});case 34:R=e.sent,D=Object(Vt.c)(R.serialize()),x.push({ticket:I,signedTx:R,rawTx:D}),e.next=43;break;case 39:return e.prev=39,e.t0=e.catch(24),console.error(e.t0),e.abrupt("return",{errors:Object(N.a)({},Ye.a,"There was an error while generating wallets.")});case 43:g++,e.next=22;break;case 46:return F=Object(Ht.toBN)(ia).mul(Object(Ht.toBN)(d)).mul(Object(Ht.toBN)(r)),e.next=49,$t(i,f,b.address,o,Object(on.d)(F,"gwei"),x.map((function(e){return e.rawTx})),(function(e,t,n){return p({address:e,minBalance:t,balance:n})}),(function(){return p(void 0)}));case 49:return L=e.sent,_=[],W=[],B=x.map(function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Vt.e)(i,t.signedTx,L);case 3:return n=e.sent,e.next=6,Object(Vt.g)(i,n);case 6:W.push(t),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error("Error sending invite tx:",e.t0),"string"===typeof e.t0?_.push(e.t0):"object"===typeof e.t0&&e.t0.message&&_.push(e.t0.message),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),e.next=55,Promise.all(B);case 55:if(M(la),C(W),!(_.length>0)){e.next=59;break}return e.abrupt("return",{errors:Object(N.a)({},De.b,["Error sending invites: "].concat(_))});case 59:return e.abrupt("return",{invites:W});case 60:case"end":return e.stop()}}),e,null,[[24,39]])})));return function(t){return e.apply(this,arguments)}}(),[l,t,d,a,f,j,s,u,o,n]),resetInvites:W}},da=n(542),fa=function(e){var t=e.onDelete,n=e.disabled,r=e.name,a=Object(mt.b)(r,{subscription:{value:!0}}).input;return Object(b.jsxs)(u.g,{className:he()("r32 ph2 m1 flex-center h7",{"bg-gray2":!n,"bg-gray1 gray4":n}),children:[Object(b.jsx)(u.g.Item,{children:a.value}),Object(b.jsx)(u.g.Item,{onClick:n?void 0:t,className:"ml1 f6 pointer-hover",children:"\u2717"})]})},ha=function(e){var t=e.className,n=e.name,a=e.label,c=e.disabled,s=Object(da.a)(n,{subscription:{error:!0,active:!0}}),o=s.fields,l=s.meta,j=l.error,d=l.active,f=Object(r.useState)(""),h=Object(i.a)(f,2),O=h[0],m=h[1],p=Object(r.useCallback)((function(e){e.preventDefault(),m(e.target.value)}),[m]),v=Object(r.useCallback)((function(){o.concat(O.split(/[\n\t, ]+/)),m("")}),[O,o,m]),x=Object(r.useCallback)((function(e){["Enter","Tab",","," "].includes(e.key)&&""!==O?(e.preventDefault(),v()):"Backspace"===e.key&&""===O?(e.preventDefault(),o.pop()):c&&e.preventDefault()}),[o,O,c,v]),g=Object(r.useCallback)((function(e){return function(){o.remove(e)}}),[o]),w=Object(r.useCallback)((function(e){e.preventDefault(),""!==O&&v()}),[v,O]),y=Object(ye.s)(j);return Object(b.jsxs)(u.g,{col:!0,className:t,children:[a&&Object(b.jsx)(u.g.Item,{as:"label",className:he()("f6 lh-tall"),htmlFor:n,children:a}),Object(b.jsxs)(u.g.Item,{className:he()("flex b1 flex-wrap",{"b-green2":d&&!c&&!y,"b-red3":d&&!c&&y}),children:[o.map((function(e,t){return Object(b.jsx)(fa,{name:e,disabled:c,onDelete:g(t)},t)})),Object(b.jsx)("input",{type:"textarea",className:"mv1 mh2 h7 b-none flex1",placeholder:"Enter an email address",value:O,onChange:p,onKeyDown:x,onBlur:w})]}),j&&Object(b.jsx)(u.g.Item,{as:u.f,className:"mv1",children:j})]})},Oa={INPUT:"INPUT",SENDING:"SENDING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},ma=function(e){var t=e.setSubmitting,n=ja(),a=n.progress,c=n.txStatus,s=n.needFunds,o=n.generateInvites,l=n.resetInvites,j=function(){var e=Object(r.useRef)({});return{getHasReceived:Object(r.useCallback)(function(){var t=Object(k.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current[n]){t.next=10;break}if(!aa){t.next=7;break}return t.next=4,ze(350);case 4:e.current[n]=!1,t.next=10;break;case 7:return t.next=9,ta(n);case 9:e.current[n]=t.sent;case 10:return t.abrupt("return",e.current[n]);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]),sendMail:Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t,n,r,a,c){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!aa){e.next=5;break}return console.log("".concat(t," - ").concat(n)),e.next=4,ze(1e3*Math.random());case 4:return e.abrupt("return",!0);case 5:return e.next=7,ra(t,n,r,a,c);case 7:if(e.sent){e.next=10;break}throw new Error("Failed to send mail");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),[])}}(),d=j.sendMail,f=j.getHasReceived,O=Object(r.useState)(Oa.INPUT),m=Object(i.a)(O,2),p=m[0],v=m[1],x=Object(r.useState)(0),w=Object(i.a)(x,2),S=w[0],I=w[1],E=p===Oa.INPUT,C=c===Oa.SENDING||p===Oa.SENDING,T=p===Oa.SUCCESS,P=p===Oa.FAILED,R=Object(g.b)().pointCursor,A=Q(R),D=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=H.compact,e.next=3,Promise.all(Object(H.zip)(t,n).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return d(n,r.ticket,Me.patp(A),"",r.rawTx).then((function(){return null})).catch((function(){return"Sending ticket ".concat(r.ticket," to ").concat(n," failed.")}))})));case 3:if(e.t1=e.sent,!(r=(0,e.t0)(e.t1).join(", ")).length){e.next=7;break}return e.abrupt("return",Object(N.a)({},De.b,r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[A,d]),F=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(n,r){var a,c,s,i,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.emails.length,I(a),v(Oa.SENDING),t(!0),e.next=6,o(a);case 6:if(c=e.sent,s=c.errors,i=c.invites,!s){e.next=13;break}return v(Oa.FAILED),t(!1),e.abrupt("return",s);case 13:return e.next=15,D(n.emails,i);case 15:if(!(u=e.sent)){e.next=21;break}return console.log(u),v(Oa.FAILED),t(!1),e.abrupt("return",u);case 21:t(!1),v(Oa.SUCCESS),setTimeout((function(){v(Oa.INPUT),l(),r.reset()}),1500);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,o,D,l]),L=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return","This email has already received an invite: "+t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]),M=Object(r.useCallback)((function(){switch(p){case Oa.INPUT:return"Add to Invite Group";case Oa.SENDING:return"Sending ".concat(mr(S,"Invite"),"...");case Oa.SUCCESS:return"\u2713 ".concat(mr(S,"Invite")," sent");case Oa.FAILURE:default:return"Error"}}),[p,S]),_=Object(r.useCallback)((function(e){if(E)return Object(b.jsx)(u.h.Item,{full:!0,as:we.a,handleSubmit:e,children:M()});if(C){var t=a/S;return Object(b.jsx)(u.h.Item,{full:!0,as:Pn,className:"mt4",solid:!0,disabled:!0,success:!0,progress:t,children:M(S)})}return T?Object(b.jsx)(u.h.Item,{full:!0,className:"mt4 p3 bg-green3 white f5",children:M(S)}):P?Object(b.jsx)(u.h.Item,{full:!0,className:"mt4 p3 bg-red3 white f5",children:M(S)}):null}),[M,T,P,C,E,S,a]),W=Object(r.useCallback)((function(e,t){if(Object(ye.s)(t))return t;var n=e.emails.filter((function(e){return!!e}));return Object(H.uniq)(n).length!==n.length?Object(N.a)({},De.b,"Duplicate email."):void 0}),[]),B=Object(r.useMemo)((function(){return Object(ye.r)({emails:Object(ye.c)(Object(ye.e)(L))},W)}),[L,W]);return Object(b.jsx)(u.h.Item,{full:!0,as:u.h,children:Object(b.jsx)(ge.a,{validate:B,initialValues:{emails:[]},initialValuesEqual:H.isEqual,onSubmit:F,children:function(e){var t=e.handleSubmit;e.values;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:ha,name:"emails",className:"mt4"}),_(t),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),s&&Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,as:Yn},s))]})}})})},pa="INPUT",va="SENDING",xa=function(e){var t=e.setSubmitting,n=ja(),a=n.txStatus,c=n.needFunds,s=n.invites,o=n.generateInvites,l=Object(r.useState)(),j=Object(i.a)(l,2),d=j[0],f=j[1],O=Object(r.useCallback)(Object(k.a)(y.a.mark((function e(){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,o(1);case 3:n=e.sent,r=n.errors,Object(ye.s)(r)&&f(r),t(!1);case 7:case"end":return e.stop()}}),e)}))),[o,t]),m=Object(r.useCallback)((function(){if(d)return Object(b.jsx)(u.h.Item,{full:!0,className:"mt4 p3 bg-red3 white f5",children:"Error generating invite"});switch(a){case pa:return Object(b.jsx)(u.h.Item,{solid:!0,full:!0,className:"mt4",as:At.c,onClick:function(){return O()},children:"Generate Invite URL"});case va:return Object(b.jsx)(u.h.Item,{full:!0,as:Pn,className:"mt4",solid:!0,disabled:!0,success:!0,progress:.5,children:"Generating Invite URL"});default:return null}}),[a,d,O]),p="https://bridge.urbit.org/#".concat(Object(H.get)(s,"[0].ticket","").slice(1)),v=kn(p),x=Object(i.a)(v,2),g=x[0],w=x[1];return Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,gap:3,children:[s.length>0&&Object(b.jsxs)(u.h.Item,{as:u.g,full:!0,col:!0,children:[Object(b.jsxs)(u.g.Item,{full:!0,className:"b-gray3 b1 mt4 mb1 p1 flex flex-center",children:[Object(b.jsx)("div",{className:"flex1 ml1 f6",children:p}),Object(b.jsx)(u.g.Item,{className:"p2 bg-black white pointer-hover f6",onClick:function(){return g()},children:w?"Copied":"Copy"})]}),Object(b.jsx)(u.g.Item,{full:!0,className:"f6 mb4 gray5",children:"Your invite link expires after consumption."})]}),0===s.length&&m(),c&&Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,as:Yn},c)),d&&Object(b.jsx)(u.h.Item,{as:u.f,children:d[De.b]||d[Ye.a]})]})},ga={MAIL:"MAIL",URL:"URL"},wa=(ca={},Object(N.a)(ca,ga.MAIL,ma),Object(N.a)(ca,ga.URL,xa),ca),ya=[{text:"Email",value:ga.MAIL},{text:"URL",value:ga.URL}],Na=function(){var e,t=Object(r.useState)(ga.MAIL),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),o=Object(i.a)(s,2),l=o[0],j=o[1];e=l,Object(r.useEffect)((function(){return e?window.addEventListener("beforeunload",Zr):window.removeEventListener("beforeunload",Zr),function(){e&&window.removeEventListener("beforeunload",Zr)}}));var d=Object(r.useCallback)((function(e){l||c(e)}),[l,c]);return Object(b.jsx)(u.h.Item,{full:!0,as:ir,center:!0,className:"flex1",views:wa,options:ya,currentTab:a,onTabChange:d,setSubmitting:j})};function ka(e){var t=e.showInviteForm,n=e.setShowInviteForm,r=e.acceptedInvites,a=e.acceptedPoints,c=e.availableInvites,s=e.goCohort,i=e.pendingPoints,o=e.sentInvites,l=e.showInvites,j=o.getOrElse(0)+c.getOrElse(0),d=i.getOrElse([]).length;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{cols:[1,11],children:["Invite Group",Object(b.jsx)("br",{})]}),Object(b.jsx)(u.h.Item,{className:he()("t-right underline pointer-hover",{gray4:0===o.getOrElse(0)}),onClick:s,cols:[11,13],children:"View"}),Object(b.jsx)(u.h.Item,{full:!0,children:Object(b.jsxs)(u.g,{align:"center",children:[Object(b.jsxs)(u.g.Item,{children:[r.getOrElse(0)," / ",j]}),d>0&&Object(b.jsxs)(u.g.Item,{as:Kr,className:"bg-yellow1 yellow4",children:[d," pending"]})]})}),l&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:zr,available:c,sent:o,accepted:r}),Object(b.jsx)(u.h.Item,{full:!0,as:Jr,pendingPoints:i,acceptedPoints:a})]}),!l&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(u.h.Item,{full:!0,className:"b-gray4 b-dotted b1 self-center",children:Object(b.jsx)("div",{className:"p4 pv8 t-center gray4",children:"Start your invite group by adding members"})})}),!t&&c.getOrElse(0)>0&&Object(b.jsx)(u.h.Item,{full:!0,solid:!0,as:u.d,center:!0,onClick:function(){return n(!0)},children:"Add Members"}),t&&Object(b.jsx)(Na,{}),Object(b.jsx)(u.h.Item,{full:!0,className:"mb2"})]})}function Sa(e){return Object(r.useEffect)(e,[])}var Ia=n(255),Ea=n.n(Ia),Ca=["points","className","actions"],Ta=function(e,t,n){return e.matchWith({Nothing:function(){return n},Just:function(e){return e.value.matchWith({Ok:function(e){return Object(H.get)(e.value,t,n)},Error:function(e){return n}})}})},Pa=function(e){return!Object(Ie.e)(e.transferProxy)},Ra=function(e){var t=e.points,n=e.className,r=e.actions,a=Object(d.a)(e,Ca),c=Object(g.b)().setPointCursor,s=Object(l.b)(),i=s.push,j=s.names;return Object(b.jsx)(u.h,{gap:3,className:n,children:t.map((function(e,t){return Object(b.jsx)(u.h.Item,{className:"full half-".concat(t%2+1,"-md half-").concat(t%2+1,"-lg"),children:Object(b.jsxs)(u.g,{col:!0,children:[Object(b.jsx)(Vr.Mini,Object(h.a)({point:e,className:"pointer",onClick:function(){c(Object(o.Just)(e)),i(j.POINT)}},a)),r&&Object(b.jsx)(u.g.Item,{className:"mt2",children:r(e,t)})]})},e)}))})};function Aa(e){var t=e.actions,n=void 0===t?[]:t;return Object(b.jsx)(u.g,{row:!0,children:n.map((function(e){return Object(b.jsx)(u.g.Item,{as:u.q,className:"mr3",onClick:e.onClick,children:e.text},e.text)}))})}var Da=n(101),Fa=Object(r.createContext)(null),La=Fa.Provider;function Ma(){return Object(r.useContext)(Fa)}var _a=["as"];function Wa(e){var t=e.as,n=void 0===t?u.d:t,r=Object(d.a)(e,_a);return Object(b.jsx)(Re.a,{children:Object(b.jsxs)(u.h,{className:"pt4",children:[Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,children:Object(b.jsx)(n,Object(h.a)({},r))})]})})}var Ba=n(543),Ua=n.n(Ba),Ha=n(174),Va=n.n(Ha);function za(e,t){return Ka.apply(this,arguments)}function Ka(){return(Ka=Object(k.a)(y.a.mark((function e(t,n){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa.d(t);case 2:return r=e.sent,e.next=5,sa.c(t,r,n);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ga(e,t,n){return Ja.apply(this,arguments)}function Ja(){return(Ja=Object(k.a)(y.a.mark((function e(t,n,r){var a,c,s,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t.length){e.next=12;break}return a=new Ua.a,c=t[0],s=c.wallet.meta.patp.replace("~",""),i="".concat(s,"-passport"),o=a.folder(i),c.frames.forEach((function(e){var t="".concat(s,"-").concat(e.givenName,".png");o.file(t,e.image)})),n&&r&&o.file(r,n),e.next=10,a.generateAsync({type:"blob"}).then((function(e){Va()(e,"".concat(i,".zip"))}));case 10:e.next=13;break;case 12:console.error("downloadWallet() can only download 1 wallet at a time.");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(){var e=window.location.hash.slice(1),t=Object(We.e)(e);return _e.a.isValidPatq(t)?t:null}var qa=n(70),Za=n(544),Xa=n.n(Za),$a=["point","wallets","callback"];function Qa(e){e.point;var t=e.wallets,n=e.callback;Object(d.a)(e,$a);return Object(b.jsx)(Xa.a,{wallets:t,callback:function(e){console.log(e),n(e)},show:!1,debug:!1,output:"png"})}var ec=["num","total","className"];function tc(e){var t=e.num,n=void 0===t?1:t,r=e.total,a=void 0===r?3:r,c=e.className,s=Object(d.a)(e,ec);return Object(b.jsxs)(u.t,Object(h.a)(Object(h.a)({className:he()("f5 gray3",c)},s),{},{children:[Object(b.jsxs)(u.t,{className:"f5 black",children:["Step ",n]})," of ",a]}))}function nc(e){var t=e.className,n=e.children,r=e.header,a=e.step;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.h,{className:he()(t,"auto-rows-min"),children:[Object(b.jsx)(u.h.Item,{full:!0,as:tc,num:a,total:3,style:{height:"48px"}}),Object(b.jsx)(u.h.Item,{full:!0,as:u.k,children:r}),Object(b.jsx)(u.h.Item,{full:!0,children:n})]})})}var rc=Se.a;var ac=.01,cc=.15,sc=.3,ic=.55,oc=.95,uc=1;function lc(e){return bc.apply(this,arguments)}function bc(){return(bc=Object(k.a)(y.a.mark((function e(t){var n,r,a,c,s,i,o,u,l,b,j,d,f,h,O,m,p,v,x,g,w,N,k,S,I,C,T,P,R,A,D,F,L,M,_,W,B,U,H,V,z,K,G,J,Y,q,Z,X;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fromWallet,r=t.fromWalletType,a=t.fromWalletHdPath,c=t.toWallet,s=t.point,i=t.web3,o=t.contracts,u=t.networkType,l=t.onUpdate,b=t.transferEth,j=void 0!==b&&b,d=t.nextRevision,f=void 0===d?1:d,h=t.txnSigner,O=t.txnSender,m=function(e,t,n){return l({type:"askFunding",value:{address:e,minBalance:t,balance:n}})},p=function(){return l({type:"gotFunding"})},(v=function(e){return l({type:"progress",state:e})})(ac),(x=E.ecliptic.transferPoint(o,s,n.address,!1)).gas=Le.g.TRANSFER,e.next=9,Object(qa.g)(c,f);case 9:return g=e.sent,w=g.matchWith({Nothing:function(){throw new Error("network seed not derived")},Just:function(e){return e.value}}),N=Object(qa.f)(w),(k=E.ecliptic.configureKeys(o,s,Object(Ie.b)(N.crypt.public),Object(Ie.b)(N.auth.public),qa.a,!1)).gas=Le.g.CONFIGURE_KEYS,(S=E.ecliptic.setManagementProxy(o,s,c.management.keys.address)).gas=Le.g.SET_PROXY,I=[x,k,S],E.azimuth.getPointSize(s)!==E.azimuth.PointSize.Planet&&((C=E.ecliptic.setSpawnProxy(o,s,c.spawn.keys.address)).gas=Le.g.SET_PROXY,I.push(C),E.azimuth.getPointSize(s)===E.azimuth.PointSize.Galaxy&&((T=E.ecliptic.setVotingProxy(o,s,c.voting.keys.address)).gas=Le.g.SET_PROXY,I.push(T))),(P=E.ecliptic.transferPoint(o,s,c.ownership.keys.address,!1)).gas=Le.g.TRANSFER,I.push(P),v(cc),e.next=24,rn(u);case 24:return R=e.sent.toFixed(),e.next=27,i.eth.net.getId();case 27:return A=e.sent,D=Object(Ht.toBN)(Object(on.d)(R,"gwei")),e.next=31,i.eth.getTransactionCount(n.address);case 31:F=e.sent,L=I.reduce((function(e,t){return e.add(D.mul(Object(Ht.toBN)(t.gas)))}),Object(Ht.toBN)(0)),M=[],_=0;case 35:if(!(_<I.length)){e.next=43;break}return e.next=38,Object(Vt.f)({wallet:n,walletType:r,walletHdPath:a,networkType:u,txn:I[_],nonce:F+_,chainId:A,gasPrice:R,gasLimit:I[_].gas,txnSigner:h,txnSender:O});case 38:W=e.sent,M.push({raw:Object(Vt.c)(W.serialize()),signed:W});case 40:_++,e.next=35;break;case 43:return F+=I.length,v(sc),e.next=47,$t(i,s,n.address,r,L,M.map((function(e){return e.raw})),m,p);case 47:return B=e.sent,v(ic),e.next=51,Object(Vt.d)(i,M.map((function(e){return e.signed})),B);case 51:return U=e.sent,H=D.mul(U.reduce((function(e,t){return e.add(Object(Ht.toBN)(t.gasUsed))}),Object(Ht.toBN)(0))),v(oc),e.t0=Ht.toBN,e.next=57,i.eth.getBalance(n.address);case 57:if(e.t1=e.sent,V=(0,e.t0)(e.t1),z=Le.g.SEND_ETH,K=D.mul(Object(Ht.toBN)(z)),!B||!H.add(K).lt(L)){e.next=78;break}return e.prev=62,G=L.sub(H).sub(K),console.log("returning to gas tank",G.toString()),J={to:Gt,value:G},e.next=68,Object(Vt.f)({wallet:n,walletType:r,walletHdPath:a,txn:J,chainId:A,networkType:u,gasPrice:R,gasLimit:z,nonce:F});case 68:Y=e.sent,Object(Vt.e)(i,Y),F++,V=V.sub(G).sub(K),e.next=78;break;case 74:e.prev=74,e.t2=e.catch(62),console.log("error returning gas, safely ignored:"),console.log(e.t2);case 78:if(!j||!V.gt(K)){e.next=92;break}return e.prev=79,q=V.sub(K),Z={to:c.ownership.keys.address,value:q},e.next=84,Object(Vt.f)({wallet:n,walletType:r,walletHdPath:a,txn:Z,chainId:A,networkType:u,gasPrice:R,gasLimit:z,nonce:F});case 84:X=e.sent,Object(Vt.e)(i,X),e.next=92;break;case 88:e.prev=88,e.t3=e.catch(79),console.log("error sending value tx, safely ignored:"),console.log(e.t3);case 92:v(uc);case 93:case"end":return e.stop()}}),e,null,[[62,74],[79,88]])})))).apply(this,arguments)}function jc(e){var t=e.className,n=e.progress,r=void 0===n?1:n;return Object(b.jsx)("div",{className:he()("rel bg-gray2",t),style:{height:"4px"},children:Object(b.jsx)("div",{className:"abs bg-green3 animated-width",style:{top:0,bottom:0,left:0,width:"".concat(100*r,"%")}})})}var dc=function(e){return e<=0?"Verify Passport":e<=ac?"Generating Ethereum Transactions...":e<=cc?"Signing Ethereum Transactions...":e<=sc?"Funding Ethereum Transactions...":e<=ic?"Transferring ID...":e<=oc?"Cleaning Up...":e<=uc?"Done":void 0};var fc,hc=["Route"],Oc={DOWNLOAD:"DOWNLOAD",VERIFY:"VERIFY",TRANSFER:"TRANSFER"},mc=(fc={},Object(N.a)(fc,Oc.DOWNLOAD,(function(e){var t=e.className,n=Ma(),a=n.derivedPoint,c=n.derivedWallet,s=n.generated,l=n.setGenerated,j=Object(pe.b)(),d=j.push,f=j.names,h=Q(a),O=Z(c),m=Object(r.useState)(Object(o.Nothing)()),p=Object(i.a)(m,2),v=p[0],x=p[1],g=Object(r.useState)(!1),w=Object(i.a)(g,2),y=w[0],N=w[1],k=a.matchWith({Nothing:function(){return""},Just:function(e){return e.value.toFixed()}}),S=Object(r.useCallback)((function(){var e=Object(qa.d)(O.network.keys,h,1),t=_e.a.patp(h).slice(1)+"-1.key";Ga(v.getOrElse([]),e,t),N(!0)}),[v,O,h,N]);Object(r.useEffect)((function(){return l(v.matchWith({Nothing:function(){return!1},Just:function(){return!0}}))}),[v,l]);var I=Object(r.useCallback)((function(){return d(f.VERIFY)}),[d,f]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(nc,{className:t,header:"Download Your Urbit Passport",step:1,children:Object(b.jsxs)(u.h,{children:[Object(b.jsxs)(u.h.Item,{full:!0,children:[Object(b.jsx)(u.r,{children:"Your Passport includes your Master Ticket, a password giving you total control of your Urbit identity. You\u2019ll need it to access the network and manage your identity."}),Object(b.jsx)(u.r,{children:"After your Passport is downloaded, make sure to print it out on paper and store it somewhere safe."})]}),Object(b.jsx)(u.h.Item,{full:!0,as:y?At.c:At.b,disabled:!s,onClick:y?I:S,success:y,solid:!0,children:y?"Continue":"Download Passport"})]})}),Object(b.jsx)(Qa,{point:k,wallets:[O],callback:function(e){x(Object(o.Just)(e))}})]})})),Object(N.a)(fc,Oc.VERIFY,(function(e){var t=e.className,n=Object(pe.b)(),a=n.push,c=n.names,s=Ma().derivedWallet,i=Object(r.useCallback)((function(){return a(c.TRANSFER)}),[a,c]),o=Z(s).ticket,l=Object(r.useMemo)((function(){return Object(ye.r)({ticket:Object(ye.k)([Object(cr.d)(o,"Does not match expected master ticket.")]),showTicket:Object(ye.d)()})}),[o]),j=Object(r.useMemo)((function(){return{ticket:rc?o:void 0,showTicket:!0}}),[o]);return Object(b.jsx)(nc,{header:"Verify Your Master Ticket",step:2,className:t,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.r,children:"We need to verify that you\u2019re you. Unzip the file you downloaded in the previous step. It should yield a directory of images."}),Object(b.jsx)(u.h.Item,{full:!0,as:u.r,children:"One of the images includes your Master Ticket. It\u2019s a four-word phrase separated with hyphens. Enter it below to verify you recieved it (include the hyphens)."}),Object(b.jsx)(u.h.Item,{full:!0,as:u.r,children:Object(b.jsx)("b",{children:"Never share your Master Ticket with anyone else."})}),Object(b.jsx)(ge.a,{validate:l,afterSubmit:i,initialValues:j,children:function(e){var t=e.values,n=e.handleSubmit;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.j,type:t.showTicket?"text":"password",name:"ticket",label:"Master Ticket"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.e,name:"showTicket",label:"Show"}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,{full:!0,className:"mt3",as:we.a,handleSubmit:n,children:"Verify"})]})}})]})})})),Object(N.a)(fc,Oc.TRANSFER,(function(e){var t=e.className,n=e.resetActivateRouter,a=Object(l.b)(),c=a.replaceWith,s=a.names,o=Object(x.b)().setUrbitWallet,j=Object(g.b)().setPointCursor,d=Object(v.b)(),f=d.web3,O=d.contracts,m=d.networkType,p=Ma(),w=p.derivedWallet,N=p.derivedPoint,S=p.inviteWallet,I=p.reset,E=Object(r.useState)(),C=Object(i.a)(E,2),T=C[0],P=C[1],R=Object(r.useState)(0),A=Object(i.a)(R,2),D=A[0],F=A[1],L=Object(r.useState)(),M=Object(i.a)(L,2),_=M[0],W=M[1],B=Object(r.useCallback)((function(){return c([{key:s.LOGIN},{key:s.POINT}])}),[c,s]);Xr();var U=Object(r.useCallback)((function(){n(),I()}),[n,I]),H=Object(r.useCallback)((function(e){var t=e.type,n=e.state,r=e.value;switch(t){case"progress":return F(n);case"askFunding":return W(r);case"gotFunding":return W(!1);default:console.error("Unknown update: ".concat(t))}}),[F,W]),V=Object(r.useCallback)(Object(k.a)(y.a.mark((function e(){var t,n,r,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!1),e.prev=1,t=Z(S),n=Z(w),r=Q(N),a=Y(f),c=q(O),e.next=9,lc({fromWallet:t,toWallet:n,point:r,web3:a,contracts:c,networkType:m,onUpdate:H,transferEth:!0});case 9:return o(w),j(N),e.next=13,ze(3e3);case 13:B(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),P(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])}))),[S,w,N,f,O,m,o,j,H,B]);return Sa((function(){V()})),Object(b.jsx)(nc,{className:t,header:dc(D),step:3,children:Object(b.jsxs)(u.h,{children:[Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,className:"mt3",gap:3,children:[Object(b.jsx)(u.h.Item,{full:!0,as:jc,progress:D}),Object(b.jsx)(u.h.Item,{full:!0,children:Object(b.jsx)(u.t,{className:"f5 green4",children:"This process can take up to 5 minutes to complete. Don't close this page until the process is complete."})})]}),T?(console.log(T),T.message=T.message||"Something went wrong!",Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,className:"mt8",children:Object(b.jsx)(u.f,{children:T.message.toString()})}),Object(b.jsx)(u.h.Item,{full:!0,className:"mt3",as:At.f,solid:!0,onClick:U,children:"Restart"})]})):_?Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,as:Yn,className:"mt8"},_)):D<1?Object(b.jsx)(u.h.Item,{full:!0,as:xe,className:"mt8",children:"Never give your Master Ticket to anyone"}):null]})})})),fc);var pc,vc,xc=["Route"],gc={CODE:"CODE",DISCLAIMER:"DISCLAIMER",PASSPORT:"PASSPORT"},wc=(pc={},Object(N.a)(pc,gc.CODE,(function(){var e=Object(l.b)(),t=Object(pe.b)(),n=t.names,a=t.push,c=Object(v.b)().contracts,s=Ya(),j=me(),d=Object(i.a)(j,1)[0],f=Object(r.useRef)(!1),h=Ma(),O=h.setDerivedWallet,m=h.setInviteWallet,p=h.derivedPoint,x=h.setDerivedPoint,g=Object(jt.a)([!1,!0,!0]),w=Object(r.useCallback)((function(){return e.popAndPush(de.LOGIN)}),[e]),S=Object(r.useCallback)((function(){d?a(n.PASSPORT):a(n.DISCLAIMER,{next:n.PASSPORT})}),[d,n.DISCLAIMER,n.PASSPORT,a]),C=Object(r.useCallback)((function(e,t){if(f.current=!1,Object(ye.s)(t))return t}),[]),T=Object(r.useMemo)((function(){return Object(ye.r)({ticket:Object(ye.k)(),showTicket:Object(ye.d)()},C)}),[C]),P=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r,a,s,i,u,l,b,j;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(16);case 2:return n=q(c),e.next=5,Object(sa.b)(t.ticket);case 5:return r=e.sent,a=r.seed,s=Object(Fe.c)(a,Le.c),i=Z(s),e.next=11,E.azimuth.getOwnedPoints(n,i.address);case 11:return u=e.sent,e.next=14,E.azimuth.getTransferringFor(n,i.address);case 14:if(l=e.sent,!((b=[].concat(Object(I.a)(u),Object(I.a)(l))).length>0)){e.next=32;break}if(!(b.length>1)||f.current){e.next=20;break}return f.current=!0,e.abrupt("return",Object(N.a)({},Ye.a,"This invite code has multiple points available. Once you've activated this point, activate the next with the same process."));case 20:return j=Object(An.a)(b[0],10),x(Object(o.Just)(j)),m(s),e.t0=O,e.t1=o.Just,e.next=27,za(j,!0);case 27:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=33;break;case 32:return e.abrupt("return",Object(N.a)({},De.b,"Invite code has no claimable point.\nCheck your invite code and try again?"));case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,x,O,m]),R=Object(r.useMemo)((function(){return{ticket:s||"",showTicket:!0}}),[s]);return Object(b.jsxs)(ve.a,{inset:!0,children:[Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Vr,point:p,address:Object(o.Nothing)()}),Object(b.jsx)(u.h.Item,{full:!0,as:u.k,className:"mt3",children:"Activate"}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.r,className:"mb2",children:["Someone has invited you to claim your Urbit identity and join the network. ",!s&&"Enter your activation code to continue."]}),Object(b.jsx)(ge.a,{validate:T,onSubmit:P,afterSubmit:S,initialValues:R,children:function(e){var t=e.validating,n=e.values,r=e.submitting,a=e.handleSubmit;return Object(b.jsxs)(b.Fragment,{children:[!s&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.j,type:n.showTicket?"text":"password",name:"ticket",label:"Activation Code",disabled:!g}),Object(b.jsx)(u.h.Item,{full:!0,as:u.e,name:"showTicket",label:"Show"})]}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,{full:!0,as:we.a,className:"mt4",handleSubmit:a,children:function(e){return t?"Deriving...":r?"Generating...":e?"Continue Activation":"Go"}}),!g&&Object(b.jsx)(u.h.Item,{full:!0,as:xe,className:"mt4",children:"For your security, please access Bridge on a desktop device."})]})}})]}),Object(b.jsx)(Wa,{as:At.c,onClick:w,children:"Login"})]})})),Object(N.a)(pc,gc.PASSPORT,(function(){var e=Ma(),t=e.derivedPoint,n=e.generated,a=e.derivedWallet,c=Object(pe.b)().reset,s=Object(Da.a)({names:Oc,views:mc,initialRoutes:[{key:Oc.DOWNLOAD}]}),i=s.Route,o=Object(d.a)(s,hc),l=Object(jt.a)([4,4,7]),j=Object(jt.a)([!1,!1,8]),f=Object(r.useMemo)((function(){return a.chain((function(e){return Object(Fe.c)(e.ownership.seed,Le.c,e.meta.passphrase)})).map((function(e){return Object(Ie.f)(e.publicKey)}))}),[a]);return Object(b.jsx)(ve.a,{inset:!0,children:Object(b.jsx)(pe.a,{value:o,children:Object(b.jsxs)(u.h,{gap:l,className:"mt8 mb10",children:[Object(b.jsx)(u.h.Item,{full:!0,children:Object(b.jsx)(Vr,{className:he()(Object(N.a)({},"mt".concat(j),j)),point:t,ticket:n,address:f})}),Object(b.jsx)(u.h.Item,{full:!0,as:i,resetActivateRouter:c})]})})})})),Object(N.a)(pc,gc.DISCLAIMER,ke),pc);function yc(e){var t=e.className,n=e.routes,r=void 0===n?[]:n,c=r.length-1,s="gray4 mono";return Object(b.jsx)(u.g,{className:t,row:!0,wrap:!0,children:r.map((function(e,t){var n=!e.action;return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(u.g.Item,{as:u.c,onClick:e.action,disabled:n,className:he()(s,{"pointer underline":!n}),children:e.text}),t!==c&&Object(b.jsx)(u.g.Item,{as:u.c,className:he()(s,"mh2"),children:"/"})]},e.text)}))})}var Nc=["title","titleId"];function kc(){return(kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ic(e,t){var n=e.title,a=e.titleId,c=Sc(e,Nc);return r.createElement("svg",kc({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,vc||(vc=r.createElement("path",{d:"M9.18806 10.1969C8.04395 11.0861 6.60411 11.5056 5.16172 11.37C3.71932 11.2344 2.38282 10.5538 1.42436 9.46684C0.465895 8.3799 -0.0424681 6.96833 0.00278089 5.51955C0.0480299 4.07077 0.643489 2.69371 1.66791 1.66876C2.69234 0.643816 4.0687 0.0480543 5.51674 0.00278231C6.96479 -0.0424897 8.37564 0.466132 9.46203 1.42508C10.5484 2.38404 11.2286 3.72121 11.3642 5.16434C11.4998 6.60747 11.0805 8.04805 10.1917 9.19274L14 12.9887L12.9892 14L9.19518 10.1969H9.18806ZM5.70012 9.96902C6.26099 9.96902 6.81637 9.85849 7.33454 9.64375C7.85272 9.429 8.32354 9.11425 8.72014 8.71745C9.11673 8.32066 9.43133 7.84959 9.64596 7.33115C9.8606 6.81271 9.97107 6.25705 9.97107 5.6959C9.97107 5.13474 9.8606 4.57908 9.64596 4.06064C9.43133 3.54221 9.11673 3.07114 8.72014 2.67434C8.32354 2.27755 7.85272 1.96279 7.33454 1.74805C6.81637 1.5333 6.26099 1.42278 5.70012 1.42278C4.56739 1.42278 3.48106 1.87298 2.6801 2.67434C1.87914 3.47571 1.42917 4.5626 1.42917 5.6959C1.42917 6.8292 1.87914 7.91609 2.6801 8.71745C3.48106 9.51882 4.56739 9.96902 5.70012 9.96902Z",fill:"#7F7F7F"})))}var Ec,Cc=r.forwardRef(Ic),Tc=(n.p,["point","pending","className"]),Pc=["point","className"];function Rc(e){var t=e.className,n=e.value,r=e.onChange;return Object(b.jsxs)(u.g,{align:"center",full:!0,className:he()("b b-gray2 b1",t),children:[Object(b.jsx)(u.g.Item,{className:"p2",children:Object(b.jsx)(Cc,{})}),Object(b.jsx)(u.g.Item,{flex:1,as:"input",value:n,onChange:r,className:"b-none h7"})]})}function Ac(e){var t=e.point,n=e.pending,a=void 0!==n&&n,c=e.className,s=Object(d.a)(e,Tc),i=Yr(t).sentInvites,l=Object(r.useMemo)((function(){return Me.patp(t)}),[t]),j=a?["#ee892b","#FFFFFF"]:["#000000","#FFFFFF"],f=Object(r.useCallback)((function(){return a?"Pending":Object(b.jsxs)(b.Fragment,{children:[" ",Object(Cn.c)(i)," points invited "]})}),[a,i]);return Object(b.jsxs)(u.g,Object(h.a)(Object(h.a)({justify:"between",className:he()("b1 b-gray2",c)},s),{},{children:[Object(b.jsx)(u.g.Item,{className:"w9 h9",children:Object(b.jsx)(Gr.a,{patp:Object(o.Just)(l),size:64,colors:j})}),Object(b.jsxs)(u.g.Item,{flex:1,justify:"evenly",as:u.g,col:!0,className:"mono f6 ph4",children:[Object(b.jsx)(u.g.Item,{children:l}),Object(b.jsx)(u.g.Item,{className:"gray4",children:Object(b.jsx)(f,{})})]})]}))}function Dc(e){var t=e.acceptedPoints,n=e.pendingPoints,a=e.className,c=e.onlyPending,s=e.onSelectInvite,o=ue().syncInvites,l=Object(r.useState)(""),j=Object(i.a)(l,2),d=j[0],f=j[1];Object(r.useEffect)((function(){t.map(o)}),[t,o]);var h=Object(r.useCallback)((function(e){f(e.target.value),e.preventDefault()}),[f]),O=Object(r.useCallback)((function(e){return e.filter((function(e){return Me.patp(e).slice(1).startsWith(d)}))}),[d]),m=Object(r.useCallback)((function(e){return function(){s(e)}}),[s]),p=O(n),v=O(t),x=c?0:v.length;return Object(b.jsxs)(u.h,{gap:3,className:he()("mt4",a),children:[Object(b.jsx)(u.h.Item,{full:!0,as:Rc,value:d,onChange:h}),Object(b.jsxs)(b.Fragment,{children:[!c&&v.map((function(e,t){return Object(b.jsx)(u.h.Item,{half:t%2+1,as:Ac,point:e,onClick:m(e)},e)})),p.map((function(e,t){return Object(b.jsx)(u.h.Item,{half:(x+t)%2+1,as:Ac,point:e,pending:!0,onClick:m(e)},e)}))]}),0===p.length&&(0===v.length||c)&&Object(b.jsxs)(u.h.Item,{full:!0,className:"p4 t-center",children:[" ","No invites accepted yet."]})]})}function Fc(e){var t,n,a=e.point,c=e.className,s=Object(d.a)(e,Pc),l=Yr(a),j=l.sentInvites,f=l.acceptedInvites,O=ue().getDetails,m=Object(x.b)().authToken,p=Object(v.b)().contracts,g=O(a),w=g.getOrElse({}).active,N=Object(r.useMemo)((function(){return Me.patp(a)}),[a]),S=Object(r.useMemo)((function(){return w?["#000000","#FFFFFF"]:["#ee892b","#FFFFFF"]}),[w]),I=Object(r.useState)(Object(o.Nothing)()),E=Object(i.a)(I,2),C=E[0],T=E[1],P=Object(r.useState)(!1),R=Object(i.a)(P,2),A=R[0],D=R[1];return Object(r.useEffect)((function(){(function(){var e=Object(k.a)(y.a.mark((function e(){var t,n,r,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.getOrElse(null),n=g.getOrElse(null),r=p.getOrElse(null),t&&n&&!n.active&&r&&A){e.next=6;break}return T(Object(o.Nothing)()),e.abrupt("return");case 6:return e.next=8,sa.a(a,t);case 8:c=e.sent,s=c.ticket,c.owner.keys.address!==n.transferProxy?T(Object(o.Just)(null)):T(Object(o.Just)(s));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m,A,p,g,a]),Object(r.useEffect)((function(){D(!1)}),[a]),Object(b.jsxs)(u.h,Object(h.a)(Object(h.a)({justify:"between",className:he()("b1 b-gray2",c)},s),{},{children:[Object(b.jsx)(u.h.Item,{rows:[1,4],cols:[1,4],className:"h10 w10",children:Object(b.jsx)(Gr.a,{patp:Object(o.Just)(N),size:64,colors:S})}),Object(b.jsx)(u.h.Item,{cols:[4,13],className:"mono mt-auto ",children:N}),!w&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{cols:[4,13],className:"mt-auto mb1 f6 gray4",as:u.g,col:!0,children:"Invite Code"}),Object(b.jsx)(u.h.Item,{cols:[4,10],className:"mb-auto mt1 f6 gray4",children:null===C.getOrElse(!0)?"This invite code cannot be recovered":(t=!A,n=Object(Cn.c)(C),t?"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf":n)}),!A&&Object(b.jsx)(u.h.Item,{cols:[10,13],className:"mh-auto f6 underline pointer",onClick:function(){return D(!0)},children:"Show"}),A&&null!==C.getOrElse("")&&Object(b.jsx)(u.h.Item,{className:"mh-auto f6 t-right",cols:[10,13],as:En,text:C.getOrElse("")})]}),w&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{cols:[4,13],className:"mt-auto mb1 f6 gray4",as:u.g,col:!0,children:[Object(Cn.c)(j)," invites sent"]}),Object(b.jsxs)(u.h.Item,{cols:[4,13],className:"mb-auto mt1 f6 gray4",as:u.g,col:!0,children:[Object(Cn.c)(f)," invites accepted"]})]})]}))}var Lc={ALL:"ALL",PENDING:"PENDING"},Mc=(Ec={},Object(N.a)(Ec,Lc.PENDING,Dc),Object(N.a)(Ec,Lc.ALL,Dc),Ec),_c=[{text:"All",value:Lc.ALL},{text:"Pending",value:Lc.PENDING}];function Wc(){return Object(g.b)().pointCursor.matchWith({Nothing:function(){return null},Just:function(e){return _e.a.patp(e.value)}})}var Bc=["construct"];function Uc(){var e=Object(pe.b)().pop,t=ue().getDetails,n=Object(g.b)().pointCursor,a=Q(n),c=Wc(),s=J(t(a)),i=function(){var e=Object(v.b)().contracts,t=Object(g.b)().pointCursor,n=ue().syncDetails,a=q(e),c=Q(t),s=On(Object(r.useCallback)((function(){return E.ecliptic.setTransferProxy(a,c,Le.d)}),[a,c]),Object(r.useCallback)((function(){return n(c)}),[c,n]),Le.g.SET_PROXY),i=s.construct,o=Object(d.a)(s,Bc);return Sa((function(){i()})),Object(h.a)({},o)}(),o=i.completed,l=i.bind;return Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Cancel Outgoing Transfer"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:he()("f5 wrap",{green3:o}),children:o?"The outgoing transfer of ".concat(c," has been cancelled."):"Cancel the outgoing transfer of ".concat(c," to ").concat(s.transferProxy,".")}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},l),{},{onReturn:function(){return e()}}))]})}var Hc=n(250),Vc=function(e){return function(t){return t[e]===qa.b?Object(o.Nothing)():Object(o.Just)(t[e])}},zc=function(e){var t=Object(qa.i)(e);return t?t.join("\n"):"Unset"};function Kc(e){var t=e.point,n=ue(),r=n.getDetails,a=n.getRekeyDate,c=r(t),s=c.matchWith({Nothing:function(){return!1},Just:function(e){var t=e.value;return parseInt(t.keyRevisionNumber,10)>0}}),i=function(e,t){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.l,className:"mt3 gray4",children:e}),t.matchWith({Nothing:function(){return Object(b.jsx)(u.h.Item,{full:!0,as:"code",className:"f5 mono gray4",children:"Unset"})},Just:function(e){var t=e.value;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:"code",className:"f5 mono wrap",children:"0x"}),Object(b.jsx)(u.h.Item,{full:!0,as:"code",className:"f5 mono wrap",children:zc(t)})]})}})]})},l=function(e,t){return Object(b.jsxs)(u.g.Item,{as:u.g,col:!0,children:[Object(b.jsx)(u.g.Item,{as:u.l,className:"gray4",children:e}),t.matchWith({Nothing:function(){return Object(b.jsx)(u.g.Item,{as:u.t,className:"f5 gray4",children:"Unset"})},Just:function(e){var t=e.value;return Object(b.jsx)(u.g.Item,{as:u.t,children:t})}})]})};return Object(b.jsxs)(b.Fragment,{children:[i("Authentication",c.chain(Vc("authenticationKey"))),i("Encryption",c.chain(Vc("encryptionKey"))),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,row:!0,justify:"between",className:"mt3",children:[l("Revision",c.map((function(e){return e.keyRevisionNumber}))),l("Continuity Era",c.map((function(e){return e.continuityNumber}))),l("Crypto Suite Ver.",c.map((function(e){return e.cryptoSuiteVersion})))]}),s&&Object(b.jsx)(u.h.Item,{full:!0,as:u.g,row:!0,justify:"between",className:"mt3",children:l("Last Set",a(t).map((function(e){return e.matchWith({Ok:function(e){return Object(Hc.b)(e.value)},Error:function(){return Object(o.Nothing)()}})})))})]})}function Gc(e){var t=e.className,n=e.children;return Object(b.jsxs)(u.g,{className:he()("bg-red5 pv3 ph4",t),align:"center",children:[Object(b.jsx)("span",{className:"circular-icon-bg bg-red6",children:Object(b.jsx)(Et.a,{display:"inline-block",icon:"ExclaimationMark",size:"18px",color:"white"})}),Object(b.jsx)(u.t,{className:"f6 fw-bolder red5",children:n})]})}var Jc=["generating","available","downloaded","download","notice","className","children"];function Yc(e){var t=e.generating,n=e.available,r=(e.downloaded,e.download),a=e.notice,c=e.className,s=e.children,i=void 0===s?"Download Arvo Keyfile":s,o=Object(d.a)(e,Jc);return Object(b.jsx)(At.b,Object(h.a)(Object(h.a)({as:"span",className:c,disabled:!n,disabledDetail:!n&&Object(b.jsxs)(u.b,{className:"wrap ws-normal",children:["\xb7 ",a]}),loading:t,onClick:r},o),{},{children:i}))}var qc=n(173);function Zc(e){var t=Object(x.b)(),n=t.urbitWallet,a=t.wallet,c=t.authMnemonic,s=t.authToken,u=Object(g.b)().pointCursor,l=ue().getDetails,b=Object(r.useState)("Deriving networking keys..."),j=Object(i.a)(b,2),d=j[0],f=j[1],O=Object(r.useState)(!1),m=Object(i.a)(O,2),p=m[0],v=m[1],w=Object(r.useState)(!0),N=Object(i.a)(w,2),S=N[0],I=N[1],E=Object(r.useState)(!1),C=Object(i.a)(E,2),T=C[0],P=C[1],R=Object(r.useState)(!1),A=Object(i.a)(R,2),D=A[0],F=A[1],L=Q(u),M=l(L),_=M.matchWith({Just:function(e){var t=e.value;return Object(An.a)(t.keyRevisionNumber,10)},Nothing:function(){return 0}}),W=qr(),B=W.isOwner,U=W.isManagementProxy,H=_>0,V=(B||U)&&H&&!!T,z=Object(r.useCallback)(Object(k.a)(y.a.mark((function t(){var r,i,u,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(H){t.next=5;break}return I(!1),f("Networking keys not yet set."),console.log("no networking keys available for revision ".concat(_)),t.abrupt("return");case 5:if(r=J(M),!e){t.next=10;break}t.t0=Object(o.Just)(e),t.next=13;break;case 10:return t.next=12,Object(qa.c)({urbitWallet:n,wallet:a,authMnemonic:c,details:r,authToken:s,point:L,revision:_});case 12:t.t0=t.sent;case 13:if(i=t.t0,!o.Nothing.hasInstance(i)){t.next=19;break}return I(!1),f("Custom or nondeterministic networking keys cannot be re-downloaded."),console.log("seed is nondeterminable for revision ".concat(_)),t.abrupt("return");case 19:if(u=i.value,l=Object(qa.f)(u),Object(qa.h)(l,r)){t.next=26;break}return I(!1),f("Derived networking keys do not match on-chain details."),console.log("keys do not match details for revision ".concat(_)),t.abrupt("return");case 26:f(),F(Object(qc.a)(l)),P(Object(qa.d)(l,L,_)),I(!1);case 30:case"end":return t.stop()}}),t)}))),[_,H,e,n,a,c,F,M,L,s]),K=Object(r.useMemo)((function(){return"".concat(_e.a.patp(L).slice(1),"-").concat(_,".key")}),[L,_]),G=Object(r.useCallback)((function(){Va()(new Blob([T],{type:"text/plain;charset=utf-8"}),K),v(!0)}),[K,T]);Object(r.useEffect)((function(){z()}),[z]);var Y={generating:S,available:V,downloaded:p,download:G,filename:K,notice:d,keyfile:T,code:D};return Object(h.a)(Object(h.a)({},Y),{},{bind:Y})}var Xc=["text","children"];function $c(e){var t=e.text,n=e.children,r=Object(d.a)(e,Xc),a=kn(t),c=Object(i.a)(a,2),s=c[0],o=c[1];return Object(b.jsx)(Hn,{content:o?"Copied!":"Copy",className:"rel full nowrap copy-button-wide",position:Bn.TopRight,children:Object(b.jsx)(At.a,Object(h.a)(Object(h.a)({as:"span",onClick:s,text:t},r),{},{children:n}))})}var Qc=function(e){var t=e.code;return t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,detail:"This is your code to access Urbit OS",as:$c,text:t,"data-testid":"access-code",children:"Access Key"})]}):null};var es=["completed"];function ts(e){var t=e.onDone,n=Object(v.b)().contracts,a=Object(g.b)().pointCursor,c=q(n),s=Q(a),i=function(){var e=Object(v.b)().contracts,t=Object(g.b)().pointCursor,n=ue().syncExtras,a=q(e),c=Q(t);return On(Object(r.useCallback)((function(e){return E.ecliptic.escape(a,c,e)}),[c,a]),Object(r.useCallback)((function(){n(c)}),[n,c]))}(),o=i.construct,l=i.unconstruct,j=i.inputsLocked,d=i.bind,f=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Me.patp2dec(t.sponsor),e.next=3,E.azimuth.getPoint(c,n);case 3:if(0!==e.sent.keyRevisionNumber){e.next=6;break}return e.abrupt("return",{sponsor:"Sponsor is not online"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]),O=Object(r.useCallback)((function(e,t){return Object(ye.s)(t)?t:f(e)}),[f]),m=Object(r.useMemo)((function(){var e=E.azimuth.getPointSize(s)===E.azimuth.PointSize.Star?1:2;return Object(ye.r)({sponsor:Object(ye.l)(e,[Object(cr.m)(e)])},O)}),[O,s]),p=Object(r.useCallback)((function(e){var t=e.valid,n=e.values;t?o(Me.patp2dec(n.sponsor)):l()}),[o,l]);return Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Change Sponsor"}),Object(b.jsx)(ge.a,{validate:m,onValues:p,children:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.g,name:"sponsor",disabled:j,label:"New sponsor"}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},d),{},{onReturn:t,label:"Request"}))]})}})]})}function ns(e){var t=e.onDone,n=function(){var e=Object(v.b)().contracts,t=Object(g.b)().pointCursor,n=ue().syncExtras,a=q(e),c=Q(t);return On(Object(r.useCallback)((function(){return E.ecliptic.cancelEscape(a,c)}),[c,a]),Object(r.useCallback)((function(){return n(c)}),[c,n]))}(),a=n.construct,c=n.bind,s=Object(g.b)().pointCursor,i=ue().getDetails,o=Q(s),l=J(i(o)),j=Object(r.useMemo)((function(){return Me.patp(l.escapeRequestedTo)}),[l]);return Object(r.useEffect)((function(){a()}),[a]),Object(b.jsxs)(u.h,{children:[Object(b.jsxs)(u.h.Item,{full:!0,as:Bt,children:["Currently requesting ",Object(b.jsx)("span",{className:"mono",children:j})," as a new sponsor"]}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn,label:"Cancel Request"},c),{},{onReturn:t}))]})}var rs,as=["Route"],cs={HOME:"HOME",CHANGE_SPONSOR:"CHANGE_SPONSOR",NETWORKING_KEYS:"NETWORKING_KEYS"},ss=(rs={},Object(N.a)(rs,cs.HOME,(function(e){e.manualNetworkSeed;var t=Object(g.b)().pointCursor,n=ue().getDetails,a=Object(pe.b)(),c=a.push,s=a.names,o=Q(t),l=J(n(o)),j=Me.patp(l.sponsor),d=Object(r.useState)(!1),f=Object(i.a)(d,2),O=f[0],m=f[1],p=E.azimuth.getPointSize(o)!==E.azimuth.PointSize.Galaxy,v=Object(r.useCallback)((function(){return m((function(e){return!e}))}),[m]),x="0"!==l.keyRevisionNumber,w=x?"Reset":"Initialize",y=Object(r.useCallback)((function(){return c(s.NETWORKING_KEYS)}),[s,c]),N=Object(r.useCallback)((function(){return c(s.CHANGE_SPONSOR)}),[c,s]),k=Zc(),S=k.bind,I=k.code;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,className:"mv7 f5",children:"Urbit OS"}),p&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Divider,{}),Object(b.jsxs)(u.h.Item,{full:!0,as:At.c,detail:"A sponsor finds new peers in your network",accessory:"Change",onClick:N,children:[Object(b.jsx)("span",{className:"mono",children:j}),Object(b.jsx)("span",{className:"f7 bg-black white p1 mb2 ml2 r4",children:"SPONSOR"})]})]}),x&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,detail:"A keyfile is used to boot your Urbit OS",as:Yc},S))]}),Object(b.jsx)(Qc,{code:I}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsxs)(u.h.Item,{full:!0,as:At.c,onClick:y,children:[w," Networking Keys"]}),x&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,accessory:O?"\u25b2":"\u25bc",onClick:v,children:"View Networking Keys"}),O&&Object(b.jsx)(u.h.Item,{full:!0,as:Kc,point:o})]}),!x&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(u.h.Item,{full:!0,as:Gc,className:"mt4",children:"Networking Keys are required to generate a keyfile"})})]})})})),Object(N.a)(rs,cs.CHANGE_SPONSOR,(function(){var e=Object(g.b)().pointCursor,t=Q(e),n=ue().getDetails,a=J(n(t)),c=Object(r.useState)(a.escapeRequested),s=Object(i.a)(c,2),o=s[0],u=s[1],l=Object(r.useCallback)((function(){u(a.escapeRequested)}),[a,u]);return o?Object(b.jsx)(ns,{onDone:l}):Object(b.jsx)(ts,{onDone:l})})),Object(N.a)(rs,cs.NETWORKING_KEYS,(function(e){var t=e.manualNetworkSeed,n=e.setManualNetworkSeed,a=Object(pe.b)().pop,c=Object(g.b)().pointCursor,s=(0,ue().getDetails)(Q(c)).matchWith({Nothing:function(){return!1},Just:function(e){var t=e.value;return parseInt(t.keyRevisionNumber,10)>0}}),i=function(e,t){var n=Object(x.b)(),a=n.urbitWallet,c=n.wallet,s=n.authMnemonic,i=n.authToken,u=Object(g.b)().pointCursor,l=ue(),b=l.syncDetails,j=l.syncRekeyDate,f=l.getDetails,O=Object(v.b)().contracts,m=Q(u),p=q(O),w=J(f(m)),N=Object(An.a)(w.keyRevisionNumber,10),S=Object(r.useRef)(),I=Zc(e),C=I.available,T=I.generating,P=I.filename,R=I.bind,A=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(n){var r,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n){e.next=5;break}return t(n),e.abrupt("return",n);case 5:return r=N+1,console.log("deriving seed with revision ".concat(r)),e.next=9,Object(qa.c)({urbitWallet:a,wallet:c,authMnemonic:s,details:w,point:m,authToken:i,revision:r});case 9:if(u=e.sent,!o.Just.hasInstance(u)){e.next=12;break}return e.abrupt("return",u.value);case 12:return S.current=S.current||Object(Ht.randomHex)(32),t(S.current),e.abrupt("return",S.current);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w,s,t,N,a,c,m,i]),D=On(Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t,n){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return r=e.sent,a=Object(qa.f)(r),e.abrupt("return",E.ecliptic.configureKeys(p,m,Object(Ie.b)(a.crypt.public),Object(Ie.b)(a.auth.public),qa.a,n));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[p,m,A]),Object(r.useCallback)((function(){return Promise.all([b(m),j(m)])}),[m,b,j]),Le.g.CONFIGURE_KEYS),F=D.completed,L=Object(d.a)(D,es),M=F&&C&&!T;return Object(h.a)({completed:M,filename:P,keyfileBind:R},L)}(t,n),l=i.construct,j=i.unconstruct,f=i.completed,O=i.inputsLocked,m=i.bind,p=i.keyfileBind,w=Object(r.useCallback)((function(e,t){if(e.useNetworkSeed&&t.networkSeed)return t}),[]),N=Object(r.useMemo)((function(){return Object(ye.r)({useNetworkSeed:Object(ye.d)(),networkSeed:Object(ye.g)(64),useDiscontinuity:Object(ye.d)()},w)}),[w]),S=Object(r.useCallback)((function(e){var t=e.valid,n=e.values,r=e.form;t?l(n.useNetworkSeed?n.networkSeed:void 0,n.useDiscontinuity):j(),!n.useNetworkSeed&&n.networkSeed&&r.change("networkSeed","")}),[l,j]),I=Object(r.useMemo)((function(){return{useNetworkSeed:!1,useDiscontinuity:!1}}),[]),C=f?"Network Keys are now set":"Set Networking Keys";return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:C}),!f&&Object(b.jsx)(u.h.Item,{className:"gray4 f5",full:!0,children:"Network Keys authenticate Urbit ID with Urbit OS."}),f&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,className:"mb3",as:Yc,solid:!0},p)),Object(b.jsx)(u.h.Item,{full:!0,as:Gc,className:"mb8",children:"You need this keyfile to authenticate with your OS. Please Download."})]}),Object(b.jsx)(ge.a,{validate:N,onValues:S,initialValues:I,children:function(){return Object(b.jsxs)(b.Fragment,{children:[!f&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.u,name:"useNetworkSeed",label:"Use Custom Network Seed",inverseLabel:"Back to Derived Network Seed",disabled:O}),Object(b.jsxs)(Ke.a,{when:"useNetworkSeed",is:!0,children:[Object(b.jsx)(u.h.Item,{full:!0,as:qn,className:"mb2",children:"When using a custom network seed, you'll need to download your Arvo keyfile immediately after this transaction as Bridge does not store your seed."}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.c,name:"networkSeed",label:"Network Seed (32 bytes)",disabled:O})]}),Object(b.jsx)(u.h.Item,{full:!0,as:u.e,name:"useDiscontinuity",label:"Breach Continuity",disabled:O}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a})]}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},m),{},{label:"".concat(s?"Reset":"Set"," Networking Keys"),onReturn:function(){return a()}}))]})}})]})})})),rs);var is="MANAGEMENT",os="SPAWN",us="TRANSFER",ls="VOTING",bs=function(e){switch(e){case is:return"management";case os:return"spawn";case us:return"transfer";case ls:return"voting";default:throw new Error("Unknown proxyType: ".concat(e))}},js=function(e){switch(e){case is:return"Your management key can configure networking settings (network keys and sponsorship)";case os:return"Your spawn key can spawn points.";case us:return"Your transfer key can transfer this point.";case ls:return"Your voting key can vote on this point's behalf.";default:throw new Error("Unknown proxyType: ".concat(e))}},ds=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var fs=n(78);function hs(e){return{downloadSigil:Object(r.useCallback)((function(t,n,r){var a=Me.patp(t),c=r/window.devicePixelRatio,s=function(e,t){var n=t.x,r=t.y,a=e.getContext("2d"),c=window.devicePixelRatio||1;return e.width=n*c,e.height=r*c,e.style.width=n+"px",e.style.height=r+"px",a.scale(c,c),e}(e.current,{x:c,y:c}),i=s.getContext("2d"),o=Object(Mr.sigil)({patp:a,renderer:Mr.stringRenderer,size:c,colors:n,margin:54/256*c}),u=(new DOMParser).parseFromString(o,"image/svg+xml");u.documentElement.width.baseVal.valueAsString="".concat(r,"px"),u.documentElement.height.baseVal.valueAsString="".concat(r,"px");var l=(new XMLSerializer).serializeToString(u);return function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=function(){return n("Error loading image. src: ".concat(e))},r.src=e}))}("data:image/svg+xml;base64,"+btoa(l)).then((function(e){i.drawImage(e,0,0,c,c);var t=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),a=new Uint8Array(r),c=0;c<t.length;c++)a[c]=t.charCodeAt(c);return new Blob([r],{type:n})}(s.toDataURL("image/png"));Object(Ha.saveAs)(t,"".concat(a.slice(1),"-sigil.png")),i.clearRect(0,0,c,c)})).catch((function(){return"Error generating sigil"})).then((function(t){return function(e){e.width=0,e.height=0}(e.current),t}))}),[e])}}var Os=function(e){var t=e.name,n=e.colors,r=e.disabled,a=void 0!==r&&r,c=e.label,s=e.className,i=Object(mt.b)(t,{subscription:{value:!0}}).input,o=function(e){return"#FFFFFF"===e.toUpperCase()};return Object(b.jsxs)(u.g,{col:!0,className:he()(s,"flex-wrap mb1"),children:[Object(b.jsx)(u.g.Item,{as:"label",className:he()("f6 lh-tall",{black:!a,gray4:a}),htmlFor:t,children:c}),Object(b.jsx)(u.g.Item,{as:u.g,wrap:!0,children:n.map((function(e){return Object(b.jsx)(u.g.Item,{as:"button",type:"button",className:he()("m0 p0 h7 w7 p2 flex flex-center",{"b b-black":o(e)}),style:{backgroundColor:e},onClick:function(){return i.onChange(e)},children:e===i.value?Object(b.jsx)("div",{className:he()({"bg-black":o(e),"bg-white":!o(e)},"w2 h2 r-full")}):Object(b.jsx)("div",{})},e)}))})]})},ms=[fs.colors.black,fs.colors.white,fs.colors.blue,fs.colors.blueLight,fs.colors.blueDark,fs.colors.redLight,fs.colors.red,fs.colors.redDark,fs.colors.greenLight,fs.colors.green,fs.colors.greenDark,fs.colors.yellowLight,fs.colors.yellow,fs.colors.yellowDark],ps=[fs.colors.black,fs.colors.white];var vs=["construct"];var xs=Se.a;var gs=function(e){return e<=0?"Starting...":e<=ac?"Generating Ethereum Transactions...":e<=cc?"Signing Ethereum Transactions...":e<=sc?"Funding Ethereum Transactions...":e<=ic?"Transferring ID...":e<=oc?"Cleaning Up...":e<=uc?"Done":void 0};var ws=["Route"],ys={CONFIRM:"CONFIRM",DOWNLOAD:"DOWNLOAD",VERIFY:"VERIFY",EXECUTE:"EXECUTE"},Ns={CONFIRM:function(e){var t=e.newWallet,n=e.setNewWallet,a=Object(pe.b)(),c=a.push,s=a.names,l=Object(g.b)().pointCursor,j=Q(l),d=Wc(),f=Object(r.useState)(Object(o.Nothing)()),h=Object(i.a)(f,2),O=h[0],m=h[1];Sa((function(){var e=!0;return Object(k.a)(y.a.mark((function n(){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.Just.hasInstance(t)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,za(j);case 4:if(r=n.sent,Se.a&&console.log("The new ticket for ".concat(d," is ").concat(r.ticket)),e){n.next=8;break}return n.abrupt("return");case 8:m(Object(o.Just)(r));case 9:case"end":return n.stop()}}),n)})))(),function(){return e=!1}}));var p=Object(r.useCallback)((function(){return c(s.DOWNLOAD)}),[c,s]),v=O.matchWith({Nothing:function(){return null},Just:function(e){var t=e.value;return Object(b.jsx)(Qa,{point:j,wallets:[t],callback:function(e){n(t,e)}})}});return Object(b.jsxs)(u.h,{className:"mt4",children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.t,children:"Reticketing is the process of generating a completely fresh wallet and transferring ownership of your point to that wallet."}),Object(b.jsx)(u.h.Item,{full:!0,as:xe,className:"mt4",children:"Beware, this resets your proxy addresses; if you're using smart contracts, this might break them! It will also change your networking keys!"}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,solid:!0,className:"mt4",accessory:Object(Cn.a)(o.Nothing.hasInstance(t)),disabled:o.Nothing.hasInstance(t),onClick:p,children:"I understand, continue"}),v]})},DOWNLOAD:function(e){var t=e.newWallet,n=Object(pe.b)(),a=n.push,c=n.names,s=Object(r.useState)(!1),l=Object(i.a)(s,2),j=l[0],d=l[1],f=Object(r.useCallback)((function(){return a(c.VERIFY)}),[a,c]);return Object(b.jsxs)(u.h,{className:"mt4",children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.t,children:"Download the new passport, and keep it somewhere safe!"}),Object(b.jsx)(u.h.Item,{full:!0,as:j?At.c:At.b,className:"mt4",disabled:o.Nothing.hasInstance(t),onClick:j?f:function(){Ga(t.value.paper),d(!0)},success:j,solid:!0,children:j?"Continue":"Download Passport"})]})},VERIFY:function(e){var t=e.newWallet,n=Object(pe.b)(),a=n.push,c=n.names,s=t.value.wallet.ticket,i=Object(r.useMemo)((function(){return Object(ye.r)({ticket:Object(ye.k)([Object(cr.d)(s,"Does not match expected master ticket.")])})}),[s]),o=Object(r.useMemo)((function(){return{ticket:xs?s:void 0}}),[s]),l=Object(r.useCallback)((function(){return a(c.EXECUTE)}),[a,c]);return Object(b.jsxs)(u.h,{className:"mt4",children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.t,children:"Verify New Master Ticket"}),Object(b.jsx)(ge.a,{validate:i,afterSubmit:l,initialValues:o,children:function(e){var t=e.handleSubmit,n=e.values;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.j,className:"mt4",type:n.showTicket?"text":"password",name:"ticket",label:"New master ticket"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.e,name:"showTicket",label:"Show"}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,{full:!0,as:we.a,handleSubmit:t,children:"Verify & Reticket"})]})}})]})},EXECUTE:function(e){var t=e.newWallet,n=e.setNewWallet,a=Object(l.b)(),c=a.popTo,s=a.names,j=a.reset,d=Object(v.b)(),f=d.web3,O=d.contracts,m=d.networkType,p=Object(x.b)(),w=p.wallet,N=p.setWalletType,S=p.resetWallet,I=p.setUrbitWallet,E=p.walletType,C=p.walletHdPath,T=Object(g.b)().pointCursor,P=ue().getDetails,R=Rt(),A=R.signTransaction,D=R.sendTransaction,F=R.connector,L=Object(r.useState)(),M=Object(i.a)(L,2),_=M[0],W=M[1],B=Object(r.useState)(0),U=Object(i.a)(B,2),H=U[0],V=U[1],z=Object(r.useState)(),K=Object(i.a)(z,2),G=K[0],X=K[1],$=H>=1;Xr(),Object(r.useEffect)((function(){Object(k.a)(y.a.mark((function e(){var n,r,a,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E!==Le.r.WALLET_CONNECT||F&&F.connected){e.next=3;break}return W(new Error("Awaiting WalletConnect connection...")),e.abrupt("return");case 3:return W(),n=Q(T),r=J(P(n)),a=Object(An.a)(r.keyRevisionNumber,10),c=E===Le.r.WALLET_CONNECT?A:void 0,s=E===Le.r.WALLET_CONNECT?D:void 0,e.prev=9,e.next=12,lc({fromWallet:Z(w),fromWalletType:E,fromWalletHdPath:C,toWallet:t.value.wallet,point:n,web3:Y(f),contracts:q(O),networkType:m,onUpdate:ne,nextRevision:a+1,txnSigner:c,txnSender:s});case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(9),console.error(e.t0),W(e.t0);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})))()}),[F]);var ee=Object(r.useCallback)((function(){j(),n(Object(o.Nothing)())}),[j,n]),te=Object(r.useCallback)((function(){S(),N(Le.r.TICKET),I(Object(o.Just)(t.value.wallet)),c(s.POINT)}),[S,N,I,t,c,s]),ne=Object(r.useCallback)((function(e){var t=e.type,n=e.state,r=e.value;switch(t){case"progress":return V(n);case"askFunding":return X(r);case"gotFunding":return X(!1);default:console.error("Unknown update: ".concat(t))}}),[V,X]);return Object(b.jsxs)(u.h,{className:"mt4",children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.k,children:gs(H)}),$?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:"mt4",children:"Your changes are now reflected on-chain and you can use the new ticket to manage your point."}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,solid:!0,className:"mt4",accessory:"\u21ba",onClick:te,children:"Login with New Master Key"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,className:"mt4",gap:3,children:[Object(b.jsx)(u.h.Item,{full:!0,as:jc,progress:H}),Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:"f5 green4",children:"This process can take up to 5 minutes to complete. Don't close this page until the process is complete."})]}),_?(console.log(_),_.message=_.message||"Something went wrong!",Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,className:"mt4",children:Object(b.jsx)(u.f,{children:_.message.toString()})}),Object(b.jsx)(u.h.Item,{full:!0,className:"mt4",as:At.f,solid:!0,onClick:ee,children:"Restart"})]})):G?Object(b.jsx)(u.h.Item,Object(h.a)({full:!0,as:Yn,className:"mt4"},G)):Object(b.jsx)(u.h.Item,{full:!0,as:xe,className:"mt4",children:"Never give your Master Key to anyone"})]})]})}},ks=[ys.CONFIRM,ys.DOWNLOAD,ys.VERIFY,ys.EXECUTE];var Ss,Is,Es=["Route"],Cs={HOME:"HOME",SIGIL_GENERATOR:"SIGIL_GENERATOR",DOWNLOAD_KEYS:"DOWNLOAD_KEYS",SET_PROXY:"SET_PROXY",RESET_KEYS:"RESET_KEYS",TRANSFER:"TRANSFER"},Ts=(Ss={},Object(N.a)(Ss,Cs.HOME,(function(){var e=Object(pe.b)(),t=e.push,n=e.names,a=Object(g.b)().pointCursor,c=ue().getDetails,s=Object(x.b)().urbitWallet,i=Object(r.useCallback)((function(){return t(n.SIGIL_GENERATOR)}),[t,n]),l=Object(r.useCallback)((function(){return t(n.DOWNLOAD_KEYS)}),[t,n]),j=Object(r.useCallback)((function(){return t(n.RESET_KEYS)}),[t,n]),d=o.Just.hasInstance(s),f=Q(a),h=J(c(f)),O=qr().isOwner,m=Object(An.a)(h.keyRevisionNumber,10),p=E.azimuth.getPointSize(f),v=p!==E.azimuth.PointSize.Planet,w=p===E.azimuth.PointSize.Galaxy,y=Object(r.useCallback)((function(e){return t(n.SET_PROXY,{proxyType:e})}),[t,n]),N=Object(r.useCallback)((function(){return t(n.TRANSFER)}),[n,t]),k=Object(r.useCallback)((function(e,t){var n=!O||e===os&&0===m;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.h.Item,{full:!0,as:At.c,disabled:n,onClick:function(){return y(e)},children:["Edit ",ds(bs(e))," Key"]})})}),[y,O,m]);return Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,className:"mb7 f5",children:"Urbit ID"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,onClick:i,children:"Sigil"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,onClick:l,disabled:!d,disabledDetail:Object(b.jsx)(u.b,{className:"wrap ws-normal",children:"\xb7 Master Key Authentication required."}),children:"Download Keys"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,onClick:j,disabled:!O,disabledDetail:Object(b.jsx)(u.b,{className:"wrap ws-normal",children:" \xb7 Ownership key required"}),detail:d?"Reset Master Key and all other keys":"Transfer to Master Ticket, resetting all keys",children:d?"Reset Keys":"Transfer to Master Ticket"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,className:"mv7 f5 gray4",children:"Advanced"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,accessory:Object(b.jsx)(En,{text:h.owner}),detail:Object(b.jsx)("div",{className:"mt1 mono black",children:h.owner}),disabled:!h.owner,children:"Ownership Address"}),Object(b.jsx)(u.h.Divider,{}),k(is,h.managementProxy),Object(b.jsx)(u.h.Divider,{}),v&&k(os,h.spawnProxy),v&&0!==m&&Object(b.jsx)(u.h.Divider,{}),v&&0===m&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:At.c,className:"f6",accessory:Object(b.jsx)("span",{className:"underline pointer",children:"Set Keys"}),children:"Network Keys Required"}),Object(b.jsx)(u.h.Divider,{})]}),w&&Object(b.jsxs)(b.Fragment,{children:[k(ls,h.votingProxy)," ",Object(b.jsx)(u.h.Divider,{})]}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,onClick:N,disabled:!O,disabledDetail:Object(b.jsx)(u.b,{className:"wrap ws-normal",children:" \xb7 Ownership key required"}),children:"Transfer this point"})]})})),Object(N.a)(Ss,Cs.SIGIL_GENERATOR,(function(){var e=Object(g.b)().pointCursor,t=Object(ye.r)({size:Object(ye.i)(16)}),n=Q(e),a=Object(r.useRef)(null),c=hs(a).downloadSigil,s=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t,r){var a,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t.bgColor,t.fgColor],e.next=3,c(n,a,t.size);case 3:if(!(s=e.sent)){e.next=6;break}return e.abrupt("return",Object(N.a)({},De.b,s));case 6:setTimeout((function(){return r.reset(t)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,c]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ge.a,{validate:t,initialValues:{size:256,fgColor:"#FFFFFF",bgColor:"#000000"},onSubmit:s,children:function(e){var t=e.handleSubmit,r=e.values;return Object(b.jsxs)(u.h,{gap:6,children:[Object(b.jsx)(u.h.Item,{full:!0,className:"f5",children:"Sigil"}),Object(b.jsx)(u.h.Item,{fourth:1,children:Object(b.jsx)(or.a,{size:50,patp:Me.patp(n),colors:[r.bgColor,r.fgColor]})}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,col:!0,children:[Object(b.jsx)(u.g.Item,{className:"mb1",children:"Urbit ID"}),Object(b.jsx)(u.g.Item,{className:"mono",children:Me.patp(n)})]}),Object(b.jsx)(u.h.Item,{fourth:1,as:Ge.e,name:"size",label:"Size (px)"}),Object(b.jsx)(u.h.Item,{full:!0,as:Os,name:"bgColor",label:"Background Color",colors:ms}),Object(b.jsx)(u.h.Item,{full:!0,as:Os,name:"fgColor",label:"Foreground Color",colors:ps}),Object(b.jsx)(u.h.Item,{full:!0,as:we.a,handleSubmit:t,accessory:"\u2193",children:"Download Sigil"}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a})]})}}),Object(b.jsx)("canvas",{style:{display:"none"},ref:a})]})})),Object(N.a)(Ss,Cs.DOWNLOAD_KEYS,(function(){var e=Object(x.b)().urbitWallet,t=Object(g.b)().pointCursor,n=Object(pe.b)().pop,a=Z(e),c=Q(t),s=Zc(),l=s.keyfile,j=s.filename,d=Object(r.useState)(Object(o.Nothing)()),f=Object(i.a)(d,2),h=f[0],O=f[1],m=Object(r.useState)(!1),p=Object(i.a)(m,2),v=p[0],w=p[1],y=Object(r.useCallback)((function(){Ga(h.value,l,j),w(!0)}),[h,l,j,w]),N=Object(r.useCallback)((function(){return n()}),[n]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Download Passport"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.r,children:"After you\u2019ve downloaded your passport, back up the ticket manually or store on a trusted device."}),v?Object(b.jsx)(u.h.Item,{full:!0,as:At.f,solid:!0,onClick:N,children:"Done"}):Object(b.jsx)(u.h.Item,{full:!0,as:At.b,solid:!0,disabled:o.Nothing.hasInstance(h),onClick:y,children:h.matchWith({Nothing:function(){return"Printing and folding..."},Just:function(e){return"Download paper wallet"}})})]}),Object(b.jsx)(Qa,{point:c,wallets:[a],callback:function(e){O(Object(o.Just)(e))}})]})})),Object(N.a)(Ss,Cs.RESET_KEYS,(function(){var e=Object(Da.a)({names:ys,views:Ns,initialRoutes:[{key:ys.CONFIRM}]}),t=e.Route,n=Object(d.a)(e,ws),a=Object(r.useState)(Object(o.Nothing)()),c=Object(i.a)(a,2),s=c[0],l=c[1],j=Object(r.useCallback)((function(e,t){l(Object(o.Just)({wallet:e,paper:t}))}),[l]);return Object(b.jsxs)(pe.a,{value:n,children:[Object(b.jsx)(u.h,{children:Object(b.jsx)(u.h.Item,{full:!0,as:u.g,row:!0,align:"center",children:Object(b.jsx)(u.g.Item,{as:tc,num:n.size,total:ks.length})})}),Object(b.jsx)(t,{newWallet:s,setNewWallet:j})]})})),Object(N.a)(Ss,Cs.SET_PROXY,(function(){var e=Object(pe.b)(),t=e.data,n=e.pop,a=ue().getDetails,c=Object(g.b)().pointCursor,s=Object(v.b)().contracts,i=Q(c),o=J(a(i)),l=q(s),j=ds(bs(t.proxyType)),f=function(e){var t=Object(v.b)().contracts,n=Object(g.b)().pointCursor,a=ue().syncDetails,c=q(t),s=Q(n),i=On(Object(r.useCallback)((function(t){var n,r,a,i,o=[c,s,t];switch(e){case is:return(n=E.ecliptic).setManagementProxy.apply(n,o);case os:return(r=E.ecliptic).setSpawnProxy.apply(r,o);case us:return(a=E.ecliptic).setTransferProxy.apply(a,o);case ls:return(i=E.ecliptic).setVotingProxy.apply(i,o);default:throw new Error("Unknown proxyType ".concat(e))}}),[c,s,e]),Object(r.useCallback)((function(){return a(s)}),[s,a]),Le.g.SET_PROXY),o=i.construct,u=Object(d.a)(i,vs),l=Object(r.useCallback)((function(){o(Le.d)}),[o]);return Object(h.a)({construct:o,unset:l},u)}(t.proxyType),O=f.construct,m=f.unconstruct,p=f.unset,x=f.inputsLocked,w=f.completed,y=f.bind,N=Object(r.useCallback)((function(e,t){if(!e.unset&&t.address)return t}),[]),k=Object(r.useMemo)((function(){return Object(ye.r)({unset:Object(ye.d)(),address:Object(ye.a)()},N)}),[N]),S=Object(r.useCallback)((function(e){var t=e.valid,n=e.values,r=e.form;t?n.unset?(p(),r.change("address","")):O(n.address):m()}),[O,m,p]),I=Object(r.useMemo)((function(){return{unset:!1}}),[]),C=function(e,t,n){switch(n){case is:return e.managementProxy;case os:return e.spawnProxy;case us:return e.transferProxy;case ls:return Object(Ie.c)(e.votingProxy,t.delegatedSending.address)?"".concat(e.votingProxy," (invites contract)"):e.votingProxy;default:throw new Error("Unknown proxyType: ".concat(n))}}(o,l,t.proxyType),T=!Object(Ie.e)(C),P=Object(r.useMemo)((function(){return"".concat(w?"New":"Edit"," ").concat(j," Key")}),[w,j]);return Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,className:"f5 mb2",children:P}),!w&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:"mb4 f5 gray4",children:js(t.proxyType)}),Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:he()("f6",{green3:w}),children:"Current"})]}),Object(b.jsx)(ge.a,{validate:k,onValues:S,initialValues:I,children:function(e){e.handleSubmit;var t=e.values;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.g,row:!0,justify:"between",align:"center",children:Object(b.jsx)(u.g.Item,{flex:!0,as:u.t,className:he()("mono mv3 gray4",{black:!w&&T,gray4:!w&&!T,green3:w}),children:T?C:"Unset"})}),w?Object(b.jsx)(u.h.Item,{full:!0,className:"mb4"}):Object(b.jsx)(u.h.Item,{full:!0,as:Ge.a,className:"mv4",name:"address",label:"New ".concat(j," Address"),disabled:x||t.unset}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},y),{},{onReturn:function(){return n()}}))]})}})]})})),Object(N.a)(Ss,Cs.TRANSFER,(function(){var e=Object(pe.b)().pop,t=Wc(),n=Object(g.b)().pointCursor,a=W().starReleaseDetails,c=function(){var e=Object(v.b)().contracts,t=Object(g.b)().pointCursor,n=ue().syncDetails,a=q(e),c=Q(t);return On(Object(r.useCallback)((function(e){return E.ecliptic.setTransferProxy(a,c,e)}),[a,c]),Object(r.useCallback)((function(){return n(c)}),[c,n]),Le.g.SET_PROXY)}(),s=c.construct,i=c.unconstruct,o=c.completed,l=c.inputsLocked,j=c.bind,d=Object(r.useMemo)((function(){var e=Q(n),t=E.azimuth;return t.getPointSize(e)===t.PointSize.Galaxy&&"none"!==a.map((function(e){return e.kind})).getOrElse("none")}),[n,a]),f=Object(r.useMemo)((function(){return Object(ye.r)({address:Object(ye.a)()})}),[]),O=Object(r.useCallback)((function(e){var t=e.valid,n=e.values;t?s(n.address):i()}),[s,i]);return Object(b.jsxs)(u.h,{gap:1,children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Transfer Point"}),Object(b.jsx)(ge.a,{validate:f,onValues:O,children:function(n){n.handleSubmit;var r=n.values;return Object(b.jsxs)(b.Fragment,{children:[!o&&Object(b.jsxs)(u.h.Item,{full:!0,as:u.t,className:he()("f5 wrap"),children:["Transfer ",t," to a new owner."]}),!o&&d&&Object(b.jsxs)(u.h.Item,{full:!0,as:qn,children:["You have stars in lockup. These will not transfer with the"," ","galaxy. If you wish, you must transfer the lockup separately."]}),o&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,as:u.t,className:"wrap",children:["Started transferring ",Object(b.jsx)("span",{className:"mono",children:t})," to"," "]}),Object(b.jsx)(u.h.Item,{full:!0,as:u.t,children:Object(b.jsx)("span",{className:"mono gray4",children:r.address})}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.t,className:"mt6",children:["Until they accept the transfer, you still own"," ",Object(b.jsx)("span",{className:"mono",children:t})]})]}),!o&&Object(b.jsx)(u.h.Item,{full:!0,as:Ge.a,className:"mv4",name:"address",label:"Ethereum Address",disabled:l}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},j),{},{onReturn:function(){return e()}}))]})}})]})})),Ss),Ps=function(e){switch(e){case Cs.SIGIL_GENERATOR:return"Sigil";case Cs.DOWNLOAD_KEYS:return"Download Keys";case Cs.SET_PROXY:return"Set Key";case Cs.RESET_KEYS:return"Reset Keys";case Cs.TRANSFER:return"Transfer";default:return}};var Rs="REQUESTS",As="ALL",Ds=[{text:"Requests",value:Rs},{text:"All",value:As}],Fs=(Is={},Object(N.a)(Is,Rs,Ls),Object(N.a)(Is,As,Ls),Is);function Ls(e){var t=e.className,n=e.points,a=e.onAccept,c=e.onDecline,s=e.page,i=e.setPage,l=10*s,j=10*s+10,d=n.map((function(e){return e.length})).getOrElse(0),f=Math.ceil(d/10)-1,h=s<f,O=s>0,m=n.map((function(e){return e.slice(l,j)})).getOrElse([]),p=Object(r.useCallback)((function(){i((function(e){return e+1}))}),[i]),v=Object(r.useCallback)((function(){i((function(e){return e-1}))}),[i]);return o.Nothing.hasInstance(n)?Object(b.jsx)(u.h,{className:t}):Object(b.jsxs)(u.h,{className:he()("mt2",t),children:[0===m.length&&Object(b.jsx)(u.h.Item,{full:!0,as:u.m,className:"mt8 t-center",children:o.Just.hasInstance(n)?"No points to display":Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Cn.b,{})," Loading..."]})}),m.map((function(e){return Object(b.jsx)(Ms,{point:e,onAccept:a,onDecline:c},e)})),Object(b.jsx)(u.h.Item,{as:Re.a,children:Object(b.jsxs)(u.h,{className:"pb9",children:[O&&Object(b.jsx)(u.h.Item,{className:"pointer underline mt4",fourth:1,onClick:v,children:"<-"}),f>0&&Object(b.jsxs)(u.h.Item,{className:"mt4 t-center gray3",cols:[4,10],children:[Object(b.jsxs)("span",{className:"black",children:["Page ",s+1]})," of ",f+1]}),h&&Object(b.jsx)(u.h.Item,{className:"pointer underline t-right mt4",fourth:4,onClick:p,children:"->"})]})})]})}function Ms(e){var t=e.point,n=e.onAccept,r=e.onDecline,a=Me.patp(t),c=n&&r;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{className:"flex-row justify-center align-center",cols:[1,3],children:Object(b.jsx)("div",{style:{display:"inline-block",height:"".concat(50,"px"),width:"".concat(50,"px")},children:Object(b.jsx)(or.a,{patp:a,size:25,colors:["#FFFFFF","#000000"]})})}),Object(b.jsxs)(u.h.Item,{className:"flex-row align-center mono",cols:[3,7],children:[a," "]}),c&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{className:"flex-row-r align-center underline green3 pointer",cols:[7,10],onClick:function(){return n(t)},children:"Accept"}),Object(b.jsx)(u.h.Item,{className:"flex-row-r align-center underline red4 pointer",cols:[10,13],onClick:function(){return r(t)},children:"Decline"})]}),Object(b.jsx)(u.h.Divider,{})]})}var _s=["className"];function Ws(e){var t=e.className,n=Object(d.a)(e,_s);return Object(b.jsx)(zn,Object(h.a)({className:he()(t,"mono","wrap")},n))}var Bs,Us=n(85),Hs={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:78792518,private:78791436},pubKeyHash:0,scriptHash:5,wif:128},Vs={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:73342198,private:73341116},pubKeyHash:111,scriptHash:196,wif:239};var zs=(Bs={},Object(N.a)(Bs,de.DISCLAIMER,ke),Object(N.a)(Bs,de.ACTIVATE,(function(){var e=function(){var e=Object(r.useState)(Object(o.Nothing)()),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(Object(o.Nothing)()),s=Object(i.a)(c,2),u=s[0],l=s[1],b=Object(r.useState)(Object(o.Nothing)()),j=Object(i.a)(b,2),d=j[0],f=j[1],h=Object(r.useState)(!1),O=Object(i.a)(h,2),m=O[0],p=O[1],v=Object(r.useCallback)((function(){a(Object(o.Nothing)()),l(Object(o.Nothing)()),f(Object(o.Nothing)()),p(!1)}),[a,l,f,p]);return{derivedWallet:n,setDerivedWallet:a,inviteWallet:u,setInviteWallet:l,derivedPoint:d,setDerivedPoint:f,generated:m,setGenerated:p,reset:v}}(),t=Object(Da.a)({names:gc,views:wc,initialRoutes:[{key:gc.CODE}]}),n=t.Route,a=Object(d.a)(t,xc);return Object(r.useEffect)((function(){return function(){window.history.replaceState(null,null,"")}}),[]),jr([e.derivedPoint.getOrElse(null)].filter((function(e){return null!==e}))),Object(b.jsx)(pe.a,{value:a,children:Object(b.jsx)(La,{value:e,children:Object(b.jsx)(n,{})})})})),Object(N.a)(Bs,de.LOGIN,(function(){var e=Object(l.b)(),t=e.push,n=e.names,a=Pe(),c=Object(r.useState)(!1),s=Object(i.a)(c,2),o=s[0],j=s[1],d=Object(r.useCallback)((function(){return t(n.ACTIVATE)}),[t,n.ACTIVATE]),f=Object(r.useCallback)((function(){if(a)switch(a.kind){case Ee:t(n.ACCEPT_LOCKUP);break;case Ce:t(n.BITCOIN_SIGN_TRANSACTION);break;case Te:t(n.BITCOIN_XPUB);break;default:throw new Error("unimplemented flow "+a.kind)}else t(n.POINTS)}),[a,t,n]);return Object(b.jsxs)(ve.a,{inset:!0,children:[Object(b.jsxs)(u.h,{children:[Object(b.jsxs)(u.h.Item,{full:!0,as:u.t,className:"flex justify-center mt9 mb7",children:[Object(b.jsx)(u.h.Item,{as:u.t,className:"gray3",children:"Urbit ID /\xa0"}),Object(b.jsx)(u.h.Item,{as:u.t,children:"Login"})]}),a&&Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:"t-center mb4",children:function(e){switch(e.kind){case Ee:return Object(b.jsx)(b.Fragment,{children:"To accept a star lockup batch, please sign in."});case Ce:return Object(b.jsx)(b.Fragment,{children:"To sign a Bitcoin transaction, please sign in."});case Te:return Object(b.jsx)(b.Fragment,{children:"To view your Bitcoin extended public key, please sign in."});default:return Object(b.jsxs)(b.Fragment,{children:["Flow: ",e.kind]})}}(a)}),Object(b.jsx)(u.h.Item,{full:!0,as:o?Wt:bt,goHome:f}),!o&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,className:"t-center mv4 gray4",children:"or"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.d,className:"b-solid b1 b-black",center:!0,onClick:function(){return j(!0)},children:"Metamask, Mnemonic, Hardware Wallet..."}),!a&&Object(b.jsxs)(u.h.Item,{full:!0,onClick:d,className:"mv10 t-center f6",children:[Object(b.jsx)("span",{className:"gray4",children:"New Urbit ID? "}),Object(b.jsx)(u.q,{children:"Activate"})]})]}),o&&Object(b.jsx)(u.h.Item,{as:u.q,onClick:function(){return j(!1)},full:!0,className:"t-center underline f6 mt8",children:"Back"})]}),Object(b.jsx)(Re.a,{children:Object(b.jsxs)(u.g,{className:"mb8 f6",justify:"between",children:[Object(b.jsxs)(u.g.Item,{as:"a",href:"https://github.com/urbit/bridge/releases",className:"us-none pointer",children:[Object(b.jsx)("span",{className:"underline",children:"Offline"})," \u2197"]}),Object(b.jsxs)(u.g.Item,{className:"gray4",children:["v",Se.d]})]})})]})})),Object(N.a)(Bs,de.LOGIN_OTHER,Wt),Object(N.a)(Bs,de.POINTS,(function(){var e=Object(x.b)().wallet,t=Object(l.b)(),n=t.pop,a=t.push,c=t.popAndPush,s=t.names,j=Object(g.b)().setPointCursor,d=ue(),f=d.controlledPoints,h=d.getDetails,O=function(){var e=Object(x.b)().wallet,t=ue(),n=t.eclipticOwner,r=t.syncEclipticOwner;return Sa((function(){r()})),e.matchWith({Nothing:function(){return!1},Just:function(e){return!!n&&Object(Ie.c)(e.value.address,n)}})}(),m=function(){var e=Oe("bridge:rejected-points",[]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useCallback)((function(e){return a([].concat(Object(I.a)(n),[e]))}),[n,a]);return[n,c]}(),p=Object(i.a)(m,2),v=p[0],w=p[1],y=W(),N=y.syncStarReleaseDetails,k=y.starReleaseDetails,S=Object(r.useMemo)((function(){return f.chain((function(e){return e.matchWith({Error:function(){return Object(o.Nothing)()},Ok:function(e){var t=e.value.ownedPoints.map((function(e){return h(e).chain((function(t){return Object(o.Just)({point:e,has:Pa(t)})}))}));if(t.every((function(e){return o.Just.hasInstance(e)}))){var n=t.filter((function(e){return e.value.has})).map((function(e){return e.value.point}));return Object(o.Just)(n)}return Object(o.Nothing)()}})}))}),[h,f]);Object(r.useEffect)((function(){o.Nothing.hasInstance(S)||o.Nothing.hasInstance(k)||f.matchWith({Nothing:function(){return null},Just:function(e){e.value.matchWith({Error:function(){return null},Ok:function(e){var t=[].concat(Object(I.a)(e.value.ownedPoints),Object(I.a)(e.value.votingPoints),Object(I.a)(e.value.managingPoints),Object(I.a)(e.value.spawningPoints)),n=e.value.incomingPoints.filter((function(e){return!v.includes(e)}));1!==t.length||0!==n.length||0!==S.value.length||null!==k.value&&0!==k.value.total||(j(Object(o.Just)(t[0])),c(s.POINT))}})}})}),[f,v,S,j,c,s,k]);var E=$(e),C=o.Nothing.hasInstance(f),T=Ta(f,"ownedPoints",[]),P=Ta(f,"incomingPoints",[]).filter((function(e){return!v.includes(e)})),R=Ta(f,"managingPoints",[]),A=Ta(f,"votingPoints",[]),D=Ta(f,"spawningPoints",[]),F=S.getOrElse([]),L=[].concat(Object(I.a)(T.filter((function(e){return!F.includes(e)}))),Object(I.a)(R),Object(I.a)(A),Object(I.a)(D)),M=!C&&0===P.length&&0===L.length,_=k.map((function(e){return!!e&&e.total>0})).getOrElse(!1);Object(r.useEffect)((function(){N()}),[N]),dr(T);var B=Object(r.useCallback)((function(){return a(s.CREATE_GALAXY)}),[s.CREATE_GALAXY,a]),U=Object(r.useCallback)((function(){return a(s.STAR_RELEASE)}),[s.STAR_RELEASE,a]);if(o.Just.hasInstance(f)&&f.value.matchWith({Error:function(e){return!0},Ok:function(e){return!1}})){var H=Ea()({user:"urbit",repo:"bridge",title:f.value.value,body:"\x3c!-- Please provide some context. Do you have Metamask installed? What login method did you use? --\x3e"});return Object(b.jsx)(ve.a,{inset:!0,children:Object(b.jsx)(u.h,{children:Object(b.jsxs)(u.h.Item,{full:!0,as:u.m,className:"mt8 t-center",children:[f.value.value,Object(b.jsx)("br",{}),"Try reloading the page. If this problem persists, please"," ",Object(b.jsx)("a",{href:H,children:"file an issue on GitHub"}),"."]})})})}return C||1===L.length&&0===P.length&&0===F.length&&!_?Object(b.jsx)(ve.a,{inset:!0,children:Object(b.jsx)(u.h,{children:Object(b.jsxs)(u.h.Item,{full:!0,as:u.m,className:"mt8 t-center",children:[Object(b.jsx)(Cn.b,{})," Loading..."]})})}):Object(b.jsxs)(ve.a,{inset:!0,pop:n,hideBack:!0,children:[Object(b.jsx)(wr.a,{children:Object(b.jsx)(Gn,{text:E,className:"f6 mono gray4 mb4 us-none pointer",children:Object(Ie.a)(E)})}),Object(b.jsxs)(u.h,{children:[M&&Object(b.jsx)(u.h.Item,{full:!0,as:u.m,className:"mt8 t-center",children:"No points to display. This wallet is not the owner or proxy for any points."}),P.length>0&&Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,gap:1,className:"mb6",children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.l,children:mr(P.length,"Incoming Transfer","Incoming Transfers")}),Object(b.jsx)(u.h.Item,{full:!0,as:Ra,points:P,actions:function(e,t){return Object(b.jsx)(Aa,{actions:[{text:"Accept",onClick:function(){j(Object(o.Just)(e)),a(s.ACCEPT_TRANSFER)}},{text:"Reject",onClick:function(){w(e)}}]})},inverted:!0})]}),F.length>0&&Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,gap:1,className:"mb6",children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.l,children:mr(F.length,"Outgoing Transfer","Outgoing Transfers")}),Object(b.jsx)(u.h.Item,{full:!0,as:Ra,points:F,actions:function(e,t){return Object(b.jsx)(Aa,{actions:[{text:"Cancel",onClick:function(){j(Object(o.Just)(e)),a(s.CANCEL_TRANSFER)}}]})},inverted:!0})]}),L.length>0&&Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,gap:1,children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.l,children:mr(L.length,"ID")}),Object(b.jsx)(u.h.Item,{full:!0,as:Ra,points:L})]}),Object(b.jsx)(Re.a,{children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Divider,{}),O&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:At.c,detail:"You have the authority to create a new Galaxy.",onClick:B,children:"Create a galaxy"}),Object(b.jsx)(u.h.Divider,{})]}),_&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:At.c,detail:"You have points being released",onClick:U,children:"View Star Release"}),Object(b.jsx)(u.h.Divider,{})]})]})})]})]})})),Object(N.a)(Bs,de.POINT,(function(){var e=Object(pe.b)(),t=e.pop,n=e.push,a=e.names,c=Object(g.b)().pointCursor,s=Object(x.b)(),l=s.wallet,j=s.urbitWallet,d=Q(c),f=(0,ue().getResidents)(d),h=f.residentCount,O=f.requestCount,m=qr(),p=m.isParent,v=m.isActiveOwner,w=m.canManage,y=m.canSpawn,N=m.canVote,k=o.Just.hasInstance(j),S=Yr(d),I=S.availableInvites,C=S.sentInvites,T=S.acceptedInvites,P=S.pendingPoints,R=S.acceptedPoints,A=!(0===T.getOrElse(0)&&0===C.getOrElse(0)),D=A||0!==I.getOrElse(0),F=o.Just.hasInstance(I),L=Object(r.useCallback)((function(){return n(a.SENATE)}),[n,a]),M=Object(r.useCallback)((function(){return n(a.INVITE_COHORT)}),[n,a]),_=Object(r.useCallback)((function(){return n(a.URBIT_OS)}),[n,a]),W=Object(r.useCallback)((function(){return n(a.BITCOIN)}),[n,a]),B=Object(r.useCallback)((function(){return n(a.URBIT_ID)}),[n,a]),U=Object(r.useCallback)((function(){return n(a.RESIDENTS)}),[n,a]),H=Object(r.useCallback)((function(){return n(a.PARTY_SET_POOL_SIZE)}),[n,a]),V=Object(r.useCallback)((function(){return n(a.ISSUE_CHILD)}),[a.ISSUE_CHILD,n]),z=E.azimuth.getPointSize(d)===E.azimuth.PointSize.Planet,K=Object(r.useState)(!1),G=Object(i.a)(K,2),J=G[0],Y=G[1],q=E.azimuth.getPointSize(d)===E.azimuth.PointSize.Star?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:At.c,disabled:!v,onClick:H,children:"Manage Invite Pools"}),Object(b.jsx)(u.h.Divider,{})]}):null,Z=E.azimuth.getPointSize(d)!==E.azimuth.PointSize.Galaxy?null:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:At.c,disabled:!N,onClick:L,children:"Senate"}),Object(b.jsx)(u.h.Divider,{})]});fr([d]);var X=$(l),ee=O.getOrElse(0);return Object(b.jsxs)(ve.a,{pop:t,inset:!0,children:[Object(b.jsx)(Cr,{point:d}),Object(b.jsx)(Vr,{point:Object(o.Just)(d),address:Object(o.Just)(X),animationMode:"slide"}),Object(b.jsxs)(u.h,{gap:3,children:[p&&Object(b.jsxs)(u.h.Item,{full:!0,as:u.g,justify:"between",onClick:U,className:"mv1 pointer",children:[Object(b.jsxs)(u.g.Item,{children:["Residents"," ",Object(b.jsx)("span",{className:"gray3",children:Object(Cn.c)(h)})]}),0!==ee&&Object(b.jsxs)(u.g.Item,{className:"f7 bg-gray2 h3 pv1 ph2 br-full r-full text-center",children:[ee," PENDING"]})]}),z&&D&&Object(b.jsx)(ka,{showInviteForm:J,setShowInviteForm:Y,acceptedInvites:T,acceptedPoints:R,availableInvites:I,goCohort:M,pendingPoints:P,sentInvites:C,showInvites:A}),!F&&z&&Object(b.jsxs)(u.h.Item,{className:"mv2",full:!0,children:["Invite Group ",Object(b.jsx)(Cn.b,{})]})]}),Object(b.jsxs)(u.h,{className:"pt2",children:[Object(b.jsx)(u.h.Divider,{}),q,Object(b.jsx)(u.h.Item,{full:!0,as:At.c,disabled:!w,onClick:B,className:"mt1",detail:"Identity and security settings",children:"ID"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,disabled:!w,className:"mt1",detail:"Urbit OS Settings",onClick:_,children:"OS"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,disabled:!k,className:"mt1",detail:"Bitcoin management",onClick:W,children:"Bitcoin"}),Object(b.jsx)(u.h.Divider,{}),p&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:At.c,disabled:!y,onClick:V,children:"Issue Point"}),Object(b.jsx)(u.h.Divider,{})]}),Z]})]})})),Object(N.a)(Bs,de.CREATE_GALAXY,(function(){var e=Object(pe.b)().pop,t=Object(v.b)().contracts,n=q(t),a=function(){var e=Object(v.b)().contracts,t=ue().syncDates,n=q(e),a=Object(r.useState)(),c=Object(i.a)(a,2),s=c[0],o=c[1];return On(Object(r.useCallback)((function(e,t){return o(e),E.ecliptic.createGalaxy(n,e,t)}),[n]),Object(r.useCallback)((function(){return t(s)}),[s,t]),Le.g.DEFAULT)}(),c=a.construct,s=a.unconstruct,o=a.completed,l=a.inputsLocked,j=a.bind,d=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.azimuth.getOwner(n,Object(Ve.a)(t.galaxyName));case 2:if(r=e.sent,Object(Ie.e)(r)){e.next=6;break}return e.abrupt("return",{galaxyName:"This galaxy is already spawned and owned."});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),f=Object(r.useCallback)((function(e,t){return Object(ye.s)(t)?t:d(e,t)}),[d]),O=Object(r.useMemo)((function(){return Object(ye.r)({galaxyName:Object(ye.l)(1),owner:Object(ye.a)()},f)}),[f]),m=Object(r.useCallback)((function(e){var t=e.valid,n=e.values;t?c(Object(Ve.a)(n.galaxyName),n.owner):s()}),[c,s]);return Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Create a Galaxy"}),Object(b.jsx)(ge.a,{validate:O,onValues:m,children:function(t){t.handleSubmit;var n=t.values;return Object(b.jsxs)(b.Fragment,{children:[o&&Object(b.jsxs)(u.h.Item,{full:!0,as:u.t,className:he()("f5 wrap",{green3:o}),children:[n.galaxyName," has been created and can be claimed by"," ",Object(b.jsx)(Gn,{children:n.owner}),"."]}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.g,className:"mt4",name:"galaxyName",label:"Galaxy Name",disabled:l}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.a,className:"mb4",name:"owner",label:"Ethereum Address",disabled:l}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},j),{},{onReturn:function(){return e()}}))]})}})]})})})),Object(N.a)(Bs,de.ISSUE_CHILD,(function(){var e=Object(pe.b)().pop,t=Object(v.b)().contracts,n=Object(g.b)().pointCursor,a=q(t),c=Object(An.a)(Q(n),10),s=function(e){var t=Object(r.useRef)();return t.current||(t.current=e()),t.current}((function(){return E.azimuth.getUnspawnedChildren(a,c).then((function(e){return new Set(e)}))})),o=Object(r.useMemo)((function(){var e=function(){return _e.a.patp(ar(c))};return[e(),e(),e(),e()]}),[c]),l=function(){var e=Object(v.b)().contracts,t=ue().syncDates,n=q(e),a=Object(r.useState)(),c=Object(i.a)(a,2),s=c[0],o=c[1];return On(Object(r.useCallback)((function(e,t){return o(e),E.ecliptic.spawn(n,e,t)}),[n]),Object(r.useCallback)((function(){return t(s)}),[s,t]),Le.g.DEFAULT)}(),j=l.isDefaultState,d=l.construct,f=l.unconstruct,O=l.completed,m=l.inputsLocked,p=l.bind,x=Object(r.useCallback)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Ve.a)(t.point),e.next=3,s;case 3:if(e.sent.has(n)){e.next=6;break}return e.abrupt("return",{point:"This point cannot be spawned."});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),w=Object(r.useCallback)((function(e,t){return Object(ye.s)(t)?t:x(e,t)}),[x]),N=Object(r.useMemo)((function(){return Object(ye.r)({point:Object(ye.l)(4,[Object(cr.a)(_e.a.patp(c))]),owner:Object(ye.a)()},w)}),[c,w]),S=Object(r.useCallback)((function(e){var t=e.valid,n=e.values;t?d(Object(Ve.a)(n.point),n.owner):f()}),[d,f]);return Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Issue Child Point"}),j&&Object(b.jsxs)(u.h.Item,{full:!0,as:u.t,children:["Perhaps one of ",o.slice(0,3).join(", "),", or"," ",o[o.length-1],"?"]}),Object(b.jsx)(ge.a,{validate:N,onValues:S,children:function(t){t.handleSubmit;var n=t.values;return Object(b.jsxs)(b.Fragment,{children:[O&&Object(b.jsxs)(u.h.Item,{full:!0,as:u.t,className:he()("f5 wrap",{green3:O}),children:[n.point," has been spawned and can be claimed by"," ",Object(b.jsx)(Gn,{children:n.owner}),"."]}),!O&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.g,name:"point",disabled:m,className:"mt4"}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.a,className:"mb4",name:"owner",label:"Ethereum Address",disabled:m})]}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},p),{},{onReturn:function(){return e()}}))]})}})]})})})),Object(N.a)(Bs,de.SENATE,(function(){var e=Object(pe.b)(),t=e.pop,n=e.push,a=e.names,c=Object(r.useCallback)((function(){return n(a.DOCUMENTS)}),[n,a]),s=Object(r.useCallback)((function(){return n(a.UPGRADES)}),[n,a]);return Object(b.jsxs)(ve.a,{pop:t,inset:!0,children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Senate: Proposals"}),Object(b.jsxs)(u.h,{className:"pt2",children:[Object(b.jsx)(u.h.Item,{full:!0,as:At.c,className:"mt1",onClick:c,children:"Document Proposals"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,className:"mt1",onClick:s,children:"Upgrade Proposals"})]})]})})),Object(N.a)(Bs,de.DOCUMENTS,(function(){var e=Object(pe.b)().pop,t=Object(v.b)().contracts,n=Object(g.b)().pointCursor,a=q(t),c=Object(An.a)(Q(n),10),s=function(){var e=Object(v.b)().contracts,t=Object(g.b)().pointCursor,n=q(e),a=Q(t);return On(Object(r.useCallback)((function(e,t){return E.ecliptic.castDocumentVote(n,a,e,t)}),[n,a]),Object(r.useCallback)((function(){return null}),[]),Le.g.DEFAULT)}(),o=s.construct,l=s.reset,j=s.unconstruct,d=s.bind,f=Object(r.useState)([]),O=Object(i.a)(f,2),m=O[0],p=O[1],x=Object(r.useState)([]),w=Object(i.a)(x,2),N=w[0],S=w[1],I=Object(r.useState)({}),C=Object(i.a)(I,2),T=C[0],P=C[1],R=Object(r.useState)(!0),A=Object(i.a)(R,2),D=A[0],F=A[1],L=Object(r.useState)({}),M=Object(i.a)(L,2),_=M[0],W=M[1],B=Math.round((new Date).getTime()/1e3);Object(r.useEffect)((function(){Object(k.a)(y.a.mark((function e(){var t,n,r,s,i,o,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.polls.getDocumentProposals(a);case 2:return t=e.sent,e.next=5,E.polls.getDocumentMajorities(a);case 5:n=e.sent,r={},s=Object(Ut.a)(t),e.prev=8,s.s();case 10:if((i=s.n()).done){e.next=22;break}return o=i.value,e.next=14,E.polls.getDocumentPoll(a,o);case 14:return(u=e.sent).endTime=Object(An.a)(u.start)+Object(An.a)(u.duration),e.next=18,E.polls.hasVotedOnDocumentPoll(a,c,o);case 18:u.hasVoted=e.sent,r[o]=u;case 20:e.next=10;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(8),s.e(e.t0);case 27:return e.prev=27,s.f(),e.finish(27);case 30:p(n),S(t),P(r),F(!1);case 34:case"end":return e.stop()}}),e,null,[[8,24,27,30]])})))()}),[a,c]);var U=Object(r.useMemo)((function(){var e=[],t=[];if(D)return[e,t];var n,r=Object(Ut.a)(N);try{for(r.s();!(n=r.n()).done;){var a=n.value;B>T[a].endTime?t.push(a):e.push(a)}}catch(c){r.e(c)}finally{r.f()}return[e,t]}),[D,N,T,B]),H=Object(i.a)(U,2),V=H[0],z=(H[1],Object(r.useCallback)((function(e,t){o(e,t),W({hash:e,accept:t})}),[o])),K=Object(r.useCallback)((function(){l(),j(),P((function(e){return e[_.hash].hasVoted=!0,e})),W({})}),[_,l,j]),G=Object(r.useMemo)((function(){return m.map((function(e){return Object(b.jsx)(u.h.Item,{full:!0,className:"mv2",as:u.r,children:Object(b.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://raw.githubusercontent.com/urbit/azimuth/master/proposals/".concat(e,".txt"),class:"mb4 mono wrap pre",children:[Qn(e),"\u2197"]})})}))}),[m]),J=Object(r.useMemo)((function(){return V.map((function(e){var t=T[e].hasVoted;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,className:"mv2",as:u.t,children:[Object(b.jsx)(u.r,{className:"m0 mono wrap pre",children:Qn(e)}),Object(b.jsx)(u.r,{className:"mt0",children:t?"Your vote has been cast.":Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.q,{onClick:function(){return z(e,!0)},children:_.hash===e&&_.accept?Object(b.jsx)("b",{children:"support"}):Object(b.jsx)(b.Fragment,{children:"support"})})," / ",Object(b.jsx)(u.q,{onClick:function(){return z(e,!1)},children:_.hash!==e||_.accept?Object(b.jsx)(b.Fragment,{children:"reject"}):Object(b.jsx)("b",{children:"reject"})})]})})]}),Object(b.jsx)(u.h.Divider,{})]})}))}),[V,T,_,z]);return Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Senate: Document Proposals"}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.r,children:"Accepted documents:"}),G]}),J.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Divider,{className:"mv4"}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.r,children:"Open document polls:"}),J]}),Object(b.jsx)(ge.a,{children:function(e){e.onSubmit,e.values;return Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},d),{},{onReturn:K}))}})]})]})})})),Object(N.a)(Bs,de.UPGRADES,(function(){var e=Object(pe.b)().pop,t=Object(v.b)().contracts,n=Object(g.b)().pointCursor,a=q(t),c=Object(An.a)(Q(n),10),s=function(){var e=Object(v.b)().contracts,t=Object(g.b)().pointCursor,n=q(e),a=Q(t);return On(Object(r.useCallback)((function(e,t){return E.ecliptic.castUpgradeVote(n,a,e,t)}),[n,a]),Object(r.useCallback)((function(){return null}),[]),Le.g.DEFAULT)}(),o=s.construct,l=s.reset,j=s.unconstruct,d=s.bind,f=Object(r.useState)([]),O=Object(i.a)(f,2),m=O[0],p=O[1],x=Object(r.useState)({}),w=Object(i.a)(x,2),N=w[0],S=w[1],I=Object(r.useState)(!0),C=Object(i.a)(I,2),T=C[0],P=C[1],R=Object(r.useState)({}),A=Object(i.a)(R,2),D=A[0],F=A[1],L=Math.round((new Date).getTime()/1e3);Object(r.useEffect)((function(){Object(k.a)(y.a.mark((function e(){var t,n,r,s,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.polls.getUpgradeProposals(a);case 2:t=e.sent,n={},r=Object(Ut.a)(t),e.prev=5,r.s();case 7:if((s=r.n()).done){e.next=19;break}return i=s.value,e.next=11,E.polls.getUpgradePoll(a,i);case 11:return(o=e.sent).endTime=Object(An.a)(o.start)+Object(An.a)(o.duration),e.next=15,E.polls.hasVotedOnUpgradePoll(a,c,i);case 15:o.hasVoted=e.sent,n[i]=o;case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),r.e(e.t0);case 24:return e.prev=24,r.f(),e.finish(24);case 27:p(t),S(n),P(!1);case 30:case"end":return e.stop()}}),e,null,[[5,21,24,27]])})))()}),[a,c]);var M=Object(r.useMemo)((function(){var e=[],t=[];if(T)return[e,t];var n,r=Object(Ut.a)(m);try{for(r.s();!(n=r.n()).done;){var a=n.value;L>N[a].endTime?t.push(a):e.push(a)}}catch(c){r.e(c)}finally{r.f()}return[e,t]}),[T,m,N,L]),_=Object(i.a)(M,2),W=_[0],B=(_[1],Object(r.useCallback)((function(e,t){o(e,t),F({address:e,accept:t})}),[o])),U=Object(r.useCallback)((function(){l(),j(),S((function(e){return e[D.address].hasVoted=!0,e})),F({})}),[D,l,j]),H=Object(r.useMemo)((function(){return W.map((function(e){var t=N[e].hasVoted;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.h.Item,{full:!0,className:"mv2",as:u.t,children:[Object(b.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://etherscan.io/address/".concat(e,"#code"),class:"mb4 mono wrap pre",children:[e,"\u2197"]}),Object(b.jsx)(u.r,{className:"mt0",children:t?"Your vote has been cast.":Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.q,{onClick:function(){return B(e,!0)},children:D.address===e&&D.accept?Object(b.jsx)("b",{children:"support"}):Object(b.jsx)(b.Fragment,{children:"support"})})," / ",Object(b.jsx)(u.q,{onClick:function(){return B(e,!1)},children:D.address!==e||D.accept?Object(b.jsx)(b.Fragment,{children:"reject"}):Object(b.jsx)("b",{children:"reject"})})]})})]}),Object(b.jsx)(u.h.Divider,{})]})}))}),[W,N,D,B]);return Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Senate: Upgrade Proposals"}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.r,children:"Current Ecliptic:"}),Object(b.jsx)(u.h.Item,{full:!0,className:"mv2 mb4 mono wrap pre",as:u.r,children:a.ecliptic.address})]}),H.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Divider,{className:"mv4"}),Object(b.jsxs)(u.h.Item,{full:!0,as:u.h,children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.r,children:"Open upgrade polls:"}),H]}),Object(b.jsx)(ge.a,{children:function(e){e.onSubmit,e.values;return Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},d),{},{onReturn:U}))}})]})]})})})),Object(N.a)(Bs,de.PARTY_SET_POOL_SIZE,(function(){var e=Object(pe.b)().pop,t=Object(v.b)().contracts,n=Object(g.b)().pointCursor,a=ue().getDetails,c=Q(n),s=J(a(c)),i=0!==Object(An.a)(s.encryptionKey,16)&&0!==Object(An.a)(s.authenticationKey,16)&&0!==s.cryptoSuiteVersion,o=q(t),l=qr().spawnIsDelegatedSending,j=function(){var e=Object(v.b)().contracts,t=Object(g.b)().pointCursor,n=ue().syncExtras,a=q(e),c=Q(t);return On(Object(r.useCallback)((function(e,t){return E.delegatedSending.setPoolSize(a,c,e,t)}),[a,c]),Object(r.useCallback)((function(){return n(c)}),[c,n]),Le.g.DEFAULT)}(),d=j.construct,f=j.unconstruct,O=j.completed,m=j.inputsLocked,p=j.bind,x=Object(r.useMemo)((function(){return Object(ye.r)({poolOwner:Object(ye.l)(),poolSize:Object(ye.i)(0)})}),[]),w=Object(r.useCallback)((function(e){var t=e.valid,n=e.values;t?d(Object(Ve.a)(n.poolOwner),n.poolSize):f()}),[d,f]),y=Object(r.useMemo)((function(){return{poolSize:5}}),[]);return Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Set Pool Size"}),!l&&Object(b.jsxs)(u.h.Item,{full:!0,as:xe,className:"mb4 f6",children:["The spawn proxy must be set to"," ",Object(b.jsx)(Gn,{children:o.delegatedSending.address})," ","for invitations to be available for use."]}),!i&&Object(b.jsx)(u.h.Item,{full:!0,as:xe,className:"mb4 f6",children:"Networking keys must be configured for invitations to be available for use."}),Object(b.jsx)(ge.a,{validate:x,onValues:w,initialValues:y,children:function(t){t.handleSubmit;var n=t.values;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:he()("f5 wrap",{green3:O}),children:O?Object(b.jsxs)(b.Fragment,{children:[n.poolSize," invites have been allocated to"," ",Object(b.jsx)(Gn,{children:n.poolOwner})]}):"Allocate invites to a child point."}),!O&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.g,className:"mt4",name:"poolOwner",label:"Point",disabled:m}),Object(b.jsx)(u.h.Item,{full:!0,as:Ge.e,className:"mb4",name:"poolSize",label:"Pool Size",disabled:m})]}),Object(b.jsx)(u.h.Item,{full:!0,as:Je.a}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},p),{},{onReturn:function(){return e()}}))]})}})]})})})),Object(N.a)(Bs,de.ACCEPT_TRANSFER,(function(){var e=Object(pe.b)().pop,t=Wc(),n=function(){var e=Object(v.b)().contracts,t=Object(g.b)().pointCursor,n=ue(),a=n.syncExtras,c=n.syncControlledPoints,s=Object(x.b)().wallet,i=q(e),o=Q(t),u=$(s),l=On(Object(r.useCallback)((function(e){return E.ecliptic.transferPoint(i,o,u,e)}),[i,o,u]),Object(r.useCallback)((function(){return Promise.all([a(o),c()])}),[o,c,a]),Le.g.TRANSFER);return Object(h.a)({},l)}(),a=n.completed,c=n.bind,s=n.inputsLocked,i=n.construct,o=Object(r.useMemo)((function(){return{noReset:!1}}),[]),l=Object(r.useMemo)((function(){return Object(ye.r)({noReset:Object(ye.d)()})}),[]),j=Object(r.useCallback)((function(e){e.valid;var t=e.values;e.form;i(!t.noReset)}),[i]);return Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Accept Transfer"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:he()("f5 wrap",{green3:a}),children:a?"".concat(t," has been accepted."):"Accept the incoming transfer of ".concat(t,".")}),Object(b.jsx)(ge.a,{validate:l,initialValues:o,onValues:j,children:function(){return Object(b.jsx)(u.h.Item,{full:!0,as:u.e,name:"noReset",label:"Retain proxies and key configuration, in case of transferring to self",disabled:s})}}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},c),{},{onReturn:function(){return e()}}))]})})})),Object(N.a)(Bs,de.CANCEL_TRANSFER,(function(){var e=Object(pe.b)().pop;return Object(b.jsx)(Bt,{pop:e,inset:!0,children:Object(b.jsx)(Uc,{})})})),Object(N.a)(Bs,de.INVITE_COHORT,(function(){var e=Object(pe.b)().pop,t=Object(g.b)().pointCursor,n=Q(t),a=Yr(n),c=a.acceptedInvites,s=a.acceptedPoints,o=a.pendingPoints,l=a.availableInvites,j=a.sentInvites,d=Object(r.useState)(!1),f=Object(i.a)(d,2),h=f[0],O=f[1],m=Object(r.useState)(Lc.ALL),p=Object(i.a)(m,2),v=p[0],x=p[1],w=s.getOrElse([]),y=o.getOrElse([]),N=y.length,k=w.length,S=l.map((function(e){return j.getOrElse(0)+e})).getOrElse(0),E=Object(r.useState)(),C=Object(i.a)(E,2),T=C[0],P=C[1];dr([].concat(Object(I.a)(w),Object(I.a)(y)));var R=Object(r.useCallback)((function(e){return P((function(t){return t===e?null:e}))}),[]);return Object(b.jsxs)(ve.a,{pop:e,inset:!0,children:[Object(b.jsx)(wr.a,{children:Object(b.jsx)(yc,{className:"mb1",routes:[{text:Me.patp(n),action:function(){return e()}},{text:"Invite Group"}]})}),Object(b.jsxs)(u.h,{gap:3,children:[Object(b.jsx)(u.h.Item,{full:!0,children:"Invite Group"}),Object(b.jsx)(u.h.Item,{full:!0,children:Object(b.jsxs)(u.g,{align:"center",children:[Object(b.jsxs)(u.g.Item,{children:[k," / ",S]}),0!==N&&Object(b.jsxs)(u.g.Item,{as:Kr,className:"bg-yellow4 white",children:[N," pending"]})]})}),Object(b.jsx)(u.h.Item,{full:!0,as:zr,available:l,sent:j,accepted:c}),0!==l.getOrElse(0)&&!h&&Object(b.jsx)(u.h.Item,{full:!0,solid:!0,center:!0,as:u.d,onClick:function(){return O(!0)},children:"Add Members"}),h&&Object(b.jsx)(Na,{}),Object(b.jsx)(u.h.Item,{full:!0,center:!0,as:ir,views:Mc,options:_c,currentTab:v,onTabChange:x,acceptedPoints:w,pendingPoints:y,onlyPending:v===Lc.PENDING,onSelectInvite:R}),T&&Object(b.jsx)(u.h.Item,{full:!0,center:!0,as:Fc,pending:!0,point:T,onBack:function(){return R(null)}})]})]})})),Object(N.a)(Bs,de.STAR_RELEASE,(function(){var e=Object(l.b)(),t=e.pop,n=e.push,a=e.names,c=Object(x.b)().wallet,s=Object(g.b)().setPointCursor,j=Object(r.useCallback)((function(e){s(Object(o.Just)(e)),n(a.POINT)}),[n,a,s]),d=Object(r.useState)(yr),f=Object(i.a)(d,2),h=f[0],O=f[1],m=Object(r.useCallback)((function(){O(yr)}),[O]),p=$(c);return Object(b.jsxs)(ve.a,{pop:t,inset:!0,children:[Object(b.jsx)(wr.a,{children:Object(b.jsx)(Gn,{className:"f6 mono gray4 us-none pointer",text:p,children:p})}),Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.i}),Object(b.jsx)(u.h.Item,{full:!0,as:ir,className:"mt1",views:Sr,options:Ir,currentTab:h,onTabChange:O,goPoint:j,goActive:m})]})]})})),Object(N.a)(Bs,de.ACCEPT_LOCKUP,(function(){var e=Object(pe.b)().pop,t=Object(v.b)().contracts,n=Object(x.b)().wallet,a=Pe(),c=q(t),s=$(n),i=function(){var e=Object(v.b)().contracts,t=Object(l.b)(),n=t.push,a=t.names,c=Pe(),s=q(e),i=On(Object(r.useCallback)((function(e){return"conditional"===c.lock?E.conditionalSR.transferCommitment(s,e):E.linearSR.transferBatch(s,e)}),[s,c]),Object(r.useCallback)((function(){return n(a.STAR_RELEASE)}),[n,a]),Le.g.TRANSFER_LOCKUP);return Object(h.a)({},i)}(),o=i.completed,j=i.bind,d=i.inputsLocked,f=i.construct,O=i.unconstruct,m=Object(r.useMemo)((function(){return a.from?{from:a.from}:{}}),[a]),p=Object(r.useMemo)((function(){return Object(H.memoize)(function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("------ looking up"),e.next=3,"conditional"===a.lock?E.conditionalSR.getCommitment(c,t):E.linearSR.getBatch(c,t);case 3:return n=e.sent,e.abrupt("return",n.approvedTransferTo);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[a,c]),g=Object(r.useMemo)((function(){return Object(ye.r)({from:function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(Ie.d)(t)){e.next=2;break}return e.abrupt("return","This is not a valid Ethereum address.");case 2:return e.next=4,p(t);case 4:if(n=e.sent,Object(Ie.c)(s,n)){e.next=7;break}return e.abrupt("return","Not permitted to take lockup from this address.");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),[s,p]),w=Object(r.useCallback)((function(e){var t=e.valid,n=e.values;e.form;t?f(n.from):O()}),[f,O]);return Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Accept Star Lockup"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.t,className:he()("f5 wrap",{green3:o}),children:o?"You have accepted the star lockup.":"Accept the incoming transfer of a star lockup."}),Object(b.jsx)(ge.a,{validate:g,initialValues:m,onValues:w,children:function(){return Object(b.jsx)(u.h.Item,{full:!0,as:Ge.a,name:"from",label:"Previous owner of the star lockup",disabled:d,className:"mv4"})}}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0,as:Zn},j),{},{onReturn:function(){return e()}}))]})})})),Object(N.a)(Bs,de.URBIT_OS,(function(){var e=Object(l.b)(),t=Wc(),n=Object(Da.a)({names:cs,views:ss,initialRoutes:[{key:cs.HOME}]}),a=n.Route,c=Object(d.a)(n,as),s=Object(r.useState)(),o=Object(i.a)(s,2),j=o[0],f=o[1];return Object(b.jsxs)(ve.a,{pop:function(){return c.peek().key===cs.HOME?e.pop():c.pop()},inset:!0,children:[Object(b.jsx)(wr.a,{children:Object(b.jsx)(yc,{routes:[{text:t,action:function(){return e.pop()}},{text:"Urbit OS"}]})}),Object(b.jsxs)(pe.a,{value:c,children:[Object(b.jsx)(u.h,{className:"mb4"}),Object(b.jsx)(a,{manualNetworkSeed:j,setManualNetworkSeed:f})]})]})})),Object(N.a)(Bs,de.URBIT_ID,(function(){var e=Object(l.b)(),t=Wc(),n=Object(Da.a)({names:Cs,views:Ts,initialRoutes:[{key:Cs.HOME}]}),r=n.Route,a=Object(d.a)(n,Es),c=a.peek().key,s=c===Cs.HOME?void 0:function(){return e.pop()},i=s?[{text:Ps(c)}]:[];return Object(b.jsxs)(ve.a,{pop:function(){return a.peek().key===Cs.HOME?e.pop():a.pop()},inset:!0,children:[Object(b.jsx)(wr.a,{children:Object(b.jsx)(yc,{routes:[{text:t,action:function(){return e.pop()}},{text:"Urbit ID",action:s}].concat(i)})}),Object(b.jsxs)(pe.a,{value:a,children:[Object(b.jsx)(u.h,{className:"mb4"}),Object(b.jsx)(r,{})]})]})})),Object(N.a)(Bs,de.RESIDENTS,(function(){var e=Object(pe.b)(),t=e.pop,n=e.push,a=e.names,c=Wc(),s=Object(g.b)().pointCursor,o=Q(s),l=ue(),j=l.getResidents,d=l.syncResidents,f=Object(r.useCallback)((function(){return t()}),[t]);Object(r.useEffect)((function(){d(o)}),[d,o]);var h=j(o),O=h.residents,m=h.requests,p=Object(r.useState)(As),v=Object(i.a)(p,2),x=v[0],w=v[1],y=Object(r.useState)(0),N=Object(i.a)(y,2),k=N[0],S=N[1],I=Object(r.useCallback)((function(e){S(0),w(e)}),[S,w]),E=Object(r.useMemo)((function(){return x===Rs}),[x]),C=Object(r.useCallback)((function(e){return n(a.ADOPT,{adoptee:e,denied:!1})}),[n,a]),T=E&&C,P=Object(r.useCallback)((function(e){return n(a.ADOPT,{adoptee:e,denied:!0})}),[n,a]),R=E&&P,A=E?m:O;return Object(b.jsxs)(ve.a,{pop:t,inset:!0,children:[Object(b.jsx)(wr.a,{children:Object(b.jsx)(yc,{routes:[{text:c,action:f},{text:"Residents"}]})}),Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:u.k,className:"mt4",children:"Residents"}),Object(b.jsx)(u.h.Item,{full:!0,className:"mt1",as:ir,views:Fs,options:Ds,currentTab:x,onTabChange:I,points:A,onAccept:T,onDecline:R,page:k,setPage:S})]})]})})),Object(N.a)(Bs,de.ADOPT,(function(){var e=Object(l.b)(),t=e.pop,n=e.data,a=n.adoptee,c=n.denied,s=Object(r.useMemo)((function(){return Me.patp(a)}),[a]),i=function(){var e=Object(v.b)().contracts,t=q(e),n=Object(g.b)().pointCursor,a=Q(n),c=ue().syncResidents;return On(Object(r.useCallback)((function(e,n){return n?E.ecliptic.reject(t,e):E.ecliptic.adopt(t,e)}),[t]),Object(r.useCallback)((function(){return c(a)}),[c,a]),Le.g.DEFAULT)}(),o=i.construct,j=i.bind,d=i.completed,f=Object(r.useMemo)((function(){return c?Object(b.jsxs)(b.Fragment,{children:[d?"Denied":"Denying"," adoption request to"," ",Object(b.jsx)("span",{className:"mono",children:s})]}):Object(b.jsxs)(b.Fragment,{children:[d?"Approved":"Approving"," adoption request to"," ",Object(b.jsx)("span",{className:"mono",children:s})]})}),[s,c,d]);return Object(r.useEffect)((function(){o(a,c)}),[o,a,c]),Object(b.jsx)(ve.a,{pop:function(){return t()},inset:!0,children:Object(b.jsxs)(u.h,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,className:"mb2",children:"Adopt"}),Object(b.jsx)(u.h.Item,{full:!0,className:"gray4 f5 mv2",children:f}),Object(b.jsx)(u.h.Item,Object(h.a)(Object(h.a)({full:!0},j),{},{as:Zn,onReturn:function(){return t()}}))]})})})),Object(N.a)(Bs,de.BITCOIN,(function(){var e=Object(pe.b)(),t=e.pop,n=e.push,a=e.names,c=Object(r.useCallback)((function(){return n(a.BITCOIN_XPUB)}),[n,a]),s=Object(r.useCallback)((function(){return n(a.BITCOIN_SIGN_TRANSACTION)}),[n,a]);return Object(b.jsxs)(ve.a,{pop:t,inset:!0,children:[Object(b.jsx)(u.h.Item,{full:!0,className:"mb4 f5",children:"Bitcoin"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsxs)(u.h,{className:"pt2",children:[Object(b.jsx)(u.h.Item,{full:!0,as:At.c,detail:"Xpub for Landscape wallet",onClick:c,children:"Xpub"}),Object(b.jsx)(u.h.Divider,{}),Object(b.jsx)(u.h.Item,{full:!0,as:At.c,className:"mt1",detail:"Sign transaction from Landscape",onClick:s,children:"Sign Transaction"})]})]})})),Object(N.a)(Bs,de.BITCOIN_XPUB,(function(){var e=Object(pe.b)().pop,t=Object(x.b)().urbitWallet,n=X(t).bitcoinMainnet.keys.xpub;return X(t).bitcoinTestnet.keys.xpub,Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{className:"mt4",children:[Object(b.jsx)(u.h.Item,{full:!0,as:Bt,children:"Bitcoin"}),Object(b.jsx)(u.h.Item,{full:!0,as:xe,children:"We do not recommend using this feature for significant amounts of money, since your private keys are exposed to the browser."}),Object(b.jsx)(u.h.Item,{full:!0,className:"mt4",as:u.t,children:"The public key derived from your master ticket."}),Object(b.jsx)(u.h.Item,{full:!0,className:"mt4",as:u.t,children:"Paste it into landscape while setting up your wallet."}),Object(b.jsx)(u.h.Item,{full:!0,className:"mt4",as:u.t,children:Object(b.jsx)(Fn,{children:Object(b.jsx)(Ws,{children:n})})})]})})})),Object(N.a)(Bs,de.BITCOIN_SIGN_TRANSACTION,(function(){var e=Object(pe.b)().pop,t=Object(x.b)().urbitWallet,n=Pe(),a=Object(r.useState)(""),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(r.useState)({}),j=Object(i.a)(l,2),d=j[0],f=j[1],h=X(t).bitcoinMainnet.keys.xprv,O=X(t).bitcoinTestnet.keys.xprv,m=Object(ye.r)({unsignedTransaction:Object(ye.n)()}),p={};return n&&Ce===n.kind&&(p.unsignedTransaction=n.utx),Object(b.jsx)(ve.a,{pop:e,inset:!0,children:Object(b.jsxs)(u.h,{className:"mt4",children:[Object(b.jsx)(u.h.Item,{full:!0,className:"mt4",as:u.t,children:"Paste unsigned transactions from Landscape here"}),Object(b.jsx)(ge.a,{validate:m,initialValues:p,onSubmit:function(e){var t=Us.Psbt.fromBase64(e.unsignedTransaction),n=t.data.inputs[0].bip32Derivation[0].path.startsWith("m/84'/1'/0'/"),r=n?"m/84'/1'/0'/":"m/84'/0'/0'/",a=n?Us.bip32.fromBase58(O,Vs):Us.bip32.fromBase58(h,Hs);try{var c=t.data.inputs.reduce((function(e,t,n){var c=t.bip32Derivation[0].path.split(r).join(""),s=a.derivePath(c).privateKey;return e.signInput(n,Us.ECPair.fromPrivateKey(s))}),t).finalizeAllInputs().extractTransaction().toHex();f(t),o(c)}catch(s){return{unsignedTransaction:"Cannot sign transaction, mismatching keys."}}},children:function(e){var t=e.handleSubmit;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,as:Ge.i,name:"unsignedTransaction",label:"Unsigned transaction",className:"mt4"}),Object(b.jsx)(u.h.Item,{full:!0,solid:!0,className:"mt2",accessory:"",handleSubmit:t,as:we.a,children:"Sign Transaction"})]})}}),s&&Object(b.jsx)(u.h.Item,{full:!0,className:"mt4",as:u.t,children:"Transaction outputs:"}),s&&d.txOutputs.map((function(e){return Object(b.jsxs)(u.h.Item,{full:!0,className:"mt4",children:[Object(b.jsx)("span",{children:e.address}),Object(b.jsxs)("div",{className:"mt1 mono black f6",children:[e.value," sats"]})]},e.address)})),s&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.h.Item,{full:!0,className:"mt4",as:Bt,children:"Signed transaction:"}),Object(b.jsx)(u.h.Item,{full:!0,as:u.t,children:Object(b.jsx)(Fn,{children:Object(b.jsx)(Ws,{children:s})})})]})]})})})),Bs),Ks=(n(1101),n(7)),Gs=n(8),Js=n(14),Ys=n(13),qs=function(e){Object(Js.a)(n,e);var t=Object(Ys.a)(n);function n(e){var r;return Object(Ks.a)(this,n),(r=t.call(this,e)).state={error:null},r}return Object(Gs.a)(n,[{key:"render",value:function(){return this.state.error?this.props.render(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(a.a.Component),Zs=function(e){return"Error Report: ".concat(e.message)},Xs=function(e){return"\n\n\x3c!-- Thanks for submitting this error! Can you help us identify the issue by providing additional context? --\x3e\n\n\n## Context\n\n\n\x3c!-- 1) What were you doing when you encountered this error? --\x3e\n\n\n\x3c!-- 2) If you're comfortable sharing (don't self-dox!), what Ethereum address were you logged in with? --\x3e\n\n\n## Error\n\n\n```\n".concat(e.stack,"\n```\n\n\nIn Bridge version ").concat(Se.d,".\n\n")};function $s(e){var t=e.error,n=Object(r.useMemo)((function(){return Ea()({user:"urbit",repo:"bridge",labels:["bug","error handling"],title:Zs(t),body:Xs(t)})}),[t]);return Object(b.jsxs)("div",{className:"mw1 ph4",children:[Object(b.jsxs)("h2",{className:"mt8",children:["Bridge Error!"," ",Object(b.jsx)("span",{role:"img","aria-label":"a bridge on fire",children:"\ud83c\udf09\ud83d\udd25"})]}),Object(b.jsxs)("p",{className:"mt4 f5",children:["We caught an error thrown by the Bridge application client-side code.",Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Your points and assets are most likely safe."})]}),Object(b.jsx)("p",{className:"mt4",children:"If you'd like to help us make Bridge better, you can submit the error and your description of events to our GitHub issue tracker."}),Object(b.jsx)(At.e,{href:n,solid:!0,children:"Submit the Issue on GitHub"}),Object(b.jsx)("pre",{className:"bg-gray1 mt4 p4 mono scroll-x",children:t.stack}),Object(b.jsx)("p",{className:"mt4",children:"You can reload Bridge and retry the operation that caused an error. If the error persists, please submit a bug report and we'll work with you to resolve it!"}),Object(b.jsx)(At.f,{onClick:function(){return document.location.reload()},solid:!0,success:!0,children:"Reload Bridge"})]})}var Qs=Se.c?nn.a.ROPSTEN:Se.a&&!Se.b?nn.a.LOCAL:nn.a.MAINNET,ei="true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_ENDPOINT:"2599df54929b47099bda360958d75aaf"}).REACT_APP_STUB_LOCAL,ti=Se.a&&ei,ni=ti?Object(Fe.c)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_ENDPOINT:"2599df54929b47099bda360958d75aaf"}).REACT_APP_DEV_MNEMONIC,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_ENDPOINT:"2599df54929b47099bda360958d75aaf"}).REACT_APP_HD_PATH):void 0,ri=ti?Object(o.Just)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_ENDPOINT:"2599df54929b47099bda360958d75aaf"}).REACT_APP_DEV_MNEMONIC):Object(o.Nothing)(),ai=ti?Object(o.Just)(65792):Object(o.Nothing)();var ci=function(){var e=function(){var e=me(),t=Object(i.a)(e,1)[0],n=!!Ya(),r="/activate"===window.location.pathname;return ti?[{key:de.LOGIN},{key:de.POINTS},{key:de.POINT}]:n||r?[{key:de.ACTIVATE}]:t?[{key:de.LOGIN}]:[{key:de.DISCLAIMER,data:{next:de.LOGIN}}]}();return Object(r.useEffect)((function(){window.ethereum&&window.ethereum.on("chainChanged",(function(){document.location.reload()}))}),[]),Object(b.jsx)(qs,{render:function(e){return Object(b.jsx)($s,{error:e})},children:Object(b.jsx)(je,{views:zs,names:de,initialRoutes:e,initialNetworkType:Qs,initialWallet:ni,initialMnemonic:ri,initialPointCursor:ai,children:Object(b.jsx)(u.o,{children:Object(b.jsx)(j,{})})})})};s.a.render(Object(b.jsx)(ci,{}),document.getElementById("root"))},113:function(e,t,n){"use strict";var r=n(6),a=(n(2),n(249)),c=n(0),s=Object(a.a)(),i=s.Source;i.Target=function(e){return Object(c.jsx)(s.Target,Object(r.a)({as:"footer"},e))},t.a=i},114:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(3),a=n.n(r),c=n(19),s=n(11),i=n(85),o=n(132),u=n(20),l=n(117),b=n(155),j=["walletType"],d="Bridge Authentication Token";var f=function(e){var t=e.address,n=e.web3;return window.ethereum?window.ethereum.request({method:"personal_sign",params:[d,t],from:t}):n.eth.personal.sign(d,t,"")},h=function(e){var t=e.walletHdPath;return Object(l.e)(d,t)},O=function(e){var t=e.walletHdPath;return Object(b.b)(d,t)},m=function(e){var t=e.address;return e.connector.signPersonalMessage([d,t])},p=function(t){var n=function(t){var n="\x19Ethereum Signed Message:\n"+d.length+d,r=i.crypto.sha256(e.from(n)),a=Object(o.ecdsaSign)(e.from(r),t).signature,c=new Uint8Array(65);c.set(a);var s=27+(1&c[32]);return c[64]=s,c}(t.wallet.privateKey);return"0x".concat(e.from(n).toString("hex"))},v=function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.walletType,r=Object(c.a)(t,j),e.t0=n,e.next=e.t0===u.r.METAMASK?4:e.t0===u.r.LEDGER?5:e.t0===u.r.TREZOR?6:e.t0===u.r.WALLET_CONNECT?7:8;break;case 4:return e.abrupt("return",f(r));case 5:return e.abrupt("return",h(r));case 6:return e.abrupt("return",O(r));case 7:return e.abrupt("return",m(r));case 8:return e.abrupt("return",p(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(12).Buffer)},117:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return h}));var r=n(3),a=n.n(r),c=n(11),s=n(207),i=n(208),o=n(4),u=n.n(o),l="m/44'/60'/0'/x",b="m/44'/60'/x'/0/0",j=function(e){return"m/"===e.slice(0,2)?e.slice(2):e},d=function(e){return"m/"===e.slice(0,2)?e:"m/"+e},f=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.create();case 2:return r=e.sent,c=new i.a(r),o=j(n),l=t.serialize().toString("hex"),e.next=8,c.signTransaction(o,l);case 8:return b=e.sent,t.v=new u.a(b.v,"hex"),t.r=new u.a(b.r,"hex"),t.s=new u.a(b.s,"hex"),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,o,u,l,b,d,f,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.create();case 2:return c=t.sent,o=new i.a(c),u=j(r),t.next=7,o.signPersonalMessage(u,e.from(n).toString("hex"));case 7:return l=t.sent,b=l.r,d=l.s,f=l.v,(h=new Uint8Array(65)).set(e.from(b,"hex")),h.set(e.from(d,"hex"),32),h[64]=f,t.abrupt("return","0x".concat(e.from(h).toString("hex")));case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(12).Buffer)},123:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return g}));var r=n(3),a=n.n(r),c=n(11),s=n(33),i=n.n(s),o=n(115),u=n.n(o),l=n(540),b=n(42),j=n(173),d=n(20),f=d.p/8,h=function(e){return e<d.l?d.f:e<d.k?d.q:d.n},O=function(t){var n=h(t),r=n/8,a=new Uint8Array(r);window.crypto.getRandomValues(a);var c=new l.Generator;return new Promise((function(t,s){c.generate(n,(function(n){var c=Object(b.chunk)(n,2).slice(0,r),o=Object(b.flatMap)(c,(function(e){return e[0]^e[1]})),u=Object(b.zipWith)(a,o,(function(e,t){return e^t})),l=e.from(u),j=i.a.hex2patq(l.toString("hex"));t(j),s("Entropy generation failed")}))}))},m=function(t,n){var r=h(t)/8,a=e.concat([e.from(t.toString()),e.from("invites")]),c=Object(j.b)(e.from(n,"hex"),a).slice(0,r);return i.a.hex2patq(c.toString("hex"))},p=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={ticket:n,seedSize:f,ship:t,password:"",revisions:{},boot:r},console.log("Generating Wallet for point address: ",t),e.next=4,u.a.generateWallet(c);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(e,t){return u.a.generateOwnershipWallet({ship:e,ticket:t})},x=function(e){return v(d.s,e)},g=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m(t,n),e.next=3,v(d.s,r);case 3:return c=e.sent,e.abrupt("return",{ticket:r,owner:c});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}).call(this,n(12).Buffer)},124:function(e,t,n){var r=n(506).BigInteger;function a(){this._mug=0}function c(e){return Math.imul(e,16777619)}function s(e){return e>>>31^2147483647&e}function i(e,t){var n=s(c(e^c(t)));return 0!==n?n:i(e,++t)}function o(e,t){a.call(this),this.head=e,this.tail=t}function u(e){a.call(this),this.number=e}a.prototype.loob=function(){throw new Error("Bail")},a.prototype.toString=function(){var e=[];return this.pretty(e,!1),e.join("")},a.prototype.mug=function(){return 0===this._mug&&(this._mug=this.calculateMug()),this._mug},a.prototype.mugged=function(){return 0!==this._mug},a.prototype.deep=!1,a.prototype.bump=function(){throw new Error("Bail")},a.prototype.equals=function(e){return this===e||(this instanceof o?e instanceof o&&this.unify(e):!(e instanceof o)&&(0===this.number.compareTo(e.number)&&(e.number=this.number,!0)))},o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.prototype.deep=!0,o.prototype.pretty=function(e,t){t||e.push("["),this.head.pretty(e,!1),e.push(" "),this.tail.pretty(e,!0),t||e.push("]")},o.prototype.calculateMug=function(){return i(this.head.mug(),this.tail.mug())},o.prototype.unify=function(e){if(this===e)return!0;if(e.mugged()){if(!this.mugged())return e.unify(this);if(this.mug()!==e.mug())return!1}return!(!this.head.equals(e.head)||(e.head=this.head,!this.tail.equals(e.tail)))&&(e._mug=this._mug,e.tail=this.tail,!0)},u.prototype=Object.create(a.prototype),u.prototype.constructor=u;var l=new Array(256);!function(){var e,t;for(e=0;e<256;++e)(t=new r).fromInt(e),l[e]=new u(t)}();var b={0:function(e){throw new Error("Bail")},1:function(e){return e}},j=l[1];a.fragmenter=function(e){var t=e.shortCode();if(b.hasOwnProperty(t))return b[t];for(var n=["a"];!j.equals(e);e=e.mas())n.push(2===e.cap().valueOf()?"head":"tail");return b[t]=function(e){return n.join(".")}},a.prototype.at=function(e){return a.fragmenter(e)(this)};var d=new r;d.fromInt(65536),u.prototype.bytes=function(){for(var e=this.number.toByteArray(),t=[],n=e.length-1;n>=0;--n)t.push(255&e[n]);return t},u.cordToString=function(e){for(var t=e.bytes(),n=[],r=0;r<t.length;++r)n.push(String.fromCharCode(t[r]));return n.join("")},u.prototype.pretty=function(e,t){if(this.number.compareTo(d)<0)return e.push(this.number.toString(10));for(var n=[],r=!0,a=!0,c=this.number.toByteArray(),s=c.length-1;s>=0;--s){var i=c[s];if(r&&(i<32||i>127)){r=!1,a=!1;break}a&&!(i>47&&i<58||i>96&&i<123||45===i)&&(a=!1),n.push(String.fromCharCode(i))}a?(e.push("%"),e.push.apply(e,n)):r?(e.push("'"),e.push.apply(e,n),e.push("'")):(e.push("0x"),e.push(this.number.toString(16)))},u.prototype.loob=function(){switch(this.number.intValue()){case 0:return!0;case 1:return!1;default:throw new Error("Bail")}},u.prototype.bump=function(){return new u(this.number.add(r.ONE))};var f=m(1),h=m(2),O=m(3);function m(e){if(e<256)return l[e];var t=new r;return t.fromInt(e),new u(t)}function p(e){var t,n,a=new Array(e.length);for(t=0,n=a.length-1;t<a.length;++t,--n)a[n]=(255&e.charCodeAt(t)).toString(16);return new u(new r(a.join(""),16))}u.prototype.cap=function(){switch(this.number.intValue()){case 0:case 1:throw new Error("Bail");default:return this.number.testBit(this.number.bitLength()-2)?O:h}},u.prototype.mas=function(){switch(this.number.intValue()){case 0:case 1:throw new Error("Bail");case 2:case 3:return f;default:var e=this.number,t=e.bitLength()-2,n=new r;n.fromInt(1<<t);var a=new r;return a.fromInt((1<<t)-1),new u(e.and(a).xor(n))}},u.prototype.calculateMug=function(){var e,t,n,r,a,i,o=this.number.toByteArray();for(r=o.length-1,e=-2128831035;;++e){for(t=e,i=0===o[0]?1:0,n=r;n>=i;--n)t=c(t^255&o[n]);if(0!==(a=s(t)))return a}},u.prototype.shortCode=function(){return this.number.toString(36)},u.prototype.valueOf=function(){return this.number.bitLength()<=32?this.number.intValue():this.number.toString()},e.exports={dwim:function e(t){var n=1===arguments.length?t:Array.apply(null,arguments);if(n instanceof a)return n;if("number"===typeof n)return m(n);if(Array.isArray(n)){for(var r=new o(e(n[n.length-2]),e(n[n.length-1])),c=n.length-3;c>=0;--c)r=new o(e(n[c]),r);return r}return"string"===typeof n?p(n):void 0},Noun:a,Cell:o,Atom:{Atom:u,yes:m(0),no:m(1),fromMote:p,fromInt:m,fromString:function(e,t){return new u(new r(e,t))}}}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(19),c=n(323),s=["patp","size","colors"];function i(e){var t=e.patp,n=e.size,i=e.colors,o=Object(a.a)(e,s);return Object(c.sigil)(Object(r.a)({patp:t,renderer:c.reactRenderer,style:{width:"100%",height:"100%"},size:n,margin:!0,colors:i},o))}},155:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return j}));var r=n(3),a=n.n(r),c=n(11),s=n(176),i=n.n(s),o=n(52),u=n(4),l=n.n(u),b="m/44'/60'/0'/0/x",j=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={to:t.to.toString("hex"),value:t.value.toString("hex"),data:t.data.toString("hex"),gasLimit:t.gasLimit.toString("hex"),gasPrice:t.gasPrice.toString("hex"),nonce:0===t.nonce.length?"00":t.nonce.toString("hex"),chainId:(a=t.common.chainId(),"number"===typeof a?a:Object(o.a)(a.slice(2),16))},e.next=3,i.a.ethereumSignTransaction({path:n,transaction:r});case 3:if((c=e.sent).success){e.next=6;break}throw new Error(c.payload.error);case 6:return s=c.payload,t.v=new l.a(s.v.slice(2),"hex"),t.r=new l.a(s.r.slice(2),"hex"),t.s=new l.a(s.s.slice(2),"hex"),e.abrupt("return",t);case 11:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.ethereumSignMessage({path:n,message:t});case 2:if((r=e.sent).success){e.next=5;break}throw new Error(r.payload.error);case 5:return c=r.payload.signature,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(6),a=n(19),c=(n(2),n(33)),s=n.n(c),i=n(133),o=n(0);function u(e){var t=e.aspectRatio,n=void 0===t?1:t,r=e.children,a="".concat(1/n*100,"%");return Object(o.jsx)("div",{className:"rel",style:{paddingTop:a},children:Object(o.jsx)("div",{className:"abs",style:{top:0,bottom:0,left:0,right:0},children:r})})}var l=["className","patp","size"];function b(e){e.className;var t=e.patp,n=e.size,c=Object(a.a)(e,l),b=t.matchWith({Nothing:function(){return null},Just:function(e){return s.a.isValidPatp(e.value)&&e.value.length<15?e.value:null}});return b?Object(o.jsx)(i.a,Object(r.a)({patp:b,size:n},c)):Object(o.jsx)(u,{aspectRatio:1})}},173:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));var r=n(33),a=n(70),c=n(319),s=n.n(c);function i(t){var n=s.a.sha256.array(t);return e.from(n)}function o(t){return e.from(t,"hex").reverse()}function u(e,t){return i(l(t,i(e)))}function l(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw console.log("a",t),console.log("b",n),new Error("only xor buffers!");for(var r=Math.max(t.byteLength,n.byteLength),a=new Uint8Array(r),c=0;c<r;c++)a[c]=t[c]^n[c];return a}var b=function(t){var n,c=o(Object(a.e)(t)),s=o("73736170"),b=function(e,t){var n=u(e,t),r=n.length/2;return l(n.slice(0,r),n.slice(r,n.length))}(i(c),s),j=b.slice(0,b.length/2);return Object(r.hex2patp)((n=j,e.from(n).reverse().toString("hex"))).slice(1)}}).call(this,n(12).Buffer)},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return h})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return i})),n.d(t,"l",(function(){return o})),n.d(t,"k",(function(){return u})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return b})),n.d(t,"q",(function(){return j})),n.d(t,"f",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return l})),n.d(t,"o",(function(){return O}));var r=n(62).a?1e3:1e4,a=40,c=400,s=0,i=255,o=256,u=65536,l=s,b=64,j=128,d=384,f=128,h={SPAWN:25e4,TRANSFER:56e4,CONFIGURE_KEYS:1e5,SET_PROXY:15e4,ESCAPE:115e3,ADOPT:1e5,CANCEL_ESCAPE:2e5,REJECT:2e5,DETACH:2e5,GIFT_PLANET:45e4,TRANSFER_LOCKUP:7e5,SEND_ETH:21e3,DEFAULT:55e4},O=(Symbol("ENY_NOSTART"),Symbol("ENY_PENDING"),Symbol("ENY_SUCCESS"),Symbol("ENY_FAILURE"),Symbol("DERIVATION_NOSTART"),Symbol("DERIVATION_PENDING"),Symbol("DERIVATION_SUCCESS"),Symbol("DERIVATION_FAILURE"),Symbol("PAPER_NOSTART"),Symbol("PAPER_PENDING"),Symbol("PAPER_SUCCESS"),Symbol("PAPER_FAILURE"),Symbol("NOSTART"),Symbol("SUCCESS"),Symbol("ERROR"),Symbol("PENDING"),Symbol("NOSTART"),Symbol("UPLOAD_SUCCESS"),Symbol("UPLOAD_ERROR"),Symbol("INPUT_SUCCESS"),Symbol("INPUT_ERROR"),500),m="m/44'/60'/0'/0/0",p="0x0000000000000000000000000000000000000000",v="0x0",x={MNEMONIC:Symbol("MNEMONIC"),TICKET:Symbol("TICKET"),SHARDS:Symbol("SHARDS"),LEDGER:Symbol("LEDGER"),TREZOR:Symbol("TREZOR"),PRIVATE_KEY:Symbol("PRIVATE_KEY"),KEYSTORE:Symbol("KEYSTORE"),METAMASK:Symbol("METAMASK"),WALLET_CONNECT:Symbol("WALLET_CONNECT")},g=new Set([x.METAMASK,x.TREZOR,x.LEDGER,x.WALLET_CONNECT])},22:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"s",(function(){return j})),n.d(t,"k",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"l",(function(){return x})),n.d(t,"o",(function(){return g})),n.d(t,"g",(function(){return w})),n.d(t,"m",(function(){return y})),n.d(t,"q",(function(){return N})),n.d(t,"a",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"e",(function(){return I})),n.d(t,"n",(function(){return E})),n.d(t,"r",(function(){return C}));var r=n(18),a=n(6),c=n(34),s=n(116),i=n(42),o=n(46),u=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return function(n){var r,a=Object(s.a)(e);try{for(a.s();!(r=a.n()).done;){var c=r.value;try{var i=c(n);if(i)return i}catch(i){return console.error(i),i.message}}}catch(o){a.e(o)}finally{a.f()}if(t)return t(n)}},b=function(e){return function(t){var n=t.map(e);return Object(i.some)(n,u)?Promise.all(n):n}},j=function e(t){return Object(i.some)(t,(function(t){return Array.isArray(t)?e(t):void 0!==t}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l([o.o,o.r].concat(Object(c.a)(e)))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l([o.u].concat(Object(c.a)(e)))},h=function(){return l([o.o])},O=function(){return l([o.o,o.n])},m=function(e){return l([Object(o.q)(void 0!==e?[e]:[!0,!1])])},p=function(){return l([])},v=function(){return l([o.f])},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return l([o.o,Object(o.l)(e),o.s].concat(Object(c.a)(t)))},g=function(e){return l([Object(o.q)(e.map((function(e){return e.value})))])},w=function(e){return l([o.o,o.h,o.i,Object(o.g)(e)])},y=function(){return l([o.o,o.i,Object(o.j)(64)])},N=function(){return l([o.o])},k=function(){return l([o.o,o.h,o.i,Object(o.g)(40),o.p,o.c])},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[Object(o.e)(e)];return null!==t&&n.push(Object(o.k)(t)),l(n)},I=function(e){return l([o.o,o.b],e)},E=function(e){return l([o.t])},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return t},n=Object.keys(e),c=n.map((function(t){return function(n){return e[t](n)}})),s=function(e){var t=n.map((function(t,n){return c[n](e[t])})),s=function(e){return n.reduce((function(t,n,c){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},n,e[c]))}),{})};return Object(i.some)(t,u)?Promise.all(t).then(s):s(t)};return function(e){var n=s(e),r=function(n){return t(e,n)};return u(n)?n.then(r):r(n)}}},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return g}));n(6);var r=n(3),a=n.n(r),c=n(11),s=n(10),i=n(2),o=n(9),u=n(17),l=n(180),b=n.n(l),j={DEV:{azimuth:"0x863d9c2e5c4c133596cfac29d55255f0d0f86381",delegatedSending:"0xb71c0b6cee1bcae56dfe95cd9d3e41ddd7eafc43",linearSR:"0x03C3dC12BE658158D1d7F9e66E08ec4099c568e4",conditionalSR:"0x35EB3B102d9C1B69Ac1469C1B1FE1799850CD3EB"},ROPSTEN:{azimuth:"0x308ab6a6024cf198b57e008d0ac9ad0219886579",delegatedSending:"0x3e8ca510354bc2fdbbd6150252d93105c9c27bbe",linearSR:"0x1f8edd031ee414740aedb39b84fb8f2f66ca422f",conditionalSR:"0x1f8edd031ee414740aedb39b84fb8f2f66ca422f"},MAINNET:{azimuth:"0x223c067f8cf28ae173ee5cafea60ca44c335fecb",delegatedSending:"0xF7908Ab1F1e352F83c5ebc75051c0565AEaea5FB",linearSR:"0x86cd9cd0992f04231751e3761de45cecea5d1801",conditionalSR:"0x8c241098c3d3498fe1261421633fd57986d74aea"}},d=n(63),f=n(62),h=n(1),O=n(43),m=n(57),p=n(0);var v=Object(i.createContext)(null);function x(e){var t=e.initialNetworkType,n=e.children,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(i.useState)(e),n=Object(s.a)(t,2),r=n[0],l=n[1],h=Object(i.useState)(!1),O=Object(s.a)(h,2),m=O[0],p=O[1],v=Object(i.useState)(Object(o.Nothing)()),x=Object(s.a)(v,2),g=x[0],w=x[1],y=Object(i.useState)(Object(o.Nothing)()),N=Object(s.a)(y,2),k=N[0],S=N[1];return Object(i.useEffect)((function(){Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum)try{p(!0),l(Object(d.b)(window.ethereum.chainId))}catch(t){console.log("Metamask denied")}case 1:case"end":return e.stop()}}),e)})))()}),[]),Object(i.useEffect)((function(){Object(c.a)(a.a.mark((function e(){var t,n,s,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m?window.ethereum:t,c=new b.a(r),e.next=4,u.initContractsPartial(c,n.azimuth);case 4:return s=e.sent,s=u.contracts.newLinearStarRelease(s,c,n.linearSR),s=u.contracts.newConditionalStarRelease(s,c,n.conditionalSR),s=u.contracts.newDelegatedSending(s,c,n.delegatedSending),w(Object(o.Just)(c)),S(Object(o.Just)(s)),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.t0=r,e.next=e.t0===d.a.LOCAL?4:e.t0===d.a.ROPSTEN?8:e.t0===d.a.MAINNET?11:(e.t0,d.a.OFFLINE,14);break;case 4:return n=f.a?"ws":"wss",s="".concat(n,"://").concat(document.location.hostname,":8545"),t(new b.a.providers.WebsocketProvider(s),j.DEV),e.abrupt("return");case 8:return i="https://ropsten.infura.io/v3/".concat("2599df54929b47099bda360958d75aaf"),t(new b.a.providers.HttpProvider(i),j.ROPSTEN),e.abrupt("return");case 11:return l="https://mainnet.infura.io/v3/".concat("2599df54929b47099bda360958d75aaf"),t(new b.a.providers.HttpProvider(l),j.MAINNET),e.abrupt("return");case 14:return t(new b.a.providers.HttpProvider("http://example.com:3456"),f.a?j.DEV:j.MAINNET),w(Object(o.Nothing)()),e.abrupt("return");case 17:case"end":return e.stop()}}),e)})))()}),[r,m]),{networkType:r,setNetworkType:l,web3:g,contracts:k}}(t);return o.Just.hasInstance(r.contracts)?Object(p.jsx)(v.Provider,{value:r,children:n}):Object(p.jsx)(O.a,{inset:!0,children:Object(p.jsx)(h.h,{children:Object(p.jsxs)(h.h.Item,{full:!0,className:"mt8 t-center",children:[Object(p.jsx)(m.b,{})," Connecting..."]})})})}function g(){return Object(i.useContext)(v)}},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));n(6);var r=n(10),a=n(2),c=n(9),s=n(0),i=Object(a.createContext)(null);function o(e){var t=e.initialPointCursor,n=e.children,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.Nothing)(),t=Object(a.useState)(e),n=Object(r.a)(t,2),s=n[0],i=n[1];return{pointCursor:s,setPointCursor:i}}(t);return Object(s.jsx)(i.Provider,{value:o,children:n})}function u(){return Object(a.useContext)(i)}},250:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e){return[e.getFullYear(),"".concat(e.getMonth()+1).padStart(2,0),"".concat(e.getDate()).padStart(2,0)].join(".")},a=function(e){return"".concat(r(e)," ").concat(function(e){return e.toLocaleTimeString()}(e))}},253:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(3),a=n.n(r),c=n(11),s=n(31),i=n(58);function o(e){this.address=e}var u=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.from=n,e.abrupt("return",Object(i.a)(t,l));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={data:t.data,gasLimit:t.gasLimit,gasPrice:t.gasPrice,nonce:t.nonce,to:Object(s.toHex)(t.to),from:Object(s.toHex)(t.from)},!window.ethereum){e.next=7;break}return e.next=4,window.ethereum.request({method:"eth_sendTransaction",params:[r],from:t.from});case 4:c=e.sent,e.next=11;break;case 7:return e.next=9,n.eth.sendTransaction(r);case 9:i=e.sent,c=i.transactionHash;case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(2),a=n(10);function c(e,t,n){var c=Object(r.useMemo)((function(){return t.reverse()}),[t]),s=Object(r.useMemo)((function(){return e.reverse().map((function(e){return window.matchMedia(e)}))}),[e]),i=Object(r.useCallback)((function(){var e=s.findIndex((function(e){return e.matches}));return"undefined"!==typeof c[e]?c[e]:n}),[s,c,n]),o=Object(r.useState)(i),u=Object(a.a)(o,2),l=u[0],b=u[1];return Object(r.useEffect)((function(){var e=function(){return b(i)};return s.forEach((function(t){return t.addListener(e)})),function(){return s.forEach((function(t){return t.removeListener(e)}))}}),[s,i]),l}var s=n(0),i=["(min-width: 550px)","(min-width: 750px)","(min-width: 960px)"],o=Object(r.createContext)(null),u=function(e){var t=e.children;return Object(s.jsx)(o.Provider,{value:c(i,[0,1,2],0),children:t})};function l(){return Object(r.useContext)(o)}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(2),a=Object(r.createContext)(null),c=a.Provider;function s(){return Object(r.useContext)(a)}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));n(6);var r=n(3),a=n.n(r),c=n(11),s=n(10),i=n(2),o=n(9),u=n(42),l=n(81),b=n(20),j=n(114),d=n(92),f=n(23),h=n(36),O=n(0),m=Object(i.createContext)(null),p=b.r.TICKET;function v(e){var t=e.initialWallet,n=e.initialMnemonic,r=e.children,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.Nothing)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(o.Nothing)(),n=Object(i.useState)((function(){return t.matchWith({Nothing:function(){return p},Just:function(){return b.r.MNEMONIC}})})),r=Object(s.a)(n,2),O=r[0],m=r[1],v=Object(i.useState)(b.c),x=Object(s.a)(v,2),g=x[0],w=x[1],y=Object(i.useState)(e),N=Object(s.a)(y,2),k=N[0],S=N[1],I=Object(i.useState)(Object(o.Nothing)()),E=Object(s.a)(I,2),C=E[0],T=E[1],P=Object(i.useState)(t),R=Object(s.a)(P,2),A=R[0],D=R[1],F=Object(i.useState)(Object(o.Nothing)()),L=Object(s.a)(F,2),M=L[0],_=L[1],W=Object(i.useState)(Object(o.Nothing)()),B=Object(s.a)(W,2),U=B[0],H=B[1],V=Object(i.useState)(Object(o.Nothing)()),z=Object(s.a)(V,2),K=z[0],G=z[1],J=Object(f.b)().web3;Object(i.useEffect)((function(){Object(c.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.Just.hasInstance(k)&&o.Just.hasInstance(J)&&!b.m.has(O)){e.next=2;break}return e.abrupt("return");case 2:return t=k.value,n=J.value,e.next=6,Object(j.a)({wallet:t,walletType:O,walletHdPath:g,web3:n});case 6:r=e.sent,G(Object(o.Just)(r));case 8:case"end":return e.stop()}}),e)})))()}),[k,O,g,J]);var Y=Object(i.useCallback)((function(e){if(!Object(u.includes)(b.r,e))throw new Error(d.a.INVALID_WALLET_TYPE);m(e)}),[m]),q=Object(i.useCallback)((function(e){e.map((function(e){return e.address=e.address||Object(h.f)(e.publicKey),e})),S(e)}),[S]),Z=Object(i.useCallback)((function(e){if(o.Just.hasInstance(e)){var t=Object(l.c)(e.value.ownership.seed,b.c,e.value.meta.passphrase);q(t)}else q(Object(o.Nothing)());T(e)}),[q]),X=Object(i.useCallback)((function(){m(p),w(b.c),S(Object(o.Nothing)()),T(Object(o.Nothing)()),D(Object(o.Nothing)()),_(Object(o.Nothing)()),H(Object(o.Nothing)())}),[m,w,S,T,D,_,H]);return{walletType:O,setWalletType:Y,walletHdPath:g,setWalletHdPath:w,wallet:k,setWallet:q,urbitWallet:C,setUrbitWallet:Z,authMnemonic:A,setAuthMnemonic:D,networkSeed:M,setNetworkSeed:_,networkRevision:U,setNetworkRevision:H,resetWallet:X,authToken:K,setAuthToken:G}}(t,n);return Object(O.jsx)(m.Provider,{value:v,children:r})}function x(){return Object(i.useContext)(m)}},29:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"a",(function(){return m}));var r=n(6),a=n(19),c=(n(2),n(1)),s=n(175),i=n(57),o=n(0),u=["loading"],l=["loading"],b=["loading"],j=function(e){var t=e.loading,n=Object(a.a)(e,u);return Object(o.jsx)(c.d,Object(r.a)({accessory:Object(i.a)(t,"->")},n))},d=function(e){var t=e.loading,n=Object(a.a)(e,l);return Object(o.jsx)(c.d,Object(r.a)({accessory:Object(i.a)(t,"\u2193")},n))},f=function(e){return Object(o.jsx)(c.d,Object(r.a)({accessory:"\u21ba"},e))},h=function(e){var t=e.loading,n=Object(a.a)(e,b);return Object(o.jsx)(c.d,Object(r.a)({accessory:Object(i.a)(t,"\u25cb"),solid:!0},n))},O=function(e){return Object(o.jsx)(c.d,Object(r.a)({as:"a",target:"_blank",accessory:"\u2197"},e))},m=function(e){return Object(o.jsx)(c.d,Object(r.a)({accessory:Object(o.jsx)(s.a,{icon:"Copy",size:"18px",color:"black"})},e))}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(6),a=n(3),c=n.n(a),s=n(11),i=n(19),o=n(2),u=n(50),l=n(522),b=n(42);function j(e){var t=e.valid,n=e.validating,r=e.values,a=e.onValues,c=Object(u.c)(),s=c.isValidationPaused();return Object(o.useEffect)((function(){n||s||a&&a({valid:t,values:r,form:c})}),[c,a,t,n,s,r]),null}function d(){var e=Object(u.c)();return Object(o.useEffect)((function(){return function(){return e.pauseValidation()}}),[e]),null}var f=n(0),h=["children","onValues","onSubmit","afterSubmit"];function O(e){var t=e.children,n=e.onValues,a=e.onSubmit,O=void 0===a?b.noop:a,m=e.afterSubmit,p=void 0===m?b.noop:m,v=Object(i.a)(e,h),x=Object(o.useCallback)(Object(s.a)(c.a.mark((function e(){var t,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.apply(void 0,n);case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:p();case 6:case"end":return e.stop()}}),e)}))),[p,O]);return Object(f.jsx)(u.a,Object(r.a)(Object(r.a)({mutators:Object(r.a)({},l.a),onSubmit:x},v),{},{children:function(e){return Object(f.jsxs)("form",{style:{display:"contents"},onSubmit:e.handleSubmit,children:[Object(f.jsx)(d,{}),t(e),n&&Object(f.jsx)(j,Object(r.a)(Object(r.a)({},e),{},{onValues:n}))]})}}))}},36:function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return f}));var r=n(42),a=n(31),c=n(201),s=n(20),i=function(e){return e.startsWith("0x")?e.slice(2):e},o=function(e){return e.startsWith("0x")?e:"0x".concat(e)},u=function(e){return"0x0"===e||Object(a.isAddress)(e)},l=function(e){return"".concat(e.slice(0,6),"\u2026").concat(e.slice(-4))},b=function(e){return e===s.d||e===s.e},j=function(e){var t=i(e).toLowerCase(),n=Object(a.keccak256)(t).toString("hex");return Object(r.reduce)(t,(function(e,t,r){return parseInt(n[r],16)>=8?e+t.toUpperCase():e+t}),"0x")},d=function(e,t){return j(e)===j(t)},f=function(t){return"0x"+Object(c.pubToAddress)(e.from(t),!0).toString("hex")}}).call(this,n(12).Buffer)},39:function(e,t,n){"use strict";n.d(t,"j",(function(){return g})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return E})),n.d(t,"a",(function(){return C})),n.d(t,"e",(function(){return T}));var r=n(6),a=n(19),c=n(2),s=n(1),i=n(50),o=n(88),u=n(20),l=n(10),b=n(9),j=n(157),d=n(0),f=["className","patp","size","valid","error","active"],h=function(e,t,n){return e?["#2AA779","#FFFFFF"]:n?["#4330FC","#FFFFFF"]:t?["#F8C134","#FFFFFF"]:["#7F7F7F","#FFFFFF"]};function O(e){e.className;var t=e.patp,n=e.size,s=e.valid,i=e.error,o=e.active,u=Object(a.a)(e,f),O=Object(c.useState)(t),m=Object(l.a)(O,2),p=m[0],v=m[1];return Object(c.useEffect)((function(){s&&v(t)}),[t,s]),Object(d.jsx)(j.a,Object(r.a)({patp:Object(b.Just)(p),size:n,colors:h(s,i,o)},u))}var m=["name","hidden"],p=["name","size"],v=u.c,x=Object(o.a)([o.c,o.e]);function g(e){var t=e.name,n=e.hidden,c=Object(a.a)(e,m),o=Object(i.b)(t,{subscription:{valid:!0,error:!0,validating:!0,touched:!0,active:!0}}).meta,u=o.valid,l=o.error,b=o.validating,j=o.touched,f=o.active;return Object(d.jsx)(s.p,Object(r.a)({type:n?"password":"text",name:t,obscure:function(e){return e.replace(/[^~-]+/g,"\u2022\u2022\u2022\u2022\u2022\u2022")},placeholder:n?"\u2022\u2022\u2022\u2022\u2022\u2022-\u2022\u2022\u2022\u2022\u2022\u2022-\u2022\u2022\u2022\u2022\u2022\u2022-\u2022\u2022\u2022\u2022\u2022\u2022":"~sampel-ticlyt-migfun-falmel",autoCapitalize:"none",autoCorrect:"off",accessory:j&&!f&&l?Object(d.jsx)(s.a.Failure,{}):b?Object(d.jsx)(s.a.Pending,{}):u?Object(d.jsx)(s.a.Success,{}):null,config:{parse:x},mono:!0},c))}function w(e){var t=Object.assign({},e);return Object(d.jsx)(s.p,Object(r.a)({type:"textarea",placeholder:"example crew supreme gesture quantum web media hazard theory mercy wing kitten",autoCapitalize:"none",autoComplete:"off",mono:!0},t))}function y(e){var t=Object.assign({},e);return Object(d.jsx)(s.p,Object(r.a)({type:"text",placeholder:v,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off"},t))}function N(e){var t=Object.assign({},e);return Object(d.jsx)(s.p,Object(r.a)({type:"password",placeholder:"Passphrase",autoCapitalize:"none",autoCorrect:"off"},t))}function k(e){var t=e.name,n=(e.size,Object(a.a)(e,p)),c=Object(i.b)(t,{subscription:{value:!0,active:!0,valid:!0,error:!0}}),o=c.input.value,u=c.meta,l=u.active,b=u.valid,j=u.error;return Object(d.jsx)(s.p,Object(r.a)({type:"text",label:"Urbit ID",name:t,placeholder:"~sampel-ponnym",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",accessory:o?Object(d.jsx)(O,{patp:o,size:44,valid:b,error:j,active:l}):null,config:{parse:x},mono:!0},n))}function S(e){var t=Object.assign({},e);return Object(d.jsx)(s.p,Object(r.a)({type:"text",placeholder:"0x",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",mono:!0,config:{parse:o.d}},t))}function I(e){var t=Object.assign({},e);return Object(d.jsx)(S,Object(r.a)({type:"password",placeholder:"a44de2416ee6beb2f323fab48b432925c9785808d33a6ca6d7ba00b45e9370c3",config:{parse:o.f}},t))}function E(e){var t=Object.assign({},e);return Object(d.jsx)(S,Object(r.a)({type:"text",placeholder:"",config:{parse:o.f}},t))}function C(e){var t=Object.assign({},e);return Object(d.jsx)(s.p,Object(r.a)({type:"text",placeholder:"0x",autoCapitalize:"none",autoCorrect:"off",mono:!0},t))}function T(e){var t=Object.assign({},e);return Object(d.jsx)(s.p,Object(r.a)({type:"number",label:"Number",config:{format:o.b}},t))}},43:function(e,t,n){"use strict";var r=n(6),a=n(19),c=n(2),s=n(15),i=n.n(s),o=n(1),u=n(113),l=n(103),b=n(0),j=["className","isExit"],d=function(e){var t=e.className,n=(e.isExit,Object(a.a)(e,j));return Object(b.jsx)(o.n,Object(r.a)(Object(r.a)({className:i()("black",t)},n),{},{children:"<-"}))},f=n(56),h=n(84),O=["className","children","inset","full","hideBack","pop"];function m(e){var t=e.className,n=e.children,s=e.inset,j=void 0!==s&&s,m=e.full,p=void 0!==m&&m,v=e.hideBack,x=void 0!==v&&v,g=e.pop,w=Object(a.a)(e,O),y=Object(f.b)().reset,N=Object(l.a)([!0,!1,!1]),k=j&&!N,S=i()({pt7:k,pt5:!k}),I=Object(c.useCallback)((function(){return g()}),[g]),E=y,C=!!g,T=Object(c.useCallback)((function(e){e.logout;return C?Object(b.jsxs)(o.g.Item,{as:o.g,className:i()(S,"flex-row-r justify-between pb5 align-center"),children:[Object(b.jsx)(o.g.Item,{onClick:E,as:"a",className:"f5 gray4 underline mr2 pointer",children:"Logout"}),Object(b.jsx)(o.g.Item,{as:h.a.Target})]}):Object(b.jsx)(o.g.Item,{className:S,as:h.a.Target})}),[E,S,C]);return Object(b.jsxs)(o.g,Object(r.a)(Object(r.a)({row:!N,col:N,justify:"between",className:i()("minh-100 ph5",{mw1:!p,"mw2 ph9-md ph10-lg":p},t)},w),{},{children:[Object(b.jsx)(o.g.Item,{as:o.g,col:!0,style:{width:"48px"},className:i()(S),children:C&&!x&&Object(b.jsx)(d,{hpadding:!N,vpadding:N,onClick:I,className:"mt1"})}),Object(b.jsxs)(o.g.Item,{flex:1,as:o.g,col:!0,justify:"between",children:[Object(b.jsxs)(o.g.Item,{className:"pb5 ",children:[Object(b.jsx)(T,{logout:I}),n]}),Object(b.jsx)(o.g.Item,{as:u.a.Target})]}),Object(b.jsx)(o.g.Item,{style:{width:"48px"}})]}))}m.Full=function(e){return Object(b.jsx)(m,Object(r.a)({full:!0},e))};t.a=m},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=(n(2),n(50)),c=n(1),s=n(102),i=n(0);function o(e){var t=Object(a.d)({subscription:{submitError:!0,submitErrors:!0,error:!0,dirtySinceLastSubmit:!0}}),n=t.submitError,o=t.submitErrors,u=t.error,l=t.dirtySinceLastSubmit,b=!!u,j=!!n&&!l,d=o&&o[s.a];return j||b||!!d&&!l?Object(i.jsx)(c.f,Object(r.a)(Object(r.a)({},e),{},{children:n||u||d})):null}},46:function(e,t,n){"use strict";n.d(t,"n",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"o",(function(){return p})),n.d(t,"s",(function(){return v})),n.d(t,"r",(function(){return x})),n.d(t,"u",(function(){return g})),n.d(t,"q",(function(){return w})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return I})),n.d(t,"j",(function(){return E})),n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return T})),n.d(t,"k",(function(){return P})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return A})),n.d(t,"p",(function(){return D})),n.d(t,"v",(function(){return F})),n.d(t,"a",(function(){return L})),n.d(t,"t",(function(){return M}));var r=n(34),a=n(206),c=n(85),s=n(33),i=n.n(s),o=n(42),u=n(36),l=(n(76),n(61)),b=n(20),j=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,d=/[0-9A-Fa-f]/,f=/^0x/,h=function(e){return!a.validateMnemonic(e)&&"This is not a valid mnemonic."},O=/^m(\/[0-9]+'?)*$/,m=function(e){return!O.test(e)&&"Invalid HD derivation path."},p=function(e){return(void 0===e||0===e.length)&&"This field is required."},v=function(e){try{if(!i.a.isValidPatp(e))throw new Error}catch(t){return"This is not a valid point."}},x=function(e){try{if(!i.a.isValidPatq(e))throw new Error}catch(t){return"This is not a valid ticket."}},g=function(e){try{if(void 0!==e&&""!==e&&!i.a.isValidPatq(e))throw new Error}catch(t){return"This is not a valid shard."}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return!Object(o.includes)(e,t)&&"Is not a valid option."}},y=function(e){return!d.test(e)&&"This is not a valid hex string."},N=function(e){return!f.test(e)&&"Must include 0x prefix."},k=function(e){return!Object(u.d)(e)&&"This is not a valid Ethereum address."},S=function(e){return!j.test(e)&&"This is not a valid email address."},I=function(e,t){return function(n){return n!==e&&t}},E=function(e){return function(t){return t.length!==e&&"Must be exactly ".concat(e," characters.")}},C=function(e){return function(t){return t.length!==e+2&&"Must be exactly ".concat(e," hex characters.")}},T=function(e){return function(t){return!(t>e)&&"Must be greater than ".concat(e,".")}},P=function(e){return function(t){return!(t<e)&&"Must be less than ".concat(e)}},R=function(e){return t=Object(l.b)(e),function(e){return e.length>t&&"Must be ".concat(t," characters or fewer.")};var t},A=function(e){return t=Object(l.b)(e),function(e){return e.length<t&&"Must be ".concat(t," characters or more.")};var t},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return e.includes(t)&&"Cannot be ".concat(t,".")}}([b.d,b.e]),F=function(e){return Object(r.a)(new Set(e)).length!==e.length&&"Must be unique"},L=function(e){return function(t){return e!==i.a.sein(t)&&"This point is not a child of ".concat(e,".")}},M=function(e){try{c.Psbt.fromBase64(e)}catch(t){return"Invalid Partially Signed Bitcoin Transaction"}}},509:function(e){e.exports=JSON.parse('{"a":"2.10.5"}')},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(42),a=function(e,t){var n=parseInt(e,t);if(Object(r.isNaN)(n))throw new Error("NaN");return n}},528:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(2),a=n(9),c=n(1),s=n(28),i=n(81),o=n(36),u=n(20),l=n(82),b=n(45),j=n(35),d=n(39),f=n(22),h=n(54),O=n(0);function m(t){var n=t.className,m=t.goHome;Object(l.a)(u.r.PRIVATE_KEY);var p=Object(s.b)().setWallet,v=Object(r.useMemo)((function(){return Object(f.r)({privateKey:Object(f.m)(64)})}),[]),x=Object(r.useCallback)((function(t){var n=t.valid,r=t.values;if(n){var c=e.from(Object(o.g)(r.privateKey),"hex"),s=new i.a(c);p(Object(a.Just)(s))}else p(Object(a.Nothing)())}),[p]);return Object(O.jsx)(c.h,{className:n,children:Object(O.jsx)(j.a,{validate:v,onValues:x,afterSubmit:m,children:function(e){var t=e.handleSubmit;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(c.h.Item,{full:!0,as:d.h,name:"privateKey",label:"Private key"}),Object(O.jsx)(c.h.Item,{full:!0,as:b.a}),Object(O.jsx)(c.h.Item,{full:!0,as:h.a,handleSubmit:t,children:"Login"})]})}})})}}).call(this,n(12).Buffer)},530:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A}));var r=n(3),a=n.n(r),c=n(18),s=n(11),i=n(2),o=n(15),u=n.n(o),l=n(9),b=n(1),j=n(42),d=n(85),f=n(207),h=n(208),O=n(132),m=n(28),p=n(117),v=n(20),x=n(82),g=n(103),w=n(22),y=n(35),N=n(45),k=n(54),S=n(73),I=n(53),E=n(39),C=n(114),T=n(0),P=[{text:"Ledger Live",value:p.b},{text:"Ledger Legacy",value:p.a}],R=Object(j.times)(20,(function(e){return{text:"Account #".concat(e+1),value:e}}));function A(t){var n=t.className,r=t.goHome;Object(x.a)(v.r.LEDGER);var o=Object(m.b)(),j=o.setWallet,A=o.setWalletHdPath,D=o.setAuthToken,F=Object(i.useMemo)((function(){return Object(w.r)({useCustomPath:Object(w.d)(),derivationpath:Object(w.o)(P),account:Object(w.o)(R),hdpath:Object(w.f)()})}),[]),L=Object(i.useCallback)(function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s,i,o,u,b,m,x,g;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.create();case 2:return r=t.sent,s=new h.a(r),i=Object(p.d)(n.hdpath),t.prev=5,t.next=8,s.getAddress(i,!1,!0);case 8:return o=t.sent,u=e.from(o.publicKey,"hex"),b=e.from(o.chainCode.toString(),"hex"),m=e.from(Object(O.publicKeyConvert)(u,!0)),x=d.bip32.fromPublicKey(m,b),t.next=15,Object(C.a)({wallet:x,walletType:v.r.LEDGER,walletHdPath:Object(p.c)(n.hdpath)});case 15:g=t.sent,D(Object(l.Just)(g)),j(Object(l.Just)(x)),A(Object(p.c)(n.hdpath)),t.next=25;break;case 21:return t.prev=21,t.t0=t.catch(5),console.error(t.t0),t.abrupt("return",Object(c.a)({},I.b,t.t0.message));case 25:case"end":return t.stop()}}),t,null,[[5,21]])})));return function(e){return t.apply(this,arguments)}}(),[D,j,A]),M=Object(i.useCallback)((function(e){var t=e.valid,n=e.values,r=e.form;t&&(n.useCustomPath||r.change("hdpath",n.derivationpath.replace(/x/g,n.account)))}),[]),_=Object(i.useMemo)((function(){return{useCustomPath:!1,hdpath:P[0].value.replace(/x/g,R[0].value),derivationpath:P[0].value,account:R[0].value}}),[]),W=Object(g.a)([!0,!0,!1]),B=Object(g.a)([!1,!1,!0]),U="https:"===document.location.protocol;return Object(T.jsx)(b.h,{className:n,children:U?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.h.Item,{full:!0,as:b.t,className:"f6 gray4 mb3",children:'Connect and authenticate to your Ledger, and then open the "Ethereum" application. If you\'re running on older firmware, make sure the "browser support" option is turned on. To sign transactions, you\'ll also need to enable the "contract data" option. You will be prompted to sign a message. This allows Bridge to operate correctly. Never sign this message outside of Bridge.'}),Object(T.jsx)(b.h.Item,{full:!0,as:b.t,className:"f6 gray4 mb3",children:"Connecting a Ledger directly is no longer supported in Chrome-based browsers. To log in to Bridge with a Ledger, either use Firefox, add your Ledger to Metamask, or connect through another kind of wallet."}),Object(T.jsx)(y.a,{validate:F,onValues:M,onSubmit:L,afterSubmit:r,initialValues:_,children:function(e){var t=e.handleSubmit,n=e.submitting;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.a,{when:"useCustomPath",is:!0,children:Object(T.jsx)(b.h.Item,{full:!0,as:E.b,name:"hdpath",label:"HD Path"})}),Object(T.jsxs)(S.a,{when:"useCustomPath",is:!1,children:[Object(T.jsx)(b.h.Item,{full:W,half:B&&1,as:b.s,className:u()({pr1:B}),name:"derivationpath",label:"Derivation Path",placeholder:"Choose path pattern...",options:P}),Object(T.jsx)(b.h.Item,{full:W,half:B&&2,as:b.s,className:u()({pl1:B}),name:"account",label:"Account",placeholder:"Choose account...",options:R})]}),Object(T.jsx)(b.h.Item,{full:!0,as:b.e,className:"mv3",name:"useCustomPath",label:"Custom HD Path"}),Object(T.jsx)(b.h.Item,{full:!0,as:N.a}),Object(T.jsxs)(b.h.Item,{full:!0,as:k.a,handleSubmit:t,children:[!n&&"Authenticate",n&&"Please check your device"]})]})}})]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(b.h.Item,{full:!0,as:b.l,children:"Running on HTTP?"}),Object(T.jsx)(b.h.Item,{full:!0,as:b.r,children:"To authenticate and sign transactions with a Ledger, Bridge must be serving over HTTPS on localhost. You can do this via the following:"}),Object(T.jsxs)(b.h.Item,{full:!0,as:"ol",children:[Object(T.jsxs)("li",{children:["Install"," ",Object(T.jsx)("a",{target:"_blank",href:"https://github.com/FiloSottile/mkcert",rel:"noopener noreferrer",children:"mkcert"})]}),Object(T.jsxs)("li",{className:"mt3",children:["Install a local certificate authority via ",Object(T.jsx)("code",{children:"mkcert -install"})]}),Object(T.jsxs)("li",{className:"mt3",children:["In your ",Object(T.jsx)("code",{children:"bridge"})," directory, generate a certificate valid for localhost via ",Object(T.jsx)("code",{children:"mkcert localhost"}),". This will produce two files: ",Object(T.jsx)("code",{children:"localhost.pem"}),", the local certificate, and",Object(T.jsx)("code",{children:"localhost-key.pem"})," , its corresponding private key."]}),Object(T.jsxs)("li",{className:"mt3",children:["Run ",Object(T.jsx)("code",{children:"python bridge-https.py"})]}),Object(T.jsx)("li",{className:"mt3",children:"Return to this page."})]})]})})}}).call(this,n(12).Buffer)},531:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(3),a=n.n(r),c=n(11),s=n(134),i=n(36),o=n(58),u=function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,u,b,j,d,f,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.from,c=n.txn,u=n.txnSigner,b=n.txnSender,(j=c.toJSON()).from=r,j.gas=j.gasLimit,t.prev=4,t.next=7,u(j);case 7:d=t.sent,t.next=18;break;case 10:if(t.prev=10,t.t0=t.catch(4),"METHOD_NOT_SUPPORTED"!==t.t0.message){t.next=17;break}return console.log("connected wc wallet does not support tx signing."),t.abrupt("return",Object(o.a)(j,l(b)));case 17:throw t.t0;case 18:return f=e.from(Object(i.g)(d),"hex"),h=s.Transaction.fromSerializedTx(f),t.abrupt("return",h);case 21:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),l=function(e){return function(t,n){return e(t)}}}).call(this,n(12).Buffer)},532:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n(3),a=n.n(r),c=n(18),s=n(11),i=n(2),o=n(9),u=n(85),l=n(132),b=n(42),j=n(176),d=n.n(j),f=n(1),h=n(28),O=n(155),m=n(20),p=n(82),v=n(114),x=n(22),g=n(35),w=n(73),y=n(45),N=n(54),k=n(53),S=n(39),I=n(0),E=Object(b.times)(20,(function(e){return{text:"Account #".concat(e+1),value:e}}));function C(t){var n=t.className,r=t.goHome;Object(p.a)(m.r.TREZOR);var b=Object(h.b)(),j=b.setWallet,C=b.setWalletHdPath,T=b.setAuthToken,P=Object(i.useMemo)((function(){return Object(x.r)({useCustomPath:Object(x.d)(),account:Object(x.o)(E),hdPath:Object(x.f)()})}),[]),R=Object(i.useCallback)(function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s,i,b,f,h,O,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.a.manifest({email:"bridge-trezor@urbit.org",appUrl:"https://github.com/urbit/bridge"}),t.next=3,d.a.getPublicKey({path:n.hdPath});case 3:if(r=t.sent,s=r.success,i=r.payload,s){t.next=8;break}return t.abrupt("return",Object(c.a)({},k.b,"Failed to authenticate with your Trezor."));case 8:return b=e.from(i.publicKey,"hex"),f=e.from(i.chainCode,"hex"),h=e.from(Object(l.publicKeyConvert)(b,!0)),O=u.bip32.fromPublicKey(h,f),t.next=14,Object(v.a)({wallet:O,walletType:m.r.TREZOR,walletHdPath:n.hdPath});case 14:p=t.sent,T(Object(o.Just)(p)),j(Object(o.Just)(O)),C(n.hdPath);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[T,j,C]),A=Object(i.useCallback)((function(e){var t=e.valid,n=e.values,r=e.form;t&&(n.useCustomPath||r.change("hdPath",O.a.replace(/x/g,n.account)))}),[]),D=Object(i.useMemo)((function(){return{useCustomPath:!1,hdPath:O.a.replace(/x/g,E[0].value),account:E[0].value}}),[]);return Object(I.jsxs)(f.h,{className:n,children:[Object(I.jsx)(f.h.Item,{full:!0,as:f.t,className:"f6 gray4 mb3",children:'Connect and authenticate to your Trezor. If you\'d like to use a custom derivation path, you may enter it below. Upon login, you will prompted to sign the message "Bridge Authentication Token". This allows Bridge to operate correctly. Never sign this message outside of Bridge.'}),Object(I.jsx)(g.a,{validate:P,onValues:A,onSubmit:R,afterSubmit:r,initialValues:D,children:function(e){var t=e.handleSubmit,n=e.submitting;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(w.a,{when:"useCustomPath",is:!0,children:Object(I.jsx)(f.h.Item,{full:!0,as:S.b,name:"hdPath",label:"HD Path"})}),Object(I.jsx)(w.a,{when:"useCustomPath",is:!1,children:Object(I.jsx)(f.h.Item,{full:!0,as:f.s,name:"account",label:"Account",placeholder:"Choose account...",options:E})}),Object(I.jsx)(f.h.Item,{full:!0,as:f.e,className:"mv3",name:"useCustomPath",label:"Custom HD Path"}),Object(I.jsx)(f.h.Item,{full:!0,as:y.a}),Object(I.jsxs)(f.h.Item,{full:!0,as:N.a,handleSubmit:t,children:[!n&&"Authenticate",n&&"Please check your device"]})]})}})]})}}).call(this,n(12).Buffer)},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),a=n(19),c=(n(2),n(15)),s=n.n(c),i=n(50),o=n(29),u=n(57),l=n(102),b=n(0),j=["as","className","children","handleSubmit"];function d(e){var t=e.as,n=void 0===t?o.c:t,c=e.className,d=e.children,f=e.handleSubmit,h=Object(a.a)(e,j),O=Object(i.d)(),m=O.valid,p=O.validating,v=O.submitting,x=O.hasValidationErrors,g=O.hasSubmitErrors,w=O.dirtySinceLastSubmit,y=O.submitErrors,N=O.submitSucceeded,k=Object(l.b)(y),S=(m||g&&(w||k))&&!p&&!x&&!v&&!N,I=k&&!w&&(S||v);return Object(b.jsx)(n,Object(r.a)(Object(r.a)({type:"submit",className:s()("mt4",c),disabled:!S,accessory:Object(u.a)(p||v),onClick:f,solid:!0},h),{},{children:"function"===typeof d?d(I):d}))}},541:function(e,t,n){var r=n(124),a=n(1096),c=r.Cell,s=n(1097),i=r.Atom.yes,o=r.Atom.no,u=r.Atom.fromInt,l=u(2),b=u(3),j=n(1098).NounMap;function d(e,t){var n,r,a,l,b,j,d,f,h,O;for(O=s.add(e,u(s.met(0,t))),b=e;i.equals(s.cut(i,b,o,t));){if(j=s.add(o,b),s.gth(b,O))throw new Error("Bail");b=j}return e.equals(b)?new c(o,i):(n=s.sub(b,e),r=s.add(b,o),b=s.dec(n),j=s.bex(b),d=s.cut(i,r,b,t),a=s.add(j,d),l=s.add(n,n),j=s.add(l,a),d=s.add(r,b),f=s.add(l,a),h=s.cut(i,d,a,t),new c(f,h))}function f(e,t,n){var r,a,u,b,j,h,O,m,p,v;if(i.equals(s.cut(i,n,o,t)))r=d(v=s.add(n,o),t),O=s.add(r.head,o),m=r.tail,e.insert(n,m);else if(r=s.add(l,n),a=s.add(o,n),i.equals(s.cut(i,a,o,t)))u=f(e,t,r),b=f(e,t,v=s.add(u.head,r)),j=new c(u.tail.head,b.tail.head),h=s.add(u.head,b.head),O=s.add(l,h),m=j,e.insert(n,m);else{if(p=d(r,t),void 0===(v=e.get(p.tail)))throw new Error("Bail");O=s.add(l,p.head),m=v}return new c(O,new c(m,i))}function h(e){if(i.equals(e))return r.dwim(1,1);var t=r.dwim(s.met(0,e)),n=r.dwim(s.met(0,t)),a=s.dec(n),c=s.add(n,n),o=s.end(i,a,t),u=s.bex(n),l=s.lsh(i,a,e),b=s.mix(o,l),j=s.add(c,t),d=s.cat(i,u,b);return r.dwim(j,d)}function O(e,t,n){var a=h(t),c=s.add(o,a.head);return r.dwim(c,[[c,s.lsh(i,o,a.tail)],n],i)}function m(e,t,n,a){var c=e.get(t);return void 0===c?(e.insert(t,n),t.deep?function(e,t,n,a,c){var o=r.dwim([2,1],c),u=s.add(l,a),b=m(e,t,u,o),j=m(e,n,s.add(u,b.head),b.tail.head),d=s.add(b.head,j.head);return r.dwim(s.add(l,d),j.tail.head,i)}(e,t.head,t.tail,n,a):O(0,t,a)):!t.deep&&s.met(0,t)<=s.met(0,c)?O(0,t,a):function(e,t,n){var a=h(t),c=s.lsh(i,l,a.tail),o=s.add(l,a.head);return r.dwim(o,[[o,s.mix(b,c)],n],i)}(0,c,a)}e.exports={cue:function(e){return f(new j,e,i).tail.head},mat:h,jam:function(e){var t=m(new j,e,i,i),n=a.flop(t.tail.head);return s.can(i,n)}}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));n(6);var r=n(2),a=n(101),c=n(26),s=n(0),i=Object(r.createContext)(null);function o(e){var t=e.names,n=e.views,r=e.initialRoutes,o=e.children,u=Object(a.a)({names:t,views:n,initialRoutes:r});return Object(s.jsx)(i.Provider,{value:u,children:Object(s.jsx)(c.a,{value:u,children:o})})}function u(){return Object(r.useContext)(i)}},57:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(10),a=n(2),c=n(42);n(250);var s=n(0),i=function(e){return[4,2,2].map((function(t){return Object(c.times)(t,(function(){return e})).join("")})).join(".")},o=(i("\u2593"),i("\u2591"),function(e){return e.matchWith({Nothing:function(){return Object(s.jsx)(l,{delayed:!0})},Just:function(e){return e.value}})}),u=function(e,t){return e?Object(s.jsx)(l,{}):t};function l(e){var t=e.a,n=void 0===t?"\u2593":t,c=e.b,i=void 0===c?"\u2591":c,o=e.delayed,u=void 0!==o&&o,l=Object(a.useState)(!0),b=Object(r.a)(l,2),j=b[0],d=b[1],f=Object(a.useRef)(new Date);return function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){(!u||new Date-f.current>2500)&&d((function(e){return!e}))}),1e3),Object(s.jsx)("span",{className:"arial",children:j?n:i})}},579:function(e,t){},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return N})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return I}));var r=n(34),a=n(3),c=n.n(a),s=n(11),i=n(178),o=n.n(i),u=n(134),l=n(31),b=n(61),j=n(254),d=n.n(j),f=n(63),h=n(117),O=n(155),m=n(531),p=n(253),v=n(36),x=n(20),g=(n(76),{retries:99999,factor:1,minTimeout:x.a,randomize:!1}),w=function(e,t){return{txn:e,serialize:function(){return"???"},send:t}},y=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,a,s,j,d,v,g,w,y,N,k,S,I,E,C,T,P,R,A,D;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.wallet,r=t.walletType,a=t.walletHdPath,s=t.networkType,j=t.txn,d=t.nonce,v=t.chainId,g=t.gasPrice,w=t.gasLimit,y=t.txnSigner,N=t.txnSender,d=Object(l.toHex)(d),v=Object(l.toHex)(v),g=Object(l.toHex)(Object(b.d)(g,"gwei")),w=Object(l.toHex)(w),k=n.address,S={nonce:d,chainId:v,gasPrice:g,gasLimit:w,from:k},I={r:"0x00",s:"0x00",v:v},E=[f.a.MAINNET,f.a.ROPSTEN,f.a.OFFLINE],C=r===x.r.LEDGER&&E.includes(s),T=C?Object.assign(S,I):S,P=Object.assign(j,T),R={freeze:!1},C||(A=s===f.a.ROPSTEN?i.Chain.Ropsten:i.Chain.Mainnet,R.common=new o.a({chain:A,hardfork:i.Hardfork.MuirGlacier})),D=u.Transaction.fromTxData(P,R),r!==x.r.LEDGER){e.next=20;break}return e.next=18,Object(h.f)(D,a);case 18:e.next=36;break;case 20:if(r!==x.r.TREZOR){e.next=25;break}return e.next=23,Object(O.c)(D,a);case 23:e.next=36;break;case 25:if(r!==x.r.METAMASK){e.next=29;break}return e.abrupt("return",Object(p.b)(P,n.address));case 29:if(r!==x.r.WALLET_CONNECT){e.next=35;break}return e.next=32,Object(m.a)({from:k,txn:D,txnSigner:y,txnSender:N});case 32:D=e.sent,e.next=36;break;case 35:D=D.sign(n.privateKey);case 36:return e.abrupt("return",D);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t,n){if(!(t instanceof u.Transaction)){if(n&&console.log("why doubting nonce error? tank unavailable without rawtx."),!t.send)throw new Error("no sign+sending function available");return t.send(t.txn,e)}var r=I(t.serialize()),a=e.eth.sendSignedTransaction(r);return new Promise(function(){var t=Object(s.a)(c.a.mark((function t(s,i){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.on("transactionHash",(function(e){s(e)})).on("error",(function(t){var a="string"===typeof t?t:t.message||"",c=a.includes("known transaction")||a.includes("already known"),o=a.includes("the tx doesn't have the correct nonce.")||a.includes("nonce too low");if(r&&(c||n&&o)){console.log("tx send error likely from gas tank submission, ignoring:",a);var u=e.utils.keccak256(r);s(u)}else{console.error(t);var l=t instanceof Error?t:new Error(a);i(l)}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},k=function(e,t){return d()(function(){var n=Object(s.a)(c.a.mark((function n(r,a){var s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.eth.getTransactionReceipt(t);case 2:if(s=n.sent,null!==s){n.next=6;break}throw new Error("Transaction not confirmed.");case 6:if(!0===s.status){n.next=9;break}return n.abrupt("return",r(new Error("Transaction failed.")));case 9:return n.abrupt("return",s);case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),g)},S=function(e,t,n){return t.reduce((function(t,a){return t.then(Object(s.a)(c.a.mark((function t(){var s,i,o=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.length>0&&void 0!==o[0]?o[0]:[],t.next=3,N(e,a,n);case 3:return i=t.sent,t.t0=[],t.t1=Object(r.a)(s),t.next=8,k(e,i);case 8:return t.t2=t.sent,t.t3=[t.t2],t.abrupt("return",t.t0.concat.call(t.t0,t.t1,t.t3));case 11:case"end":return t.stop()}}),t)}))))}),Promise.resolve())},I=function(e){return Object(v.b)(e.toString("hex"))}},583:function(e,t){},587:function(e,t){},61:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o}));n(33),n(76);var r=n(31),a=function(e,t){try{return Object(r.fromWei)(Object(r.toBN)(e),t)}catch(n){throw n.message="(safeFromWei got ".concat(typeof e," (").concat(e,"), made ").concat(typeof Object(r.toBN)(e),". Please report this issue!) ")+n.message,n}},c=function(e,t){try{return Object(r.toWei)(Object(r.toBN)(e),t)}catch(n){throw n.message="(safeToWei got ".concat(typeof e," (").concat(e,"), made ").concat(typeof Object(r.toBN)(e),". Please report this issue!) ")+n.message,n}},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduceRight((function(e,t){return function(){return t(e.apply(void 0,arguments))}}),(function(e){return e}))},i=function(e,t,n){return"".concat(e.slice(0,t)).concat(n).concat(e.slice(t))},o=function(e){return 3*e+Math.ceil(e/2)}},612:function(e,t){},614:function(e,t){},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i}));var r=n(509),a=!1,c="true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_ENDPOINT:"2599df54929b47099bda360958d75aaf"}).REACT_APP_ROPSTEN,s="true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_ENDPOINT:"2599df54929b47099bda360958d75aaf"}).REACT_APP_MAINNET,i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_ENDPOINT:"2599df54929b47099bda360958d75aaf"}).REACT_APP_BRIDGE_VERSION||"".concat(r.a).concat(c?"r":"")},626:function(e,t){},628:function(e,t){},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={OFFLINE:Symbol("OFFLINE"),LOCAL:Symbol("LOCAL"),ROPSTEN:Symbol("ROPSTEN"),MAINNET:Symbol("MAINNET")},a=function(e){switch(e){case"0x1":return r.MAINNET;case"0x3":return r.ROPSTEN;default:return r.LOCAL}}},692:function(e,t){},694:function(e,t){},70:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return k}));var r=n(3),a=n.n(r),c=n(11),s=n(4),i=n.n(s),o=n(9),u=n(124),l=n(541),b=n(115),j=n(36),d=n(173),f=1,h="0x0000000000000000000000000000000000000000000000000000000000000000",O=function(e){return b.deriveNetworkKeys(e)},m=function(e){return e.crypt.private+e.auth.private+"42"},p=function(t,n,r){var a=new i.a(m(t),"hex");return function(e){for(var t=e.reverse().toString("hex"),n=new i.a(t,"hex"),r=[];1===n.cmpn(0);)r.push(n.andln(63)),n=n.shrn(6);return"0w"+r.reduce((function(e,t,n){return String.fromCharCode(10>(r=t)?r+48:36>r?r+87:62>r?r+29:62===r?45:126)+(n&&0===n%5?".":"")+e;var r}),"")}(function(t){var n=l.jam(t).toString().slice(2),r=n.length%2===0?n:"0"+n;return e.from(r,"hex").reverse()}(u.dwim(u.Atom.fromInt(n),u.Atom.fromInt(r),u.Atom.fromString(a.toString()),u.Atom.yes)))},v=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,e.next=3,g(t.management.seed,t.meta.passphrase,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.length>3&&void 0!==s[3]?s[3]:1,!Object(j.c)(t.address,r.managementProxy)){e.next=6;break}return e.next=5,g(n,t.passphrase,c);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",Object(o.Nothing)());case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o.Just,e.next=3,b.deriveNetworkSeed(t,n,r-1);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(t,n,r){var a=e.from("revision-".concat(t,"-").concat(r-1)),c=Object(d.b)(n,a).toString("hex").slice(0,32);return Object(o.Just)(c)},y=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,s,i,u,l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urbitWallet,r=t.wallet,c=t.authMnemonic,s=t.details,i=t.point,u=t.authToken,l=t.revision,!o.Just.hasInstance(n)){e.next=5;break}return e.next=4,v(n.value,l);case 4:return e.abrupt("return",e.sent);case 5:if(!o.Just.hasInstance(r)||!o.Just.hasInstance(c)){e.next=11;break}return e.next=8,x(r.value,c.value,s,l);case 8:if(b=e.sent,!o.Just.hasInstance(b)){e.next=11;break}return e.abrupt("return",b);case 11:if(!o.Just.hasInstance(u)){e.next=13;break}return e.abrupt("return",w(i,u.value,l));case 13:return e.abrupt("return",Object(o.Nothing)());case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t){var n=e.crypt,r=e.auth,a=t.encryptionKey,c=t.authenticationKey;return a===Object(j.b)(n.public)&&c===Object(j.b)(r.public)},k=function(e){if(e===h)return null;var t=function(t){return e.slice(t,t+4)},n=function(e){return"".concat(t(e),".").concat(t(e+4),".").concat(t(e+8),".").concat(t(e+12))};return[n(2),n(18),n(34),n(50)]}}).call(this,n(12).Buffer)},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(50);function a(e){var t=e.when,n=e.is,a=e.children;return Object(r.b)(t,{subscription:{value:!0}}).input.value===n?a:null}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(33),a=n.n(r),c=n(52),s=function(e){return Object(c.a)(a.a.patp2dec(e),10)}},777:function(e,t){},778:function(e,t){},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(3),a=n.n(r),c=n(11),s=n(206),i=n(85),o=n(9),u=n(132),l=n(115),b=n(36);function j(e){this.privateKey=e,this.publicKey=u.publicKeyCreate(this.privateKey),this.address=Object(b.f)(this.publicKey)}var d=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.generateWallet({ticket:t,ship:n,passphrase:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(e,t,n,r){var a=r||s.validateMnemonic(e)?Object(o.Just)(s.mnemonicToSeedSync(e,n)):Object(o.Nothing)();return a.chain((function(e){return function(e,t){var r;return(r=i.bip32.fromSeed(e).derivePath(t)).address=Object(b.f)(r.publicKey),r.passphrase=n||"",Object(o.Just)(r)}(e,t)}))}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(9),c=n(28),s=n(25);function i(e){var t=Object(c.b)(),n=t.setWalletType,i=t.resetWallet,o=Object(s.b)().setPointCursor;Object(r.useEffect)((function(){i(),n(e),o(Object(a.Nothing)())}),[n,e,o,i])}},84:function(e,t,n){"use strict";var r=n(6),a=(n(2),n(249)),c=n(0),s=Object(a.a)(),i=s.Source;i.Target=function(e){return Object(c.jsx)(s.Target,Object(r.a)({as:"div"},e))},t.a=i},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return j}));var r=n(34),a=n(61),c=n(52),s="0x",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.a.apply(void 0,Object(r.a)(e.reverse()))},o=function(e){if(!e||0===e.length)return e||"";for(var t=function(e){return 7*e},n=0;16!==n;n++){var r=t(n);if(e.length-1<r)return e;var c=0===n?"~":"-";e.charAt(r)!==c&&(e=Object(a.e)(e,r,c))}return e},u=function(e){return!e||e.length<s.length?e||"":0!==e.indexOf(s)?"".concat(s).concat(e):e},l=function(e){if(!e)return e||"";try{return Object(c.a)(e,10)}catch(t){return 0}},b=function(e){return e?e.toLowerCase():e},j=function(e){return e&&0===e.toLowerCase().indexOf(s)?e.slice(s.length):e}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(61);var r={MISSING_WEB3:"no web3 object found",MISSING_WALLET:"no wallet found",MISSING_TXN:"no transaction found",MISSING_CONTRACTS:"no contracts found",MISSING_KEYSTORE:"no keystore text found",MISSING_MNEMONIC:"no authentication mnemonic found",MISSING_URBIT_WALLET:"no urbit wallet found",MISSING_POINT:"no point found",MISSING_POINT_DETAILS:"no details of point found",INVALID_ROUTE:"invalid route",INVALID_NETWORK_TYPE:"invalid network type",INVALID_WALLET_TYPE:"invalid wallet type"}},934:function(e,t){}},[[1102,1,2]]]);
//# sourceMappingURL=main.c02dd66f.chunk.js.map